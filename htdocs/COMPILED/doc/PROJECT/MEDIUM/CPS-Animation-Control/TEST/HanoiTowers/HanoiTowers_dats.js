/*
**
** The JavaScript code is generated by atscc2js
** The starting compilation time is: 2017-11-20: 11h:24m
**
*/

/* ATSextcode_beg() */
function
height_get()
{
  return parseInt
  (
    document.getElementById("param_height").value
  ); // end-of-return
}
function
ndelay_get()
{
  return parseInt
  (
    document.getElementById("param_ndelay").value
  ); // end-of-return
}
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
document_getElementById
  (id)
{
  return document.getElementById(id);
}
//
function
xmldoc_set_innerHTML
  (xmldoc, text)
  { xmldoc.innerHTML = text; return; }
//
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
button_enable(button)
{
  button.disabled=false; return;
}
function
button_disable(button)
{
  button.disabled = true; return;
}
/* ATSextcode_end() */

var CPS_056_Animation_056_Control__theStartButton

var CPS_056_Animation_056_Control__theResetButton

var CPS_056_Animation_056_Control__thePauseButton

var CPS_056_Animation_056_Control__theStep1Button

var CPS_056_Animation_056_Control__theResumeButton

var _HanoiTowers__statmp12

var _HanoiTowers__statmp17

var _HanoiTowers__statmp18

var _HanoiTowers__statmp19

var _HanoiTowers__statmp20

var _HanoiTowers__statmp21

var _HanoiTowers__statmp29

var _HanoiTowers__statmp30

function
_HanoiTowers__patsfun_2__closurerize(env0, env1, env2, env3, env4)
{
  return [function(cenv) { return _HanoiTowers__patsfun_2(cenv[1], cenv[2], cenv[3], cenv[4], cenv[5]); }, env0, env1, env2, env3, env4];
}


function
_HanoiTowers__patsfun_3__closurerize(env0, env1, env2, env3, env4)
{
  return [function(cenv) { return _HanoiTowers__patsfun_3(cenv[1], cenv[2], cenv[3], cenv[4], cenv[5]); }, env0, env1, env2, env3, env4];
}


function
_HanoiTowers__patsfun_10__closurerize(env0)
{
  return [function(cenv, arg0) { return _HanoiTowers__patsfun_10(cenv[1], arg0); }, env0];
}


function
_HanoiTowers__patsfun_11__closurerize(env0)
{
  return [function(cenv, arg0) { return _HanoiTowers__patsfun_11(cenv[1], arg0); }, env0];
}


function
_HanoiTowers__patsfun_13__closurerize(env0)
{
  return [function(cenv, arg0) { return _HanoiTowers__patsfun_13(cenv[1], arg0); }, env0];
}


function
_HanoiTowers__patsfun_17__closurerize(env0, env1, env2, env3)
{
  return [function(cenv, arg0) { return _HanoiTowers__patsfun_17(cenv[1], cenv[2], cenv[3], cenv[4], arg0); }, env0, env1, env2, env3];
}


function
_HanoiTowers__patsfun_20__closurerize()
{
  return [function(cenv) { return _HanoiTowers__patsfun_20(); }];
}


function
_HanoiTowers__patsfun_21__closurerize()
{
  return [function(cenv) { return _HanoiTowers__patsfun_21(); }];
}


function
HanoiTowers__nmove(arg0, arg1, arg2, arg3)
{
//
// knd = 1
  var apy0
  var apy1
  var apy2
  var apy3
  var tmp1
  var tmp3
  var tmp5
  var funlab_js
  var tmplab, tmplab_js
//
  while(true) {
    funlab_js = 0;
    // __patsflab_nmove
    tmp1 = ats2jspre_gt_int0_int0(arg0, 0);
    if(tmp1) {
      tmp3 = ats2jspre_sub_int0_int0(arg0, 1);
      HanoiTowers__nmove(tmp3, arg1, arg3, arg2);
      HanoiTowers__move(arg1, arg2);
      tmp5 = ats2jspre_sub_int0_int0(arg0, 1);
      // ATStailcalseq_beg
      apy0 = tmp5;
      apy1 = arg3;
      apy2 = arg2;
      apy3 = arg1;
      arg0 = apy0;
      arg1 = apy1;
      arg2 = apy2;
      arg3 = apy3;
      funlab_js = 1; // __patsflab_nmove
      // ATStailcalseq_end
    } else {
      // ATSINSmove_void
    } // end-of-if
    if (funlab_js > 0) continue; else return/*_void*/;
  } // endwhile-fun
} // end-of-function


function
HanoiTowers__k_nmove(arg0, arg1, arg2, arg3, arg4)
{
//
// knd = 1
  var apy0
  var apy1
  var apy2
  var apy3
  var apy4
  var tmp7
  var tmp8
  var funlab_js
  var tmplab, tmplab_js
//
  while(true) {
    funlab_js = 0;
    // __patsflab_k_nmove
    tmp7 = ats2jspre_gt_int0_int0(arg0, 0);
    if(tmp7) {
      tmp8 = ats2jspre_sub_int0_int0(arg0, 1);
      // ATStailcalseq_beg
      apy0 = tmp8;
      apy1 = arg1;
      apy2 = arg3;
      apy3 = arg2;
      apy4 = _HanoiTowers__patsfun_2__closurerize(arg0, arg1, arg2, arg3, arg4);
      arg0 = apy0;
      arg1 = apy1;
      arg2 = apy2;
      arg3 = apy3;
      arg4 = apy4;
      funlab_js = 1; // __patsflab_k_nmove
      // ATStailcalseq_end
    } else {
      arg4[0](arg4);
    } // end-of-if
    if (funlab_js > 0) continue; else return/*_void*/;
  } // endwhile-fun
} // end-of-function


function
_HanoiTowers__patsfun_2(env0, env1, env2, env3, env4)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_2
  HanoiTowers__k_move(env1, env2, _HanoiTowers__patsfun_3__closurerize(env0, env1, env2, env3, env4));
  return/*_void*/;
} // end-of-function


function
_HanoiTowers__patsfun_3(env0, env1, env2, env3, env4)
{
//
// knd = 0
  var tmp11
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_3
  tmp11 = ats2jspre_sub_int0_int0(env0, 1);
  HanoiTowers__k_nmove(tmp11, env3, env2, env1, env4);
  return/*_void*/;
} // end-of-function


function
HanoiTowers__N_get()
{
//
// knd = 0
  var tmpret13
  var tmplab, tmplab_js
//
  // __patsflab_N_get
  tmpret13 = ats2jspre_ref_get_elt(_HanoiTowers__statmp12);
  return tmpret13;
} // end-of-function


function
HanoiTowers__N_set(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_N_set
  ats2jspre_ref_set_elt(_HanoiTowers__statmp12, arg0);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__execute_after(arg0, arg1)
{
//
// knd = 0
  var tmp16
  var tmplab, tmplab_js
//
  // __patsflab_execute_after
  tmp16 = ats2jspre_cloref2fun0(arg1);
  setTimeout(tmp16, arg0);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__button_enable(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_button_enable
  button_enable(arg0);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__button_disable(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_button_disable
  button_disable(arg0);
  return/*_void*/;
} // end-of-function


function
HanoiTowers__k_move(arg0, arg1, arg2)
{
//
// knd = 0
  var tmp32
  var tmp33
  var tmp34
  var tmp37
  var tmp40
  var tmp41
  var tmp42
  var tmp45
  var tmplab, tmplab_js
//
  // __patsflab_k_move
  tmp32 = ats2jspre_ML_array0_get_at(_HanoiTowers__statmp30, arg0);
  tmp33 = ats2jspre_ML_array0_get_at(_HanoiTowers__statmp30, arg1);
  tmp34 = array0_find_index(tmp32, _HanoiTowers__patsfun_10__closurerize(tmp32));
  tmp37 = array0_find_index(tmp33, _HanoiTowers__patsfun_11__closurerize(tmp33));
  tmp41 = ats2jspre_gte_int1_int1(tmp37, 0);
  if(tmp41) {
    tmp40 = tmp37;
  } else {
    tmp40 = ats2jspre_ML_array0_size(tmp33);
  } // end-of-if
  tmp42 = ats2jspre_ML_array0_get_at(tmp32, tmp34);
  ats2jspre_ML_array0_set_at(tmp32, tmp34, 0);
  tmp45 = ats2jspre_sub_int0_int0(tmp40, 1);
  ats2jspre_ML_array0_set_at(tmp33, tmp45, tmp42);
  HanoiTowers__HanoiTowers_stage();
  CPS_056_Animation_056_Control__theCont1_save(arg2);
  return/*_void*/;
} // end-of-function


function
_HanoiTowers__patsfun_10(env0, arg0)
{
//
// knd = 0
  var tmpret35
  var tmp36
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_10
  tmp36 = ats2jspre_ML_array0_get_at(env0, arg0);
  tmpret35 = ats2jspre_gt_int0_int0(tmp36, 0);
  return tmpret35;
} // end-of-function


function
_HanoiTowers__patsfun_11(env0, arg0)
{
//
// knd = 0
  var tmpret38
  var tmp39
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_11
  tmp39 = ats2jspre_ML_array0_get_at(env0, arg0);
  tmpret38 = ats2jspre_gt_int0_int0(tmp39, 0);
  return tmpret38;
} // end-of-function


function
HanoiTowers__thePoles_init()
{
//
// knd = 0
  var tmp48
  var tmp49
  var tmp51
  var tmp53
  var tmp55
  var tmp56
  var tmp57
  var tmplab, tmplab_js
//
  // __patsflab_thePoles_init
  tmp48 = HanoiTowers__N_get();
  tmp49 = ats2jspre_max_int1_int1(tmp48, 0);
  tmp51 = ats2jspre_ML_array0_make_elt(tmp49, 0);
  ats2jspre_ML_array0_set_at(_HanoiTowers__statmp30, 0, tmp51);
  tmp53 = ats2jspre_ML_array0_make_elt(tmp49, 0);
  ats2jspre_ML_array0_set_at(_HanoiTowers__statmp30, 1, tmp53);
  tmp55 = ats2jspre_ML_array0_make_elt(tmp49, 0);
  ats2jspre_ML_array0_set_at(_HanoiTowers__statmp30, 2, tmp55);
  tmp56 = ats2jspre_ML_array0_get_at(_HanoiTowers__statmp30, 0);
  tmp57 = ats2jspre_ML_array0_foreach_method(tmp56);
  tmp57[0](tmp57, _HanoiTowers__patsfun_13__closurerize(tmp56));
  return/*_void*/;
} // end-of-function


function
_HanoiTowers__patsfun_13(env0, arg0)
{
//
// knd = 0
  var tmp59
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_13
  tmp59 = ats2jspre_add_int1_int1(arg0, 1);
  ats2jspre_ML_array0_set_at(env0, arg0, tmp59);
  return/*_void*/;
} // end-of-function


function
HanoiTowers__thePoles_show()
{
//
// knd = 0
  var tmp61
  var tmp62
  var tmp63
  var tmp64
  var tmp76
  var tmp77
  var tmp78
  var tmplab, tmplab_js
//
  // __patsflab_thePoles_show
  tmp61 = ats2jspre_ML_array0_get_at(_HanoiTowers__statmp30, 0);
  tmp62 = ats2jspre_ML_array0_get_at(_HanoiTowers__statmp30, 1);
  tmp63 = ats2jspre_ML_array0_get_at(_HanoiTowers__statmp30, 2);
  tmp64 = ats2jspre_ML_array0_size(tmp61);
  tmp77 = ats2jspre_mul_int1_int1(2, tmp64);
  tmp76 = ats2jspre_add_int1_int1(tmp77, 6);
  tmp78 = ats2jspre_int_foreach_method(tmp64);
  tmp78[0](tmp78, _HanoiTowers__patsfun_17__closurerize(tmp61, tmp62, tmp63, tmp76));
  return/*_void*/;
} // end-of-function


function
_HanoiTowers__dshow1_15(arg0)
{
//
// knd = 0
  var tmp66
  var tmp69
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__dshow1_15
  tmp66 = ats2jspre_gt_int0_int0(arg0, 0);
  if(tmp66) {
    ats2jspre_print_string("O");
    tmp69 = ats2jspre_sub_int0_int0(arg0, 1);
    _HanoiTowers__dshow1_15(tmp69);
    ats2jspre_print_string("O");
  } else {
    ats2jspre_print_string("|");
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
_HanoiTowers__dshow2_16(arg0, arg1)
{
//
// knd = 0
  var tmp71
  var tmp72
  var tmp75
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__dshow2_16
  tmp72 = ats2jspre_mul_int0_int0(2, arg1);
  tmp71 = ats2jspre_gt_int0_int0(arg0, tmp72);
  if(tmp71) {
    ats2jspre_print_string(" ");
    tmp75 = ats2jspre_sub_int0_int0(arg0, 2);
    _HanoiTowers__dshow2_16(tmp75, arg1);
    ats2jspre_print_string(" ");
  } else {
    _HanoiTowers__dshow1_15(arg1);
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
_HanoiTowers__patsfun_17(env0, env1, env2, env3, arg0)
{
//
// knd = 0
  var tmp81
  var tmp83
  var tmp85
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_17
  tmp81 = ats2jspre_ML_array0_get_at(env0, arg0);
  _HanoiTowers__dshow2_16(env3, tmp81);
  tmp83 = ats2jspre_ML_array0_get_at(env1, arg0);
  _HanoiTowers__dshow2_16(env3, tmp83);
  tmp85 = ats2jspre_ML_array0_get_at(env2, arg0);
  _HanoiTowers__dshow2_16(env3, tmp85);
  ats2jspre_print_newline();
  return/*_void*/;
} // end-of-function


function
HanoiTowers__HanoiTowers_stage()
{
//
// knd = 0
  var tmp87
  var tmp90
  var tmplab, tmplab_js
//
  // __patsflab_HanoiTowers_stage
  tmp87 = document_getElementById("theStage");
  ats2jspre_the_print_store_clear();
  HanoiTowers__thePoles_show();
  tmp90 = ats2jspre_the_print_store_join();
  xmldoc_set_innerHTML(tmp87, tmp90);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__theCont0_init()
{
//
// knd = 0
  var tmpret91
  var tmp93
  var tmp95
  var tmplab, tmplab_js
//
  // __patsflab_theCont0_init
  tmp93 = height_get();
  HanoiTowers__N_set(tmp93);
  tmp95 = ndelay_get();
  CPS_056_Animation_056_Control__theNDelay_set(tmp95);
  HanoiTowers__thePoles_init();
  HanoiTowers__HanoiTowers_stage();
  tmpret91 = _HanoiTowers__patsfun_20__closurerize();
  return tmpret91;
} // end-of-function


function
_HanoiTowers__patsfun_20()
{
//
// knd = 0
  var tmp99
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_20
  tmp99 = HanoiTowers__N_get();
  HanoiTowers__k_nmove(tmp99, 0, 1, 2, _HanoiTowers__patsfun_21__closurerize());
  return/*_void*/;
} // end-of-function


function
_HanoiTowers__patsfun_21()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab__HanoiTowers__patsfun_21
  ats2jspre_alert("HanoiTowers: Done!");
  theResetButton_action();
  return/*_void*/;
} // end-of-function

// dynloadflag_minit
var _057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_HanoiTowers_057_HanoiTowers_056_dats__dynloadflag = 0;

function
_057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_HanoiTowers_057_HanoiTowers_056_dats__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // ATSdynload()
  // ATSdynloadflag_sta(_057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_HanoiTowers_057_HanoiTowers_056_dats__dynloadflag(217))
  if(ATSCKiseqz(_057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_HanoiTowers_057_HanoiTowers_056_dats__dynloadflag)) {
    _057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_HanoiTowers_057_HanoiTowers_056_dats__dynloadflag = 1 ; // flag is set
    _HanoiTowers__statmp12 = ats2jspre_ref(8);
    _HanoiTowers__statmp17 = document_getElementById("theStartButton");
    CPS_056_Animation_056_Control__theStartButton = _HanoiTowers__statmp17;
    _HanoiTowers__statmp18 = document_getElementById("theResetButton");
    CPS_056_Animation_056_Control__theResetButton = _HanoiTowers__statmp18;
    _HanoiTowers__statmp19 = document_getElementById("thePauseButton");
    CPS_056_Animation_056_Control__thePauseButton = _HanoiTowers__statmp19;
    _HanoiTowers__statmp20 = document_getElementById("theStep1Button");
    CPS_056_Animation_056_Control__theStep1Button = _HanoiTowers__statmp20;
    _HanoiTowers__statmp21 = document_getElementById("theResumeButton");
    CPS_056_Animation_056_Control__theResumeButton = _HanoiTowers__statmp21;
    CPS_056_Animation_056_Control__button_enable(CPS_056_Animation_056_Control__theResetButton);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__theStartButton);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__thePauseButton);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__theStep1Button);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__theResumeButton);
    _HanoiTowers__statmp29 = ats2jspre_ML_array0_make_elt(0, 0);
    _HanoiTowers__statmp30 = ats2jspre_ML_array0_make_elt(3, _HanoiTowers__statmp29);
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
HanoiTowers__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  _057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_HanoiTowers_057_HanoiTowers_056_dats__dynload();
  return/*_void*/;
} // end-of-function


/* ATSextcode_beg() */
//
function
HanoiTowers__initize()
{
//
CPS_Animation_Control__dynload
(); HanoiTowers__dynload(); return;
//
} // end of [HanoiTowers__initize]
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
jQuery(document).ready(function(){HanoiTowers__initize();});
//
/* ATSextcode_end() */

/* ****** ****** */

/* end-of-compilation-unit */
