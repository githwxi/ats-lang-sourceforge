<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <style type="text/css">
    span.comment {color:#787878;font-style:italic}
    span.extern  {color:#A52A2A}
    span.keyword {color:#000000;font-weight:bold}
    span.neuexp  {color:#800080}
    span.staexp  {color:#0000FF}
    span.dynexp  {color:#E80000}
    span.prfexp  {color:#009000}
    span.stacstdec  {text-decoration:none}
    span.stacstuse  {color:#0000CF;text-decoration:underline}
    span.dyncstdec  {text-decoration:none}
    span.dyncstimp  {color:#B80000;text-decoration:underline}
    span.dyncstuse  {color:#B80000;text-decoration:underline}
    body          {color:#E80000;background-color:#E0E0E0}
  </style>
</head>
<body>
<pre>
<span class="comment">(***********************************************************************)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                         Applied Type System                         *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                              Hongwei Xi                             *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(***********************************************************************)</span>

<span class="comment">(*
** ATS/Anairiats - Unleashing the Potential of Types!
**
** Copyright (C) 2002-2008 Hongwei Xi, Boston University
**
** All rights reserved
**
** ATS is free software;  you can  redistribute it and/or modify it under
** the terms of  the GNU GENERAL PUBLIC LICENSE (GPL) as published by the
** Free Software Foundation; either version 3, or (at  your  option)  any
** later version.
** 
** ATS is distributed in the hope that it will be useful, but WITHOUT ANY
** WARRANTY; without  even  the  implied  warranty  of MERCHANTABILITY or
** FITNESS FOR A PARTICULAR PURPOSE.  See the  GNU General Public License
** for more details.
** 
** You  should  have  received  a  copy of the GNU General Public License
** along  with  ATS;  see the  file COPYING.  If not, please write to the
** Free Software Foundation,  51 Franklin Street, Fifth Floor, Boston, MA
** 02110-1301, USA.
*)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// Author: Hongwei Xi (hwxi AT cs DOT bu DOT edu)
</span><span class="comment">// Time: October 2007
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">Cnt <span class="keyword">=</span> "ats_counter.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Eff <span class="keyword">=</span> "ats_effect.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Fil <span class="keyword">=</span> "ats_filename.sats"</span>
<span class="keyword">staload</span> <span class="staexp">IntInf <span class="keyword">=</span> "ats_intinf.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Lab <span class="keyword">=</span> "ats_label.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Loc <span class="keyword">=</span> "ats_location.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Stamp <span class="keyword">=</span> "ats_stamp.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Sym <span class="keyword">=</span> "ats_symbol.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Syn <span class="keyword">=</span> "ats_syntax.sats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">"ats_staexp1.sats"</span> <span class="comment">// for [e1xp]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">typedef</span> <span class="staexp"><a name="1906"><span class="stacstdec">count_t <span class="keyword">=</span> $Cnt<span class="keyword">.</span>count_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="1937"><span class="stacstdec">fil_t <span class="keyword">=</span> $Fil<span class="keyword">.</span>filename_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="1969"><span class="stacstdec">intinf_t <span class="keyword">=</span> $IntInf<span class="keyword">.</span>intinf_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2005"><span class="stacstdec">lab_t <span class="keyword">=</span> $Lab<span class="keyword">.</span>label_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2034"><span class="stacstdec">loc_t <span class="keyword">=</span> $Loc<span class="keyword">.</span>location_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2066"><span class="stacstdec">stamp_t <span class="keyword">=</span> $Stamp<span class="keyword">.</span>stamp_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2099"><span class="stacstdec">sym_t <span class="keyword">=</span> $Sym<span class="keyword">.</span>symbol_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2129"><span class="stacstdec">symopt_t <span class="keyword">=</span> Option <span class="keyword">(</span>sym_t<span class="keyword">)</span></span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="2185"><span class="stacstdec">s2rtdat_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">abstype</span> <span class="staexp"><a name="2218"><span class="stacstdec">s2cst_t</span></a></span> <span class="comment">// assumed in [ats_staexp2_scst.dats]
</span><span class="keyword">abstype</span> <span class="staexp"><a name="2272"><span class="stacstdec">s2var_t</span></a></span> <span class="comment">// assumed in [ats_staexp2_svVar.dats]
</span><span class="keyword">abstype</span> <span class="staexp"><a name="2327"><span class="stacstdec">s2varset_t</span></a></span> <span class="comment">// assumed in [ats_staexp2_svVar.dats]
</span>
<span class="keyword">abstype</span> <span class="staexp"><a name="2386"><span class="stacstdec">s2Var_t</span></a></span> <span class="comment">// assumed in [ats_staexp2_svVar.dats]
</span><span class="keyword">abstype</span> <span class="staexp"><a name="2441"><span class="stacstdec">s2Varset_t</span></a></span> <span class="comment">// assumed in [ats_staexp2_svVar.dats]
</span><span class="keyword">abstype</span> <span class="staexp"><a name="2499"><span class="stacstdec">s2Varbound_t</span></a></span> <span class="comment">// assumed in [ats_staexp2_svVar.dats]
</span>
<span class="keyword">abstype</span> <span class="staexp"><a name="2560"><span class="stacstdec">d2con_t</span></a></span> <span class="comment">// assumed in [ats_staexp2_dcon.dats]
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2615"><span class="stacstdec">s2varlst <span class="keyword">=</span> List s2var_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2647"><span class="stacstdec">s2varopt <span class="keyword">=</span> Option s2var_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2681"><span class="stacstdec">s2varlstlst <span class="keyword">=</span> List s2varlst</span></a></span>

<span class="keyword">typedef</span> <span class="staexp"><a name="2718"><span class="stacstdec">s2Varlst <span class="keyword">=</span> List s2Var_t</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2750"><span class="stacstdec">s2Varboundlst <span class="keyword">=</span> List s2Varbound_t</span></a></span>

<span class="keyword">datatype</span> <span class="staexp"><a name="2794"><span class="stacstdec">s2cstopt</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2CSTOPTsome <span class="keyword">of</span> <span class="staexp">s2cst_t</span> <span class="keyword">|</span> S2CSTOPTnone 
<span class="comment">// end of [s2cstopt]
</span>
<span class="keyword">datatype</span> <span class="staexp"><a name="2880"><span class="stacstdec">s2cstlst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2CSTLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2cst_t<span class="keyword">,</span> s2cstlst<span class="keyword">)</span></span> <span class="keyword">|</span> S2CSTLSTnil 
<span class="comment">// end of [s2cstlst]
</span>
<span class="keyword">datatype</span> <span class="staexp"><a name="2977"><span class="stacstdec">d2conlst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> D2CONLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>d2con_t<span class="keyword">,</span> d2conlst<span class="keyword">)</span></span> <span class="keyword">|</span> D2CONLSTnil
<span class="comment">// end of [d2conlst]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="3094"><span class="stacstdec">s2item</span></a></span> <span class="keyword">=</span>
  <span class="comment">(* static items *)</span>
  <span class="keyword">|</span> S2ITEMcst <span class="keyword">of</span> <span class="staexp">s2cstlst</span>
  <span class="keyword">|</span> S2ITEMdatconptr <span class="keyword">of</span> <span class="staexp">d2con_t</span>
  <span class="keyword">|</span> S2ITEMdatcontyp <span class="keyword">of</span> <span class="staexp">d2con_t</span>
  <span class="keyword">|</span> S2ITEMe1xp <span class="keyword">of</span> <span class="staexp">e1xp</span>
  <span class="keyword">|</span> S2ITEMfil <span class="keyword">of</span> <span class="staexp">fil_t</span>
  <span class="keyword">|</span> S2ITEMvar <span class="keyword">of</span> <span class="staexp">s2var_t</span>
<span class="comment">// end of [s2item]
</span>
<span class="keyword">where</span> <span class="staexp"><a name="3309"><span class="stacstdec">s2itemlst <span class="keyword">=</span> List s2item</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="3337"><span class="stacstdec">s2itemopt_vt <span class="keyword">=</span> Option_vt s2item</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="3395"><span class="dyncstdec">s2cstlst_length <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Nat</span></span></a>
<span class="keyword">fun</span> <a name="3434"><span class="dyncstdec">s2cstlst_append <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2cstlst</span></span></a>
<span class="keyword">fun</span> <a name="3491"><span class="dyncstdec">s2cstlst_reverse <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2cstlst</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="3563"><span class="stacstdec">tyreckind</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> TYRECKINDbox <span class="comment">(* boxed *)</span>
  <span class="keyword">|</span> TYRECKINDflt0
  <span class="keyword">|</span> TYRECKINDflt1 <span class="keyword">of</span> <span class="staexp">stamp_t</span> <span class="comment">(* flat *)</span>
  <span class="keyword">|</span> TYRECKINDflt_ext <span class="keyword">of</span> <span class="staexp">string</span>  <span class="comment">(* flat *)</span>
<span class="comment">// end of [tyreckind]
</span>
<span class="keyword">fun</span> <a name="3732"><span class="dyncstdec">eq_tyreckind_tyreckind <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">tyreckind</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">tyreckind</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_tyreckind_tyreckind</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="3860"><span class="stacstdec">s2rtbas</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2RTBASpre <span class="keyword">of</span> <span class="comment">(* predicative sorts *)</span>
      <span class="staexp">sym_t</span> <span class="comment">// bool, char, int, ...
</span>  <span class="keyword">|</span> S2RTBASimp <span class="keyword">of</span> <span class="comment">(* impredicative sorts *)</span>
      <span class="staexp"><span class="keyword">(</span>sym_t<span class="keyword">,</span> int <span class="comment">(*prf*)</span><span class="keyword">,</span> int <span class="comment">(*lin*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> S2RTBASdef <span class="keyword">of</span> <span class="comment">(* user-defined datasorts *)</span>
      <span class="staexp">s2rtdat_t</span>
<span class="comment">// end of [s2rtbas]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="4120"><span class="stacstdec">s2rt</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2RTbas <span class="keyword">of</span> <span class="staexp">s2rtbas</span> <span class="comment">(* base sort *)</span>
  <span class="keyword">|</span> S2RTfun <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2rtlst<span class="keyword">,</span> s2rt<span class="keyword">)</span></span> <span class="comment">// function sort
</span>  <span class="keyword">|</span> S2RTtup <span class="keyword">of</span> <span class="staexp">s2rtlst</span> <span class="comment">(* tuple sort *)</span>
<span class="comment">// end of [s2rt]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="4276"><span class="stacstdec">s2rtext</span></a></span> <span class="keyword">=</span> <span class="comment">(* extended sort *)</span>
  <span class="keyword">|</span> S2TEsrt <span class="keyword">of</span> <span class="staexp">s2rt</span>
  <span class="keyword">|</span> S2TEsub <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2var_t<span class="keyword">,</span> s2rt<span class="keyword">,</span> s2explst<span class="keyword">)</span></span>
<span class="comment">// end of [s2rtext]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="4392"><span class="stacstdec">sp2at_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> SP2Tcon <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2cst_t<span class="keyword">,</span> s2varlst<span class="keyword">)</span></span>
<span class="comment">// end of [sp2at_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="4468"><span class="stacstdec">s2kexp</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2KEany
  <span class="keyword">|</span> S2KEapp <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2kexp<span class="keyword">,</span> s2kexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2KEcst <span class="keyword">of</span> <span class="staexp">s2cst_t</span>
  <span class="keyword">|</span> S2KEfun <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>funclo<span class="keyword">,</span> s2kexplst<span class="keyword">,</span> s2kexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2KEtyarr
  <span class="keyword">|</span> S2KEtyrec <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>tyreckind<span class="keyword">,</span> labs2kexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2KEunion <span class="keyword">of</span> <span class="staexp">s2kexplst</span> <span class="comment">// union
</span>  <span class="keyword">|</span> S2KEvar <span class="keyword">of</span> <span class="staexp">s2var_t</span>
<span class="comment">// end of [s2kexp]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="4735"><span class="stacstdec">labs2kexplst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABS2KEXPLSTnil
  <span class="keyword">|</span> LABS2KEXPLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> s2kexp<span class="keyword">,</span> labs2kexplst<span class="keyword">)</span></span>
<span class="comment">// end of [labs2kexplst]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="4854"><span class="stacstdec">s2zexp</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2ZEapp <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2zexp<span class="keyword">,</span> s2zexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2ZEbot
  <span class="keyword">|</span> S2ZEcst <span class="keyword">of</span> <span class="staexp">s2cst_t</span>
  <span class="keyword">|</span> S2ZEextype <span class="keyword">of</span> <span class="staexp">string</span> <span class="comment">(* external type *)</span>
  <span class="keyword">|</span> S2ZEptr <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span><span class="keyword">)</span></span> <span class="comment">(* pointer size *)</span>
  <span class="keyword">|</span> S2ZEtyarr <span class="keyword">of</span> <span class="comment">// array size
</span>      <span class="staexp"><span class="keyword">(</span>s2zexp <span class="comment">(*element size*)</span><span class="keyword">,</span> s2explstlst <span class="comment">(*dimension*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> S2ZEtyrec <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>tyreckind<span class="keyword">,</span> labs2zexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2ZEunion <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>stamp_t<span class="keyword">,</span> labs2zexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2ZEvar <span class="keyword">of</span> <span class="staexp">s2var_t</span>
<span class="comment">// end of [s2zexp]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="5236"><span class="stacstdec">labs2zexplst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABS2ZEXPLSTnil
  <span class="keyword">|</span> LABS2ZEXPLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> s2zexp<span class="keyword">,</span> labs2zexplst<span class="keyword">)</span></span>
<span class="comment">// end of [labs2zexplst]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="5355"><span class="stacstdec">s2eff</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2EFFall
  <span class="keyword">|</span> S2EFFnil
  <span class="keyword">|</span> S2EFFset <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>$Eff<span class="keyword">.</span>effset_t<span class="keyword">,</span> s2explst<span class="keyword">)</span></span>
<span class="comment">// end of [s2eff]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="5454"><span class="stacstdec">s2lab</span></a></span> <span class="keyword">=</span> 
  <span class="keyword">|</span> S2LAB0lab <span class="keyword">of</span> <span class="staexp">lab_t</span>
  <span class="keyword">|</span> S2LAB0ind <span class="keyword">of</span> <span class="staexp">s2explstlst</span>
  <span class="keyword">|</span> S2LAB1lab <span class="keyword">of</span> <span class="comment">(* selection label *)</span>
      <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> s2exp<span class="keyword">)</span></span> <span class="comment">(* record/union type *)</span>
  <span class="keyword">|</span> S2LAB1ind <span class="keyword">of</span> <span class="comment">(* array index *)</span>
      <span class="staexp"><span class="keyword">(</span>s2explstlst<span class="keyword">,</span> s2exp<span class="comment">(*element*)</span><span class="keyword">)</span></span>
<span class="comment">// end of [s2lab]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="5695"><span class="stacstdec">s2exp_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2Eapp <span class="keyword">of</span> <span class="comment">(* static application *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exp<span class="keyword">,</span> s2explst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Echar <span class="keyword">of</span> <span class="staexp">char</span>
  <span class="keyword">|</span> S2Eclo <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*knd*)</span><span class="keyword">,</span> s2exp<span class="keyword">)</span></span> <span class="comment">(* knd: -1/0/1: ref/clo/ptr *)</span>
  <span class="keyword">|</span> S2Ecrypt <span class="keyword">of</span> <span class="staexp">s2exp</span>
  <span class="keyword">|</span> S2Ecst <span class="keyword">of</span> <span class="comment">(* static constant *)</span>
      <span class="staexp">s2cst_t</span>
  <span class="keyword">|</span> S2Edatconptr <span class="keyword">of</span> <span class="comment">(* unfolded datatype *)</span>
      <span class="staexp"><span class="keyword">(</span>d2con_t<span class="keyword">,</span> s2explst<span class="keyword">)</span></span> <span class="comment">(* constructor and addrs of arguments *)</span>
  <span class="keyword">|</span> S2Edatcontyp <span class="keyword">of</span> <span class="comment">(* unfolded datatype *)</span>
      <span class="staexp"><span class="keyword">(</span>d2con_t<span class="keyword">,</span> s2explst<span class="keyword">)</span></span> <span class="comment">(* constructor and types of arguments *)</span>
  <span class="keyword">|</span> S2Eeff <span class="keyword">of</span> <span class="comment">(* effects *)</span>
      <span class="staexp">s2eff</span>
  <span class="keyword">|</span> S2Eeqeq <span class="keyword">of</span> <span class="comment">(* generic equality relation *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exp<span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Eexi <span class="keyword">of</span> <span class="comment">(* existential quantifed expression *)</span>
      <span class="staexp"><span class="keyword">(</span>s2varlst<span class="keyword">,</span> s2explst<span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Eextype <span class="keyword">of</span> <span class="comment">(* external name *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> s2explstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Efun <span class="keyword">of</span> <span class="comment">(* function type *)</span> <span class="staexp"><span class="keyword">(</span>
      $Syn<span class="keyword">.</span>funclo
    <span class="keyword">,</span> int<span class="comment">(*lin*)</span>
    <span class="keyword">,</span> s2eff<span class="comment">(*effects*)</span>
    <span class="keyword">,</span> int <span class="comment">(*pfarity*)</span>
    <span class="keyword">,</span> s2explst <span class="comment">(*arguments*)</span>
    <span class="keyword">,</span> s2exp <span class="comment">(*result*)</span>
    <span class="keyword">)</span></span> <span class="comment">// end of S2Efun
</span>  <span class="keyword">|</span> S2Eint <span class="keyword">of</span> <span class="comment">(* static integer *)</span>
      <span class="staexp">int</span>
  <span class="keyword">|</span> S2Eintinf <span class="keyword">of</span> <span class="comment">(* static integer *)</span>
      <span class="staexp">intinf_t</span>
  <span class="keyword">|</span> S2Elam <span class="keyword">of</span> <span class="comment">(* static abstraction *)</span>
      <span class="staexp"><span class="keyword">(</span>s2varlst<span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Emetfn <span class="keyword">of</span> <span class="comment">(* metric function *)</span>
      <span class="staexp"><span class="keyword">(</span>Option stamp_t<span class="keyword">,</span> s2explst<span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> <span class="keyword">{</span><span class="staexp">n<span class="keyword">:</span>nat</span><span class="keyword">}</span> S2Emetlt <span class="keyword">of</span> <span class="comment">(* strict metric ordering *)</span>
      <span class="staexp"><span class="keyword">(</span>s2explst n<span class="keyword">,</span> s2explst n<span class="keyword">)</span></span>
<span class="comment">(*
// HX-2010-12-04: inadequate design
  | S2Enamed of (sym_t, s2exp) // named types
*)</span>
  <span class="keyword">|</span> S2Eout <span class="keyword">of</span> <span class="comment">(* taken out *)</span>
      <span class="staexp">s2exp</span>
  <span class="keyword">|</span> S2Eproj <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2exp <span class="comment">(*addr*)</span><span class="keyword">,</span> s2lab<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Eread <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>s2exp <span class="comment">(*view*)</span><span class="keyword">,</span> s2exp <span class="comment">(*viewt@ype*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Erefarg <span class="keyword">of</span> <span class="comment">(* reference argument type *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*1:ref/0:val*)</span><span class="keyword">,</span> s2exp<span class="keyword">)</span></span> <span class="comment">(* &amp;/!: call-by-ref/val *)</span>
  <span class="keyword">|</span> S2Esel <span class="keyword">of</span> <span class="comment">(* static selection *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exp<span class="keyword">,</span> int<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Esize <span class="keyword">of</span> <span class="comment">(* size *)</span>
      <span class="staexp">s2zexp</span>
  <span class="keyword">|</span> S2Esizeof <span class="keyword">of</span> <span class="comment">(* size of a type *)</span>
      <span class="staexp">s2exp</span>
  <span class="keyword">|</span> S2Etop <span class="keyword">of</span> <span class="comment">(* 0/1: topization/typization *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*knd*)</span><span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Etup <span class="keyword">of</span> <span class="comment">(* tuple *)</span>
      <span class="staexp">s2explst</span>
  <span class="keyword">|</span> S2Etyarr <span class="keyword">of</span> <span class="comment">(* array type *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exp <span class="comment">(*elt type*)</span><span class="keyword">,</span> s2explstlst <span class="comment">(*dimension*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Etyleq <span class="keyword">of</span> <span class="comment">(* dynamic subprop/subtype/subview/subviewtype relation *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*knd*)</span><span class="keyword">,</span> s2exp<span class="keyword">,</span> s2exp<span class="keyword">)</span></span> <span class="comment">// knd=0: already tried; knd=1+: not tried
</span>  <span class="keyword">|</span> S2Etylst <span class="keyword">of</span> <span class="comment">(* type list *)</span>
      <span class="staexp">s2explst</span>
  <span class="keyword">|</span> S2Etyrec <span class="keyword">of</span> <span class="comment">(* record expression *)</span>
      <span class="staexp"><span class="keyword">(</span>tyreckind<span class="keyword">,</span> int <span class="comment">(*pfarity*)</span><span class="keyword">,</span> labs2explst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Euni <span class="keyword">of</span> <span class="comment">(* universal quantified expression *)</span>
      <span class="staexp"><span class="keyword">(</span>s2varlst<span class="keyword">,</span> s2explst<span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Eunion <span class="keyword">of</span> <span class="comment">(* union type *)</span>
      <span class="staexp"><span class="keyword">(</span>stamp_t<span class="keyword">,</span> s2exp <span class="comment">(*index*)</span><span class="keyword">,</span> labs2explst<span class="keyword">)</span></span>
  <span class="keyword">|</span> S2Evar <span class="keyword">of</span> <span class="comment">(* static variable *)</span>
      <span class="staexp">s2var_t</span>
  <span class="keyword">|</span> S2EVar <span class="keyword">of</span> <span class="comment">(* static existential variable *)</span>
      <span class="staexp">s2Var_t</span>
  <span class="keyword">|</span> S2Evararg <span class="keyword">of</span> <span class="comment">(* variable argument type *)</span>
      <span class="staexp">s2exp</span>
  <span class="keyword">|</span> S2Ewth <span class="keyword">of</span> <span class="comment">(* the result part of a function type *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exp<span class="keyword">,</span> wths2explst <span class="comment">(* for restoration *)</span><span class="keyword">)</span></span>
<span class="comment">// end of [s2exp_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="8353"><span class="stacstdec">labs2explst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABS2EXPLSTnil
  <span class="keyword">|</span> LABS2EXPLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> s2exp<span class="keyword">,</span> labs2explst<span class="keyword">)</span></span>
<span class="comment">// end of [labs2explst]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="8466"><span class="stacstdec">tmps2explstlst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> TMPS2EXPLSTLSTnil
  <span class="keyword">|</span> TMPS2EXPLSTLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>loc_t<span class="keyword">,</span> s2explst<span class="keyword">,</span> tmps2explstlst<span class="keyword">)</span></span>
<span class="comment">// end of [tmps2explstlst]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="8597"><span class="stacstdec">wths2explst</span></a></span> <span class="keyword">=</span> <span class="comment">// needed in [ats_trans2_sta.dats]
</span>  <span class="keyword">|</span> WTHS2EXPLSTnil
  <span class="keyword">|</span> WTHS2EXPLSTcons_some <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*refval*)</span><span class="keyword">,</span> s2exp<span class="keyword">,</span> wths2explst<span class="keyword">)</span></span>
  <span class="keyword">|</span> WTHS2EXPLSTcons_none <span class="keyword">of</span> <span class="staexp">wths2explst</span>
<span class="comment">// end of [wths2explst]
</span>
<span class="keyword">where</span> <span class="staexp"><a name="8800"><span class="stacstdec">s2rtlst <span class="keyword">=</span> List s2rt</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="8824"><span class="stacstdec">s2rtopt <span class="keyword">=</span> Option s2rt</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="8850"><span class="stacstdec">s2rtlstlst <span class="keyword">=</span> List s2rtlst</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="8880"><span class="stacstdec">s2rtlstopt <span class="keyword">=</span> Option s2rtlst</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="8913"><span class="stacstdec">s2rtextopt_vt <span class="keyword">=</span> Option_vt s2rtext</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="8952"><span class="stacstdec">s2arg <span class="keyword">=</span> <span class="keyword">'{</span>
  s2arg_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> s2arg_sym<span class="keyword">=</span> sym_t<span class="keyword">,</span> s2arg_srt<span class="keyword">=</span> s2rtopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [s2arg]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="9045"><span class="stacstdec">s2arglst <span class="keyword">=</span> List s2arg</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="9072"><span class="stacstdec">s2zexplst <span class="keyword">=</span> List s2zexp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9100"><span class="stacstdec">s2zexpopt <span class="keyword">=</span> Option s2zexp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9130"><span class="stacstdec">s2zexpopt_vt <span class="keyword">=</span> Option_vt s2zexp</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="9167"><span class="stacstdec">s2kexplst <span class="keyword">=</span> List s2kexp</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="9196"><span class="stacstdec">s2lablst <span class="keyword">=</span> List s2lab</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9222"><span class="stacstdec">s2lablst_vt <span class="keyword">=</span> List_vt s2lab</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="9276"><span class="stacstdec">s2exp <span class="keyword">=</span> <span class="keyword">'{</span>
  s2exp_srt<span class="keyword">=</span> s2rt<span class="keyword">,</span> s2exp_node<span class="keyword">=</span> s2exp_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [s2exp]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="9354"><span class="stacstdec">s2explst <span class="keyword">(</span>n<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> list <span class="keyword">(</span>s2exp<span class="keyword">,</span> n<span class="keyword">)</span></span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9393"><span class="stacstdec">s2explst <span class="keyword">=</span> <span class="keyword">[</span>n<span class="keyword">:</span>nat<span class="keyword">]</span> s2explst n</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9427"><span class="stacstdec">s2expopt <span class="keyword">=</span> Option s2exp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9455"><span class="stacstdec">s2expopt_vt <span class="keyword">=</span> Option_vt s2exp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9489"><span class="stacstdec">s2explstlst <span class="keyword">=</span> List s2explst</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="9521"><span class="stacstdec">s2explstopt <span class="keyword">=</span> Option s2explst</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="9577"><span class="stacstdec">sp2at <span class="keyword">=</span> <span class="keyword">'{</span>
  sp2at_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> sp2at_exp<span class="keyword">=</span> s2exp<span class="keyword">,</span> sp2at_node<span class="keyword">=</span> sp2at_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [sp2at]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="9700"><span class="stacstdec">s2exparg_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> S2EXPARGone <span class="comment">(* {..} *)</span>
  <span class="keyword">|</span> S2EXPARGall <span class="comment">(* {...} *)</span>
  <span class="keyword">|</span> S2EXPARGseq <span class="keyword">of</span> <span class="staexp">s2explst</span>
<span class="comment">// end of [s2exparg_node]
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="9834"><span class="stacstdec">s2exparg <span class="keyword">=</span> <span class="keyword">'{</span>
  s2exparg_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> s2exparg_node<span class="keyword">=</span> s2exparg_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [s2exparg]
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="9932"><span class="stacstdec">s2exparglst <span class="keyword">=</span> List s2exparg</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">typedef</span> <span class="staexp"><a name="9990"><span class="stacstdec">s2qua <span class="keyword">=</span>
  <span class="keyword">@(</span>s2varlst<span class="keyword">,</span> s2explst<span class="keyword">)</span></span></a></span>
<span class="comment">// end of [s2qua]
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="10049"><span class="stacstdec">s2qualst <span class="keyword">=</span> List s2qua</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">val</span> <a name="10097"><span class="dyncstdec">s2rt_addr <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10118"><span class="dyncstdec">s2rt_bool <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10139"><span class="dyncstdec">s2rt_char <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10160"><span class="dyncstdec">s2rt_cls <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10180"><span class="dyncstdec">s2rt_eff <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10200"><span class="dyncstdec">s2rt_int <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>

<span class="comment">(*

val s2rt_rat : s2rt
val s2rt_reg : s2rt

*)</span>

<span class="keyword">val</span> <a name="10270"><span class="dyncstdec">s2rt_prop <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10291"><span class="dyncstdec">s2rt_type <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10312"><span class="dyncstdec">s2rt_t0ype <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10334"><span class="dyncstdec">s2rt_view <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10355"><span class="dyncstdec">s2rt_viewtype <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10380"><span class="dyncstdec">s2rt_viewt0ype <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">val</span> <a name="10406"><span class="dyncstdec">s2rt_types <span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="10450"><span class="dyncstdec">s2rt_is_cls <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="10485"><span class="dyncstdec">s2rt_is_dat <span class="keyword">(</span>s2r<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10519"><span class="dyncstdec">s2rt_is_int <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="10554"><span class="dyncstdec">s2rt_is_prop <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10589"><span class="dyncstdec">s2rt_is_type <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10624"><span class="dyncstdec">s2rt_is_t0ype <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10660"><span class="dyncstdec">s2rt_is_view <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10695"><span class="dyncstdec">s2rt_is_viewtype <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10734"><span class="dyncstdec">s2rt_is_viewtype_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10777"><span class="dyncstdec">s2rt_is_viewt0ype <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10817"><span class="dyncstdec">s2rt_is_types <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="10875"><span class="dyncstdec">s2rt_is_linear <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10912"><span class="dyncstdec">s2rt_is_linear_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10953"><span class="dyncstdec">s2rt_is_proof <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="10989"><span class="dyncstdec">s2rt_is_proof_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="11029"><span class="dyncstdec">s2rt_is_program <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="11067"><span class="dyncstdec">s2rt_is_program_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="11109"><span class="dyncstdec">s2rt_is_impredicative <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="11153"><span class="dyncstdec">s2rt_is_impredicative_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="11201"><span class="dyncstdec">s2rt_is_boxed <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="11237"><span class="dyncstdec">s2rt_is_boxed_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="11299"><span class="dyncstdec">s2rt_base_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="11335"><span class="dyncstdec">s2rt_datakind <span class="keyword">(</span>k<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>datakind</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="11378"><span class="dyncstdec">s2rt_readize <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="11413"><span class="dyncstdec">s2rt_linearize <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// implemented in [ats_staexp2_util1.dats]
</span><span class="keyword">fun</span> <a name="11515"><span class="dyncstdec">s2rt_prf_lin_fc
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> isprf<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">,</span> islin<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">,</span> fc<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>funclo</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="comment">// end of [s2rt_prf_lin_fc]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="11650"><span class="dyncstdec">fprint_s2rt <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2rt</span>

<span class="keyword">fun</span> <a name="11775"><span class="dyncstdec">fprint_s2rtlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2ts<span class="keyword">:</span> <span class="staexp">s2rtlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2rtlst</span>

<span class="keyword">fun</span> <a name="11910"><span class="dyncstdec">fprint_s2rtlstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2tss<span class="keyword">:</span> <span class="staexp">s2rtlstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2rtlstlst</span>

<span class="keyword">fun</span> <a name="12055"><span class="dyncstdec">fprint_s2rtext <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2te<span class="keyword">:</span> <span class="staexp">s2rtext</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2rtext</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="12194"><span class="dyncstdec">print_s2rt <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="12225"><span class="dyncstdec">prerr_s2rt <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2rt</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2rt</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="12341"><span class="dyncstdec">eq_s2rt_s2rt <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_s2rt_s2rt</span>

<span class="keyword">fun</span> <a name="12413"><span class="dyncstdec">eq_s2rtlst_s2rtlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2rtlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2rtlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_s2rtlst_s2rtlst</span>

<span class="keyword">fun</span> <a name="12503"><span class="dyncstdec">lte_s2rt_s2rt <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_s2rt_s2rt</span>

<span class="keyword">fun</span> <a name="12578"><span class="dyncstdec">lte_s2rtlst_s2rtlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2rtlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2rtlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_s2rtlst_s2rtlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="12692"><span class="dyncstdec">s2rt_fun <span class="keyword">(</span>s2ts<span class="keyword">:</span> <span class="staexp">s2rtlst</span><span class="keyword">,</span> s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="12738"><span class="dyncstdec">s2rt_tup <span class="keyword">(</span>s2ts<span class="keyword">:</span> <span class="staexp">s2rtlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>

<span class="keyword">fun</span> <a name="12774"><span class="dyncstdec">un_s2rt_fun <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt <span class="keyword">@(</span>s2rtlst<span class="keyword">,</span> s2rt<span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="12830"><span class="dyncstdec">un_s2rt_tup <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt <span class="keyword">(</span>s2rtlst<span class="keyword">)</span></span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// [s2rtdat_t] is assumed in [ats_staexp2.dats]
</span>
<span class="keyword">fun</span> <a name="12950"><span class="dyncstdec">s2rtdat_make <span class="keyword">(</span>id<span class="keyword">:</span> <span class="staexp">sym_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rtdat_t</span></span></a>

<span class="keyword">fun</span> <a name="12991"><span class="dyncstdec">s2rtdat_sym_get <span class="keyword">(</span>s2td<span class="keyword">:</span> <span class="staexp">s2rtdat_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sym_t</span></span></a>
<span class="keyword">fun</span> <a name="13036"><span class="dyncstdec">s2rtdat_conlst_get <span class="keyword">(</span>s2td<span class="keyword">:</span> <span class="staexp">s2rtdat_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2cstlst</span></span></a>
<span class="keyword">fun</span> <a name="13087"><span class="dyncstdec">s2rtdat_conlst_set <span class="keyword">(</span>s2td<span class="keyword">:</span> <span class="staexp">s2rtdat_t</span><span class="keyword">,</span> s2cs<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="13150"><span class="dyncstdec">s2rtdat_stamp_get <span class="keyword">(</span>s2td<span class="keyword">:</span> <span class="staexp">s2rtdat_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>

<span class="keyword">fun</span> <a name="13200"><span class="dyncstdec">eq_s2rtdat_s2rtdat <span class="keyword">(</span>s2td1<span class="keyword">:</span> <span class="staexp">s2rtdat_t</span><span class="keyword">,</span> s2td2<span class="keyword">:</span> <span class="staexp">s2rtdat_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_s2rtdat_s2rtdat</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// [s2cst_t] is assumed in [ats_staexp2_scst.dats]
</span>
<span class="keyword">fun</span> <a name="13375"><span class="dyncstdec">s2cst_make <span class="keyword">(</span>
  id<span class="keyword">:</span> <span class="staexp">sym_t</span> <span class="comment">// the name
</span><span class="keyword">,</span> loc<span class="keyword">:</span> <span class="staexp">loc_t</span> <span class="comment">// the location of declaration
</span><span class="keyword">,</span> s2t<span class="keyword">:</span> <span class="staexp">s2rt</span> <span class="comment">// the sort
</span><span class="keyword">,</span> isabs<span class="keyword">:</span> <span class="staexp">Option <span class="keyword">(</span>s2expopt<span class="keyword">)</span></span>
<span class="keyword">,</span> iscon<span class="keyword">:</span> <span class="staexp">bool</span>
<span class="keyword">,</span> isrec<span class="keyword">:</span> <span class="staexp">bool</span>
<span class="keyword">,</span> isasp<span class="keyword">:</span> <span class="staexp">bool</span>
<span class="keyword">,</span> islst<span class="keyword">:</span> <span class="staexp">Option <span class="keyword">@(</span>d2con_t <span class="comment">(*nil*)</span><span class="keyword">,</span> d2con_t <span class="comment">(*cons*)</span><span class="keyword">)</span></span>
<span class="keyword">,</span> argvar<span class="keyword">:</span> <span class="staexp">Option <span class="keyword">(</span>List <span class="keyword">@(</span>symopt_t<span class="keyword">,</span> s2rt<span class="keyword">,</span> int<span class="keyword">)</span><span class="keyword">)</span></span>
<span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">s2expopt</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">s2cst_t</span></span></a>

<span class="keyword">fun</span> <a name="13682"><span class="dyncstdec">s2cst_make_dat <span class="keyword">(</span>
  id<span class="keyword">:</span> <span class="staexp">sym_t</span>
<span class="keyword">,</span> loc<span class="keyword">:</span> <span class="staexp">loc_t</span>
<span class="keyword">,</span> os2ts_arg<span class="keyword">:</span> <span class="staexp">s2rtlstopt</span>
<span class="keyword">,</span> s2t_res<span class="keyword">:</span> <span class="staexp">s2rt</span>
<span class="keyword">,</span> argvar<span class="keyword">:</span> <span class="staexp">Option <span class="keyword">(</span>List <span class="keyword">@(</span>symopt_t<span class="keyword">,</span> s2rt<span class="keyword">,</span> int<span class="keyword">)</span><span class="keyword">)</span></span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">s2cst_t</span></span></a>

<span class="keyword">fun</span> <a name="13828"><span class="dyncstdec">s2cst_make_cls <span class="keyword">(</span>
  id<span class="keyword">:</span> <span class="staexp">sym_t</span><span class="keyword">,</span> loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2vss<span class="keyword">:</span> <span class="staexp">s2varlstlst</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">s2cst_t</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="13927"><span class="dyncstdec">s2cst_sym_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sym_t</span></span></a>
<span class="keyword">fun</span> <a name="13965"><span class="dyncstdec">s2cst_loc_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">loc_t</span></span></a>
<span class="keyword">fun</span> <a name="14003"><span class="dyncstdec">s2cst_srt_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="14040"><span class="dyncstdec">s2cst_isabs_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option <span class="keyword">(</span>s2expopt<span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="14092"><span class="dyncstdec">s2cst_iscon_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="14131"><span class="dyncstdec">s2cst_isrec_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="14170"><span class="dyncstdec">s2cst_isasp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="14209"><span class="dyncstdec">s2cst_isasp_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="14257"><span class="dyncstdec">s2cst_iscpy_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2cstopt</span></span></a>
<span class="keyword">fun</span> <a name="14300"><span class="dyncstdec">s2cst_iscpy_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cstopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="14352"><span class="dyncstdec">s2cst_islst_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option <span class="keyword">@(</span>d2con_t<span class="keyword">,</span> d2con_t<span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="14413"><span class="dyncstdec">s2cst_islst_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">Option <span class="keyword">@(</span>d2con_t<span class="keyword">,</span> d2con_t<span class="keyword">)</span></span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="14483"><span class="dyncstdec">s2cst_arilst_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">List int</span></span></a> <span class="comment">// arity list
</span><span class="keyword">fun</span> <a name="14541"><span class="dyncstdec">s2cst_argvar_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option <span class="keyword">(</span>List <span class="keyword">@(</span>symopt_t<span class="keyword">,</span> s2rt<span class="keyword">,</span> int<span class="keyword">)</span><span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="14613"><span class="dyncstdec">s2cst_conlst_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option d2conlst</span></span></a>
<span class="keyword">fun</span> <a name="14664"><span class="dyncstdec">s2cst_conlst_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">Option d2conlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="14724"><span class="dyncstdec">s2cst_def_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2expopt</span></span></a>
<span class="keyword">fun</span> <a name="14765"><span class="dyncstdec">s2cst_def_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="comment">//
</span><span class="keyword">fun</span> <a name="14818"><span class="dyncstdec">s2cst_sup_get <span class="keyword">(</span>self<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2cstlst</span></span></a>
<span class="keyword">fun</span> <a name="14862"><span class="dyncstdec">s2cst_sup_add <span class="keyword">(</span>self<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> sup<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="14916"><span class="dyncstdec">s2cst_supcls_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst</span></span></a>
<span class="keyword">fun</span> <a name="14960"><span class="dyncstdec">s2cst_supcls_add <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> sup<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="comment">//
</span><span class="keyword">fun</span> <a name="15015"><span class="dyncstdec">s2cst_sVarset_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>
<span class="keyword">fun</span> <a name="15062"><span class="dyncstdec">s2cst_sVarset_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="15118"><span class="dyncstdec">s2cst_stamp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>
<span class="keyword">fun</span> <a name="15160"><span class="dyncstdec">s2cst_stamp_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">stamp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="15211"><span class="dyncstdec">s2cst_tag_get <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="15249"><span class="dyncstdec">s2cst_tag_set <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> tag<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="15303"><span class="dyncstdec">lt_s2cst_s2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_s2cst_s2cst</span>

<span class="keyword">fun</span> <a name="15387"><span class="dyncstdec">lte_s2cst_s2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_s2cst_s2cst</span>

<span class="keyword">fun</span> <a name="15474"><span class="dyncstdec">eq_s2cst_s2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_s2cst_s2cst</span>

<span class="keyword">fun</span> <a name="15558"><span class="dyncstdec">neq_s2cst_s2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> eq_s2cst_s2cst</span>

<span class="keyword">fun</span> <a name="15644"><span class="dyncstdec">compare_s2cst_s2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> compare <span class="keyword">with</span> compare_s2cst_s2cst</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="15747"><span class="dyncstdec">s2cst_is_abstract <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="15790"><span class="dyncstdec">s2cst_is_data <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="15829"><span class="dyncstdec">s2cst_is_eqsup <span class="keyword">(</span>s2c1<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> s2c2<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="15885"><span class="dyncstdec">s2cst_is_listlike <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="15928"><span class="dyncstdec">s2cst_is_singular <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">//
</span>
<span class="comment">// implemented in [ats_staexp2_scst.dats]
</span><span class="keyword">fun</span> <a name="16018"><span class="dyncstdec">fprint_s2cst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2cst</span>

<span class="keyword">fun</span> <a name="16148"><span class="dyncstdec">fprint_s2cstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2cs<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2cstlst</span>

<span class="keyword">fun</span> <a name="16286"><span class="dyncstdec">print_s2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="16321"><span class="dyncstdec">prerr_s2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2cst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2cst</span>

<span class="keyword">fun</span> <a name="16422"><span class="dyncstdec">print_s2cstlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="16461"><span class="dyncstdec">prerr_s2cstlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2cstlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2cstlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// [s2var_t] is assumed in [ats_staexp2_svVar.dats]
</span>
<span class="keyword">fun</span> <a name="16646"><span class="dyncstdec">s2var_make_id_srt <span class="keyword">(</span>id<span class="keyword">:</span> <span class="staexp">sym_t</span><span class="keyword">,</span> s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2var_t</span></span></a>
<span class="keyword">fun</span> <a name="16700"><span class="dyncstdec">s2var_make_srt <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2var_t</span></span></a>
<span class="keyword">fun</span> <a name="16740"><span class="dyncstdec">s2var_copy <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2var_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="16784"><span class="dyncstdec">s2var_sym_get <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sym_t</span></span></a>
<span class="keyword">fun</span> <a name="16824"><span class="dyncstdec">s2var_srt_get <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="16863"><span class="dyncstdec">s2var_tmplev_get <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="16904"><span class="dyncstdec">s2var_tmplev_set <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> lev<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="16956"><span class="dyncstdec">s2var_sVarset_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>
<span class="keyword">fun</span> <a name="17003"><span class="dyncstdec">s2var_sVarset_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="17059"><span class="dyncstdec">s2varlst_sVarset_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="17119"><span class="dyncstdec">s2var_stamp_get <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="17168"><span class="dyncstdec">lt_s2var_s2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_s2var_s2var</span>

<span class="keyword">fun</span> <a name="17252"><span class="dyncstdec">lte_s2var_s2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_s2var_s2var</span>

<span class="keyword">fun</span> <a name="17339"><span class="dyncstdec">eq_s2var_s2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_s2var_s2var</span>

<span class="keyword">fun</span> <a name="17423"><span class="dyncstdec">neq_s2var_s2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> eq_s2var_s2var</span>

<span class="keyword">fun</span> <a name="17509"><span class="dyncstdec">compare_s2var_s2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> compare <span class="keyword">with</span> compare_s2var_s2var</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="17612"><span class="dyncstdec">s2var_is_boxed <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="17652"><span class="dyncstdec">s2var_is_unboxed <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">//
</span>
<span class="comment">// implemented in [ats_staexp2_dcon.dats]
</span><span class="keyword">fun</span> <a name="17741"><span class="dyncstdec">fprint_s2var <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2var</span>

<span class="keyword">fun</span> <a name="17871"><span class="dyncstdec">fprint_s2varlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2varlst</span>

<span class="keyword">fun</span> <a name="18009"><span class="dyncstdec">print_s2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="18044"><span class="dyncstdec">prerr_s2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2var</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2var</span>

<span class="keyword">fun</span> <a name="18145"><span class="dyncstdec">print_s2varlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="18184"><span class="dyncstdec">prerr_s2varlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2varlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2varlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">val</span> <a name="18316"><span class="dyncstdec">s2varset_nil <span class="keyword">:</span> <span class="staexp">s2varset_t</span></span></a>

<span class="keyword">fun</span> <a name="18347"><span class="dyncstdec">fprint_s2varset <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> svs<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2varset</span>

<span class="keyword">fun</span> <a name="18486"><span class="dyncstdec">s2varset_add <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varset_t</span></span></a>
<span class="keyword">fun</span> <a name="18543"><span class="dyncstdec">s2varset_adds <span class="keyword">(</span>svs<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">,</span> s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varset_t</span></span></a>
<span class="keyword">fun</span> <a name="18607"><span class="dyncstdec">s2varset_del <span class="keyword">(</span>svs<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">,</span> s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varset_t</span></span></a>
<span class="keyword">fun</span> <a name="18668"><span class="dyncstdec">s2varset_dels <span class="keyword">(</span>svs<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">,</span> s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varset_t</span></span></a>
<span class="keyword">fun</span> <a name="18732"><span class="dyncstdec">s2varset_union <span class="keyword">(</span>svs1<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">,</span> svs2<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varset_t</span></span></a>

<span class="keyword">fun</span> <a name="18801"><span class="dyncstdec">s2varset_ismem <span class="keyword">(</span>svs<span class="keyword">:</span> <span class="staexp">s2varset_t</span><span class="keyword">,</span> s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// [s2Var_t] is assumed in [ats_staexp2_svVar.dats]
</span>
<span class="keyword">fun</span> <a name="18933"><span class="dyncstdec">s2Var_make_srt <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Var_t</span></span></a>
<span class="keyword">fun</span> <a name="18983"><span class="dyncstdec">s2Var_make_var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Var_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="19041"><span class="dyncstdec">s2Var_loc_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">loc_t</span></span></a>
<span class="keyword">fun</span> <a name="19079"><span class="dyncstdec">s2Var_cnt_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">count_t</span></span></a>
<span class="keyword">fun</span> <a name="19119"><span class="dyncstdec">s2Var_srt_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="19156"><span class="dyncstdec">s2Var_srt_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="19202"><span class="dyncstdec">s2Var_link_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option s2exp</span></span></a>
<span class="keyword">fun</span> <a name="19248"><span class="dyncstdec">s2Var_link_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="19299"><span class="dyncstdec">s2Var_svar_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option s2var_t</span></span></a>
<span class="keyword">fun</span> <a name="19347"><span class="dyncstdec">s2Var_lbs_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varboundlst</span></span></a>
<span class="keyword">fun</span> <a name="19393"><span class="dyncstdec">s2Var_lbs_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> lbs<span class="keyword">:</span> <span class="staexp">s2Varboundlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="19450"><span class="dyncstdec">s2Var_ubs_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varboundlst</span></span></a>
<span class="keyword">fun</span> <a name="19496"><span class="dyncstdec">s2Var_ubs_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> ubs<span class="keyword">:</span> <span class="staexp">s2Varboundlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="19553"><span class="dyncstdec">s2Var_sVarset_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>
<span class="keyword">fun</span> <a name="19600"><span class="dyncstdec">s2Var_sVarset_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> sVs<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="19658"><span class="dyncstdec">s2Var_stamp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="19705"><span class="dyncstdec">s2Varbound_make <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varbound_t</span></span></a>
<span class="keyword">fun</span> <a name="19764"><span class="dyncstdec">s2Varbound_loc_get <span class="keyword">(</span>s2Vb<span class="keyword">:</span> <span class="staexp">s2Varbound_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">loc_t</span></span></a>
<span class="keyword">fun</span> <a name="19815"><span class="dyncstdec">s2Varbound_val_get <span class="keyword">(</span>s2Vb<span class="keyword">:</span> <span class="staexp">s2Varbound_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="19871"><span class="dyncstdec">lt_s2Var_s2Var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_s2Var_s2Var</span>

<span class="keyword">fun</span> <a name="19953"><span class="dyncstdec">lte_s2Var_s2Var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_s2Var_s2Var</span>

<span class="keyword">fun</span> <a name="20038"><span class="dyncstdec">eq_s2Var_s2Var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_s2Var_s2Var</span>

<span class="keyword">fun</span> <a name="20120"><span class="dyncstdec">neq_s2Var_s2Var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> eq_s2Var_s2Var</span>

<span class="keyword">fun</span> <a name="20204"><span class="dyncstdec">compare_s2Var_s2Var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Sgn</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> compare <span class="keyword">with</span> compare_s2Var_s2Var</span>

<span class="comment">//
</span>
<span class="comment">// implemented in [ats_staexp2_dcon.dats]
</span><span class="keyword">fun</span> <a name="20347"><span class="dyncstdec">fprint_s2Var <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2V<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2Var</span>

<span class="keyword">fun</span> <a name="20477"><span class="dyncstdec">fprint_s2Varlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2Vs<span class="keyword">:</span> <span class="staexp">s2Varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2Varlst</span>

<span class="keyword">fun</span> <a name="20615"><span class="dyncstdec">print_s2Var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="20650"><span class="dyncstdec">prerr_s2Var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2Var</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2Var</span>

<span class="keyword">fun</span> <a name="20751"><span class="dyncstdec">print_s2Varlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="20790"><span class="dyncstdec">prerr_s2Varlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2Varlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2Varlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">val</span> <a name="20922"><span class="dyncstdec">s2Varset_nil <span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>

<span class="keyword">fun</span> <a name="20953"><span class="dyncstdec">fprint_s2Varset <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> sVs<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2Varset</span>

<span class="keyword">fun</span> <a name="21092"><span class="dyncstdec">s2Varset_add <span class="keyword">(</span>sVs<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">,</span> s2V<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>
<span class="keyword">fun</span> <a name="21153"><span class="dyncstdec">s2Varset_adds <span class="keyword">(</span>sVs<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">,</span> s2Vs<span class="keyword">:</span> <span class="staexp">s2Varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>
<span class="keyword">fun</span> <a name="21217"><span class="dyncstdec">s2Varset_del <span class="keyword">(</span>sVs<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">,</span> s2V<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>
<span class="keyword">fun</span> <a name="21278"><span class="dyncstdec">s2Varset_dels <span class="keyword">(</span>sVs<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">,</span> s2Vs<span class="keyword">:</span> <span class="staexp">s2Varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>
<span class="keyword">fun</span> <a name="21342"><span class="dyncstdec">s2Varset_union <span class="keyword">(</span>sVs1<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">,</span> sVs2<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2Varset_t</span></span></a>

<span class="keyword">fun</span> <a name="21411"><span class="dyncstdec">s2Varset_ismem <span class="keyword">(</span>sVs<span class="keyword">:</span> <span class="staexp">s2Varset_t</span><span class="keyword">,</span> s2V<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="21490"><span class="dyncstdec">s2qualst_reverse <span class="keyword">(</span>xs<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2qualst</span></span></a>

<span class="keyword">fun</span> <a name="21537"><span class="dyncstdec">fprint_s2qua <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2q<span class="keyword">:</span> <span class="staexp">s2qua</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="21631"><span class="dyncstdec">fprint_s2qualst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2qs<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="21732"><span class="dyncstdec">print_s2qualst <span class="keyword">(</span>s2qs<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="21774"><span class="dyncstdec">prerr_s2qualst <span class="keyword">(</span>s2qs<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// [d2con_t] is assumed in [ats_staexp2_dcon.dats]
</span>
<span class="keyword">fun</span> <a name="21890"><span class="dyncstdec">d2con_make <span class="keyword">(</span>
  loc<span class="keyword">:</span> <span class="staexp">loc_t</span> <span class="comment">// location
</span><span class="keyword">,</span> fil<span class="keyword">:</span> <span class="staexp">fil_t</span> <span class="comment">// filename
</span><span class="keyword">,</span> id<span class="keyword">:</span> <span class="staexp">sym_t</span> <span class="comment">// the name
</span><span class="keyword">,</span> s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span> <span class="comment">// the type constructor
</span><span class="keyword">,</span> vwtp<span class="keyword">:</span> <span class="staexp">int</span>
<span class="keyword">,</span> qua<span class="keyword">:</span> <span class="staexp">s2qualst</span>
<span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span> <span class="comment">// pfarity
</span><span class="keyword">,</span> arg<span class="keyword">:</span> <span class="staexp">s2explst</span> <span class="comment">// arguments
</span><span class="keyword">,</span> ind<span class="keyword">:</span> <span class="staexp">s2explstopt</span> <span class="comment">// indexes
</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">d2con_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="22146"><span class="dyncstdec">d2con_make_list_nil <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2con_t</span></span></a>
<span class="keyword">fun</span> <a name="22182"><span class="dyncstdec">d2con_make_list_cons <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2con_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="22224"><span class="dyncstdec">d2con_fil_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">fil_t</span></span></a>
<span class="keyword">fun</span> <a name="22262"><span class="dyncstdec">d2con_sym_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sym_t</span></span></a>
<span class="keyword">fun</span> <a name="22300"><span class="dyncstdec">d2con_scst_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2cst_t</span></span></a>
<span class="keyword">fun</span> <a name="22341"><span class="dyncstdec">d2con_vwtp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="22378"><span class="dyncstdec">d2con_qua_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2qualst</span></span></a>
<span class="keyword">fun</span> <a name="22419"><span class="dyncstdec">d2con_npf_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="22455"><span class="dyncstdec">d2con_arg_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst</span></span></a>
<span class="keyword">fun</span> <a name="22496"><span class="dyncstdec">d2con_arity_full_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="22539"><span class="dyncstdec">d2con_arity_real_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="22582"><span class="dyncstdec">d2con_ind_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explstopt</span></span></a>
<span class="keyword">fun</span> <a name="22626"><span class="dyncstdec">d2con_typ_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="22664"><span class="dyncstdec">d2con_tag_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="22700"><span class="dyncstdec">d2con_tag_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="22745"><span class="dyncstdec">d2con_stamp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="22792"><span class="dyncstdec">lt_d2con_d2con <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_d2con_d2con</span>

<span class="keyword">fun</span> <a name="22874"><span class="dyncstdec">lte_d2con_d2con <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_d2con_d2con</span>

<span class="keyword">fun</span> <a name="22959"><span class="dyncstdec">eq_d2con_d2con <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_d2con_d2con</span>

<span class="keyword">fun</span> <a name="23041"><span class="dyncstdec">neq_d2con_d2con <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> neq_d2con_d2con</span>

<span class="keyword">fun</span> <a name="23126"><span class="dyncstdec">compare_d2con_d2con <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> compare <span class="keyword">with</span> compare_d2con_d2con</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="23229"><span class="dyncstdec">d2con_is_exn <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="comment">// exn constructor
</span><span class="keyword">fun</span> <a name="23286"><span class="dyncstdec">d2con_is_msg <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="comment">// msg constructor
</span><span class="keyword">fun</span> <a name="23343"><span class="dyncstdec">d2con_is_proof <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="comment">// proof constructor
</span>
<span class="comment">//
</span>
<span class="comment">// implemented in [ats_staexp2_dcon.dats]
</span><span class="keyword">fun</span> <a name="23451"><span class="dyncstdec">fprint_d2con <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">and</span> <a name="23547"><span class="dyncstdec">fprint_d2conlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2cs<span class="keyword">:</span> <span class="staexp">d2conlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2con</span>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2conlst</span>

<span class="keyword">fun</span> <a name="23720"><span class="dyncstdec">print_d2con <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="23755"><span class="dyncstdec">prerr_d2con <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2con</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2con</span>

<span class="keyword">fun</span> <a name="23856"><span class="dyncstdec">print_d2conlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2conlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="23895"><span class="dyncstdec">prerr_d2conlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2conlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2conlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2conlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24027"><span class="dyncstdec">fprint_s2item <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2i<span class="keyword">:</span> <span class="staexp">s2item</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2item</span>

<span class="keyword">fun</span> <a name="24158"><span class="dyncstdec">print_s2item <span class="keyword">(</span>s2i<span class="keyword">:</span> <span class="staexp">s2item</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="24195"><span class="dyncstdec">prerr_s2item <span class="keyword">(</span>s2i<span class="keyword">:</span> <span class="staexp">s2item</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2item</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2item</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24321"><span class="dyncstdec">s2arg_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> id<span class="keyword">:</span> <span class="staexp">sym_t</span><span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">s2rtopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2arg</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24401"><span class="dyncstdec">fprint_s2eff <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2fe<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2eff</span>

<span class="keyword">fun</span> <a name="24530"><span class="dyncstdec">print_s2eff <span class="keyword">(</span>s2fe<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="24566"><span class="dyncstdec">prerr_s2eff <span class="keyword">(</span>s2fe<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2eff</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2eff</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24689"><span class="dyncstdec">s2eff_union_eff <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>effect_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2eff</span></span></a>
<span class="keyword">fun</span> <a name="24745"><span class="dyncstdec">s2eff_union_s2eff <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2eff</span></span></a>

<span class="keyword">fun</span> <a name="24796"><span class="dyncstdec">s2eff_contain_eff <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>effect_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="24853"><span class="dyncstdec">s2eff_contain_effset <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Eff<span class="keyword">.</span>effset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="24913"><span class="dyncstdec">s2eff_contain_effvar <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="24967"><span class="dyncstdec">s2eff_contain_s2eff <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="25040"><span class="dyncstdec">s2lab_syneq <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2lab</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="25083"><span class="dyncstdec">s2lablst_trim_s2lablst_s2lablst
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2lablst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2lablst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2lablst</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="25193"><span class="dyncstdec">fprint_s2lab <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2l<span class="keyword">:</span> <span class="staexp">s2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2lab</span>

<span class="keyword">fun</span> <a name="25321"><span class="dyncstdec">print_s2lab <span class="keyword">(</span>s2l<span class="keyword">:</span> <span class="staexp">s2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="25356"><span class="dyncstdec">prerr_s2lab <span class="keyword">(</span>s2l<span class="keyword">:</span> <span class="staexp">s2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="25392"><span class="dyncstdec">fprint_s2lablst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2ls<span class="keyword">:</span> <span class="staexp">s2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2lablst</span>

<span class="keyword">fun</span> <a name="25530"><span class="dyncstdec">print_s2lablst <span class="keyword">(</span>s2ls<span class="keyword">:</span> <span class="staexp">s2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="25572"><span class="dyncstdec">prerr_s2lablst <span class="keyword">(</span>s2ls<span class="keyword">:</span> <span class="staexp">s2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="25636"><span class="dyncstdec">fprint_s2kexp <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2ke<span class="keyword">:</span> <span class="staexp">s2kexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2kexp</span>

<span class="keyword">fun</span> <a name="25768"><span class="dyncstdec">fprint_s2kexplst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2kes<span class="keyword">:</span> <span class="staexp">s2kexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2kexplst</span>

<span class="keyword">fun</span> <a name="25910"><span class="dyncstdec">fprint_labs2kexplst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> ls2kes<span class="keyword">:</span> <span class="staexp">labs2kexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_labs2kexplst</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="26066"><span class="dyncstdec">print_s2kexp <span class="keyword">(</span>s2ke<span class="keyword">:</span> <span class="staexp">s2kexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="26104"><span class="dyncstdec">prerr_s2kexp <span class="keyword">(</span>s2ke<span class="keyword">:</span> <span class="staexp">s2kexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2kexp</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2kexp</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="26231"><span class="dyncstdec">fprint_s2zexp <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2ze<span class="keyword">:</span> <span class="staexp">s2zexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="26327"><span class="dyncstdec">print_s2zexp <span class="keyword">(</span>s2ze<span class="keyword">:</span> <span class="staexp">s2zexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="26365"><span class="dyncstdec">prerr_s2zexp <span class="keyword">(</span>s2ze<span class="keyword">:</span> <span class="staexp">s2zexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="26404"><span class="dyncstdec">fprint_s2zexplst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2zes<span class="keyword">:</span> <span class="staexp">s2zexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="26508"><span class="dyncstdec">fprint_labs2zexplst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> ls2zes<span class="keyword">:</span> <span class="staexp">labs2zexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="26640"><span class="dyncstdec">s2exp_is_proof <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="26678"><span class="dyncstdec">s2exp_is_proof_fun <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="26720"><span class="dyncstdec">s2exp_is_linear <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="26759"><span class="dyncstdec">s2exp_is_nonlin <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="26798"><span class="dyncstdec">s2exp_is_impredicative <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="26844"><span class="dyncstdec">s2exp_is_types <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="26883"><span class="dyncstdec">s2exp_is_abscon <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="26923"><span class="dyncstdec">s2exp_is_non_fun <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="26963"><span class="dyncstdec">s2exp_is_non_tyrec <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="27006"><span class="dyncstdec">s2exp_is_wth <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="27064"><span class="dyncstdec">s2exp_srt_set
  <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atsopt_s2exp_srt_set"
<span class="comment">// end of [s2exp_srt_set]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="27187"><span class="dyncstdec">fprint_s2exp <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2exp</span>

<span class="keyword">fun</span> <a name="27315"><span class="dyncstdec">fprint_s2explst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2explst</span>

<span class="keyword">fun</span> <a name="27453"><span class="dyncstdec">fprint_s2explstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2ess<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2explstlst</span>

<span class="keyword">fun</span> <a name="27601"><span class="dyncstdec">fprint_s2expopt <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2expopt</span>

<span class="keyword">fun</span> <a name="27739"><span class="dyncstdec">print_s2exp <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27774"><span class="dyncstdec">prerr_s2exp <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2exp</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2exp</span>

<span class="keyword">fun</span> <a name="27875"><span class="dyncstdec">print_s2explst <span class="keyword">(</span>s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27917"><span class="dyncstdec">prerr_s2explst <span class="keyword">(</span>s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2explst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2explst</span>

<span class="keyword">fun</span> <a name="28031"><span class="dyncstdec">print_labs2explst <span class="keyword">(</span>ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="28080"><span class="dyncstdec">prerr_labs2explst <span class="keyword">(</span>ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_labs2explst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_labs2explst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="28228"><span class="dyncstdec">fprint_labs2explst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_labs2explst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="28397"><span class="dyncstdec">fprint_tmps2explstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> ts2ess<span class="keyword">:</span> <span class="staexp">tmps2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_tmps2explstlst</span>

<span class="keyword">fun</span> <a name="28555"><span class="dyncstdec">print_tmps2explstlst <span class="keyword">(</span>ts2ess<span class="keyword">:</span> <span class="staexp">tmps2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="28611"><span class="dyncstdec">prerr_tmps2explstlst <span class="keyword">(</span>ts2ess<span class="keyword">:</span> <span class="staexp">tmps2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="28689"><span class="dyncstdec">fprint_wths2explst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> wths2es<span class="keyword">:</span> <span class="staexp">wths2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_wths2explst</span>

<span class="keyword">fun</span> <a name="28839"><span class="dyncstdec">print_wths2explst <span class="keyword">(</span>wths2es<span class="keyword">:</span> <span class="staexp">wths2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="28890"><span class="dyncstdec">prerr_wths2explst <span class="keyword">(</span>wths2es<span class="keyword">:</span> <span class="staexp">wths2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="28963"><span class="dyncstdec">fprint_s2exparg <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2a<span class="keyword">:</span> <span class="staexp">s2exparg</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2exparg</span>

<span class="keyword">fun</span> <a name="29100"><span class="dyncstdec">fprint_s2exparglst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> s2as<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_s2exparglst</span>

<span class="keyword">fun</span> <a name="29247"><span class="dyncstdec">print_s2exparglst <span class="keyword">(</span>s2as<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="29295"><span class="dyncstdec">prerr_s2exparglst <span class="keyword">(</span>s2as<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_s2exparglst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_s2exparglst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="29442"><span class="dyncstdec">sp2at_con <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sp2at</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="29528"><span class="dyncstdec">s2exp_app_srt
  <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> s2e_fun<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2es_arg<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29603"><span class="dyncstdec">s2exp_app_wind <span class="keyword">(</span>s2e_fun<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2ess_arg<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29670"><span class="dyncstdec">s2exp_char <span class="keyword">(</span>chr<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29704"><span class="dyncstdec">s2exp_clo_srt <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29763"><span class="dyncstdec">s2exp_confun <span class="keyword">(</span>npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29826"><span class="dyncstdec">s2exp_crypt <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29862"><span class="dyncstdec">s2exp_cst <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29898"><span class="dyncstdec">s2exp_cstapp <span class="keyword">(</span>s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="29953"><span class="dyncstdec">s2exp_datconptr <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30011"><span class="dyncstdec">s2exp_datcontyp <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30069"><span class="dyncstdec">s2exp_eff <span class="keyword">(</span>s2fe<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30104"><span class="dyncstdec">s2exp_eqeq <span class="keyword">(</span>s2e1<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2e2<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30153"><span class="dyncstdec">s2exp_exi <span class="keyword">(</span>s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> s2ps<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="keyword">fun</span> <a name="30220"><span class="dyncstdec">s2exp_extype_srt
  <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> arglst<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="comment">// end of [s2exp_extype_srt]
</span>
<span class="keyword">fun</span> <a name="30327"><span class="dyncstdec">s2exp_fun_srt <span class="keyword">(</span>
    s2t<span class="keyword">:</span> <span class="staexp">s2rt</span>
  <span class="keyword">,</span> fc<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>funclo</span><span class="keyword">,</span> lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> s2fe<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span>
  <span class="keyword">,</span> s2es_arg<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> s2e_res<span class="keyword">:</span> <span class="staexp">s2exp</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="comment">// end of [s2exp_fun_srt]
</span>
<span class="keyword">fun</span> <a name="30492"><span class="dyncstdec">s2exp_int <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">val</span> <a name="30522"><span class="dyncstdec">s2exp_int_0 <span class="keyword">:</span> <span class="staexp">s2exp</span></span></a> <span class="keyword">and</span> <a name="30546"><span class="dyncstdec">s2exp_int_1 <span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30570"><span class="dyncstdec">s2exp_intinf <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">intinf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="keyword">fun</span> <a name="30609"><span class="dyncstdec">s2exp_lam_srt <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30674"><span class="dyncstdec">s2exp_metfn
  <span class="keyword">(</span>d2vopt<span class="keyword">:</span> <span class="staexp">Option stamp_t</span><span class="keyword">,</span> met<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> s2e_fun<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30755"><span class="dyncstdec">s2exp_metlt <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>met1<span class="keyword">:</span> <span class="staexp">s2explst n</span><span class="keyword">,</span> met2<span class="keyword">:</span> <span class="staexp">s2explst n</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="comment">(*
// HX-2010-12-04: inadequate design
fun s2exp_named (s2t: s2rt, name: sym_t, s2e: s2exp): s2exp
*)</span>

<span class="keyword">fun</span> <a name="30927"><span class="dyncstdec">s2exp_out <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="30961"><span class="dyncstdec">s2exp_proj <span class="keyword">(</span>ptr<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> lab<span class="keyword">:</span> <span class="staexp">s2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="keyword">fun</span> <a name="31009"><span class="dyncstdec">s2exp_read <span class="keyword">(</span>s2e_v<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2e_vt<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31061"><span class="dyncstdec">s2exp_read_srt <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> s2e_v<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2e_vt<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31128"><span class="dyncstdec">un_s2exp_read <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt <span class="keyword">@(</span>s2exp<span class="keyword">,</span> s2exp<span class="keyword">)</span></span></span></a>

<span class="keyword">fun</span> <a name="31187"><span class="dyncstdec">s2exp_refarg <span class="keyword">(</span>refval<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31237"><span class="dyncstdec">un_s2exp_refarg_arg <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="keyword">fun</span> <a name="31282"><span class="dyncstdec">s2exp_sel_srt <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> i<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31339"><span class="dyncstdec">s2exp_size <span class="keyword">(</span>s2ze<span class="keyword">:</span> <span class="staexp">s2zexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31376"><span class="dyncstdec">s2exp_sizeof <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="keyword">fun</span> <a name="31414"><span class="dyncstdec">s2exp_top_srt <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31473"><span class="dyncstdec">s2exp_tup_srt <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31526"><span class="dyncstdec">s2exp_tyarr <span class="keyword">(</span>elt<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> dim<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31580"><span class="dyncstdec">s2exp_tyleq <span class="keyword">(</span>knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> s2e1<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2e2<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31640"><span class="dyncstdec">s2exp_tylst <span class="keyword">(</span>s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31680"><span class="dyncstdec">s2exp_tyrec <span class="keyword">(</span>recknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31747"><span class="dyncstdec">s2exp_tyrec_srt
  <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> k<span class="keyword">:</span> <span class="staexp">tyreckind</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31832"><span class="dyncstdec">s2exp_uni <span class="keyword">(</span>s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> s2ps<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31898"><span class="dyncstdec">s2exp_union
  <span class="keyword">(</span>isbox<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">,</span> stamp<span class="keyword">:</span> <span class="staexp">stamp_t</span><span class="keyword">,</span> s2i<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="31985"><span class="dyncstdec">s2exp_union_srt
  <span class="keyword">(</span>s2t<span class="keyword">:</span> <span class="staexp">s2rt</span><span class="keyword">,</span> stamp<span class="keyword">:</span> <span class="staexp">stamp_t</span><span class="keyword">,</span> s2i<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="32074"><span class="dyncstdec">s2exp_var <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="32110"><span class="dyncstdec">s2exp_vararg <span class="keyword">(</span>arg<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="32147"><span class="dyncstdec">s2exp_Var <span class="keyword">(</span>s2V<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="32183"><span class="dyncstdec">s2exp_wth <span class="keyword">(</span>_res<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> _with<span class="keyword">:</span> <span class="staexp">wths2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="32260"><span class="dyncstdec">s2exparg_one <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exparg</span></span></a>
<span class="keyword">fun</span> <a name="32300"><span class="dyncstdec">s2exparg_all <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exparg</span></span></a>
<span class="keyword">fun</span> <a name="32340"><span class="dyncstdec">s2exparg_seq <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exparg</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// implemented in [ats_staexp2_util1.dats]
</span><span class="keyword">fun</span> <a name="32461"><span class="dyncstdec">s2exp_head_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="keyword">fun</span> <a name="32499"><span class="dyncstdec">s2cst_select_s2explstlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2cstlst</span></span></a>

<span class="keyword">fun</span> <a name="32569"><span class="dyncstdec">s2rt_lin_prg_boxed <span class="keyword">(</span>lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> prg<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> boxed<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="keyword">fun</span> <a name="32631"><span class="dyncstdec">s2rt_lin_prg_boxed_npf_labs2explst
  <span class="keyword">(</span>lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> prg<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> boxed<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> ls2es<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2rt</span></span></a>
<span class="comment">// end of [s2rt_lin_prg_boxed_npf_labs2explst]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="32810"><span class="dyncstdec">s2kexp_make_s2exp <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2kexp</span></span></a>

<span class="keyword">fun</span> <a name="32854"><span class="dyncstdec">s2kexp_match_approx
  <span class="keyword">(</span>pol<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2kexp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2kexp</span><span class="keyword">,</span> approx<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="32934"><span class="dyncstdec">s2kexplst_match_approx
  <span class="keyword">(</span>pol<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2kexplst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2kexplst</span><span class="keyword">,</span> approx<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="comment">// end of [s2kexplst_match_approx]
</span>
<span class="keyword">fun</span> <a name="33058"><span class="dyncstdec">labs2kexplst_match_approx
  <span class="keyword">(</span>pol<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">labs2kexplst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">labs2kexplst</span><span class="keyword">,</span> approx<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="comment">// end of [labs2kexplst_match_approx]
</span>
<span class="keyword">fun</span> <a name="33194"><span class="dyncstdec">s2kexp_match_fun_arg
  <span class="keyword">(</span>s2ke_fun<span class="keyword">:</span> <span class="staexp">s2kexp</span><span class="keyword">,</span> s2kes_arg<span class="keyword">:</span> <span class="staexp">s2kexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt <span class="keyword">@(</span>s2kexp<span class="keyword">,</span> int<span class="keyword">)</span></span></span></a>
<span class="comment">// end of [s2kexp_match_fun_arg]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="comment">// substitution functions
</span>
<span class="keyword">abstype</span> <span class="staexp"><a name="33374"><span class="stacstdec">stasub_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">val</span> <a name="33402"><span class="dyncstdec">stasub_nil <span class="keyword">:</span> <span class="staexp">stasub_t</span></span></a>
<span class="keyword">fun</span> <a name="33428"><span class="dyncstdec">stasub_add <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stasub_t</span></span></a>
<span class="keyword">fun</span> <a name="33489"><span class="dyncstdec">stasub_addlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stasub_t</span></span></a>

<span class="keyword">fun</span> <a name="33558"><span class="dyncstdec">stasub_domain_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varlst</span></span></a>
<span class="keyword">fun</span> <a name="33604"><span class="dyncstdec">stasub_codomain_get_whnf <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst</span></span></a>

<span class="keyword">fun</span> <a name="33658"><span class="dyncstdec">stasub_extend_svarlst
  <span class="keyword">(</span>sub<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>stasub_t<span class="keyword">,</span> s2varlst<span class="keyword">)</span></span></span></a>

<span class="keyword">fun</span> <a name="33742"><span class="dyncstdec">stasub_extend_sarglst_svarlst
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> sub<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> s2as<span class="keyword">:</span> <span class="staexp">s2arglst</span><span class="keyword">,</span> s2vs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>stasub_t<span class="keyword">,</span> s2varlst<span class="keyword">)</span></span></span></a>

<span class="keyword">fun</span> <a name="33866"><span class="dyncstdec">s2exp_subst <span class="keyword">(</span>sub<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="33917"><span class="dyncstdec">s2explst_subst <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>sub<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> s2es<span class="keyword">:</span> <span class="staexp">s2explst n</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst n</span></span></a>
<span class="keyword">fun</span> <a name="33990"><span class="dyncstdec">s2expopt_subst <span class="keyword">(</span>sub<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> os2e<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2expopt</span></span></a>

<span class="keyword">fun</span> <a name="34052"><span class="dyncstdec">s2explstlst_subst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">stasub_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explstlst</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="34139"><span class="dyncstdec">s2exp_alpha 
  <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> s2v1<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="comment">// end of [s2exp_alpha]
</span>
<span class="keyword">fun</span> <a name="34232"><span class="dyncstdec">s2explst_alpha
  <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> s2v1<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst</span></span></a>
<span class="comment">// end of [s2explst_alpha]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="34357"><span class="dyncstdec">s2exp_freevars <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varset_t</span></span></a>
<span class="keyword">fun</span> <a name="34399"><span class="dyncstdec">s2Var_s2exp_occurs
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2Var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2cstlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="34480"><span class="dyncstdec">s2exp_link_remove <span class="keyword">(</span>root<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="34545"><span class="dyncstdec">eqref_s2exp_s2exp
  <span class="keyword">(</span>s2e1<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2e2<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
  <span class="keyword">=</span> "atsopt_eqref_s2exp_s2exp"
<span class="comment">// end of [eqref_s2exp_s2exp]
</span>
<span class="keyword">fun</span> <a name="34664"><span class="dyncstdec">s2exp_syneq <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="34707"><span class="dyncstdec">s2explst_syneq <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="34759"><span class="dyncstdec">s2explstlst_syneq <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="34820"><span class="dyncstdec">s2zexp_syneq <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2zexp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2zexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="34866"><span class="dyncstdec">s2zexp_make_s2exp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2zexp</span></span></a>

<span class="keyword">fun</span> <a name="34908"><span class="dyncstdec">s2exp_projlst <span class="keyword">(</span>_root<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> _path<span class="keyword">:</span> <span class="staexp">s2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="34965"><span class="dyncstdec">s2exp_addr_normalize <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2exp<span class="keyword">,</span> s2lablst<span class="keyword">)</span></span></span></a>

<span class="keyword">fun</span> <a name="35022"><span class="dyncstdec">s2exp_readize <span class="keyword">(</span>_v<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> _vt<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="35071"><span class="dyncstdec">s2expopt_readize <span class="keyword">(</span>_v<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> _vt<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2expopt</span></span></a>

<span class="keyword">fun</span> <a name="35130"><span class="dyncstdec">s2exp_topize <span class="keyword">(</span>knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="35177"><span class="dyncstdec">s2exp_topize_0 <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a> <span class="comment">// = s2exp_topize (0, s2e)
</span><span class="keyword">fun</span> <a name="35243"><span class="dyncstdec">s2exp_topize_1 <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a> <span class="comment">// = s2exp_topize (1, s2e)
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="comment">// weak-head normalization
</span><span class="keyword">fun</span> <a name="35358"><span class="dyncstdec">s2exp_whnf <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="35393"><span class="dyncstdec">s2explst_whnf <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>s2es<span class="keyword">:</span> <span class="staexp">s2explst n</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst n</span></span></a>

<span class="keyword">abstype</span> <span class="staexp"><a name="35455"><span class="stacstdec">s2exp_whnf_t</span></a></span> <span class="comment">// boxed type
</span><span class="keyword">fun</span> <a name="35486"><span class="dyncstdec">s2exp_of_s2exp_whnf <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp_whnf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="35537"><span class="dyncstdec">s2exp_whnf_of_s2exp <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp_whnf_t</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// application normalization
</span><span class="keyword">fun</span> <a name="35639"><span class="dyncstdec">s2exp_nfapp <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="35675"><span class="dyncstdec">s2explst_nfapp <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>s2es<span class="keyword">:</span> <span class="staexp">s2explst n</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst n</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// implemented in [ats_staexp2_util1.dats]
</span><span class="keyword">fun</span> <a name="35798"><span class="dyncstdec">s2exp_absuni <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2varlst<span class="keyword">,</span> s2explst<span class="keyword">,</span> s2exp<span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="35858"><span class="dyncstdec">s2exp_opnexi <span class="keyword">(</span>s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2varlst<span class="keyword">,</span> s2explst<span class="keyword">,</span> s2exp<span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="35918"><span class="dyncstdec">s2explst_opnexi <span class="keyword">(</span>s2es<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2varlst<span class="keyword">,</span> s2explst<span class="keyword">,</span> s2explst<span class="keyword">)</span></span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// implemented in [ats_staexp2_util2.dats]
</span>
<span class="keyword">fun</span> <a name="36054"><span class="dyncstdec">labs2explst_lab_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">,</span> l0<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2expopt_vt</span></span></a>
<span class="keyword">fun</span> <a name="36119"><span class="dyncstdec">labs2explst_lab_set
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">labs2explst</span><span class="keyword">,</span> l0<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt labs2explst</span></span></a>
<span class="comment">// end of [labs2explst_lab_set]
</span>
<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="36246"><span class="dyncstdec">labs2zexplst_lab_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">labs2zexplst</span><span class="keyword">,</span> l0<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2zexpopt_vt</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="36319"><span class="dyncstdec">s2exp_lab_get_restlin_cstr
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> l0<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">,</span> restlin<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>int</span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="keyword">fun</span> <a name="36430"><span class="dyncstdec">s2exp_slablst_get_restlin_cstr <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2ls<span class="keyword">:</span> <span class="staexp">list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span></span><span class="keyword">,</span> restlin<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>int</span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2exp<span class="keyword">,</span> list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span><span class="keyword">)</span></span></span></a>
<span class="comment">// end of [s2exp_slablst_get_restlin_cstr]
</span>
<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="36635"><span class="dyncstdec">s2exp_lab_linget_cstr
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> l0<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a><span class="comment">(*result*)</span>
<span class="comment">// end of [s2exp_lab_linget_cstr]
</span>
<span class="keyword">fun</span> <a name="36770"><span class="dyncstdec">s2exp_ind_linget_cstr
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e_arr<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2ess_ind<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">s2exp</span></span></a><span class="comment">(*element*)</span>
<span class="comment">// end of [s2exp_ind_linget_cstr]
</span>
<span class="keyword">fun</span> <a name="36925"><span class="dyncstdec">s2exp_slab_linget_cstr
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2l<span class="keyword">:</span> <span class="staexp">s2lab</span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2exp<span class="comment">(*result*)</span><span class="keyword">,</span> s2lab<span class="comment">(*updated label*)</span><span class="keyword">)</span></span></span></a>
<span class="comment">// end of [s2exp_slab_linget_cstr]
</span>
<span class="keyword">fun</span> <a name="37093"><span class="dyncstdec">s2exp_lab_linset
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> l0<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">,</span> s2e_new<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="comment">// end of [s2exp_lab_linset]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="37228"><span class="dyncstdec">s2exp_slablst_lintry_cstr <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2ls<span class="keyword">:</span> <span class="staexp">list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span></span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span></span></span></a>
<span class="comment">// end of ...
</span>
<span class="keyword">fun</span> <a name="37370"><span class="dyncstdec">s2exp_slablst_linget_cstr <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2ls<span class="keyword">:</span> <span class="staexp">list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span></span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2exp<span class="comment">(*part*)</span><span class="keyword">,</span> s2exp<span class="comment">(*whole*)</span><span class="keyword">,</span> list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span><span class="keyword">)</span></span></span></a>
<span class="comment">// end of ...
</span>
<span class="keyword">fun</span> <a name="37546"><span class="dyncstdec">s2exp_slablst_linset_cstr <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2ls<span class="keyword">:</span> <span class="staexp">list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span></span><span class="keyword">,</span> s2e_new<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2exp<span class="comment">(*part*)</span><span class="keyword">,</span> s2exp<span class="comment">(*whole*)</span><span class="keyword">,</span> list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span><span class="keyword">)</span></span></span></a>
<span class="comment">// end of ...
</span>
<span class="keyword">fun</span> <a name="37738"><span class="dyncstdec">s2exp_slablst_lindel_cstr <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2e0<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2ls<span class="keyword">:</span> <span class="staexp">list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span></span><span class="keyword">,</span> cstr<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>s2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp"><span class="keyword">@(</span>s2exp<span class="comment">(*part*)</span><span class="keyword">,</span> s2exp<span class="comment">(*whole*)</span><span class="keyword">,</span> list <span class="keyword">(</span>s2lab<span class="keyword">,</span> n<span class="keyword">)</span><span class="keyword">)</span></span></span></a>
<span class="comment">// end of ...
</span>
<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX-2010-04-07:
</span><span class="comment">// this functions yields a definite answer
</span><span class="comment">// if both [s2e1] and [s2e2] are constants
</span><span class="comment">//
</span><span class="comment">// positive:  1
</span><span class="comment">// negative: ~1
</span><span class="comment">// undecided: 0
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="38095"><span class="dyncstdec">s2exp_subclass_test <span class="keyword">(</span>s2e1<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2e2<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Sgn</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* end of [ats_staexp2.sats] *)</span>
</pre>
</body>
</html>
