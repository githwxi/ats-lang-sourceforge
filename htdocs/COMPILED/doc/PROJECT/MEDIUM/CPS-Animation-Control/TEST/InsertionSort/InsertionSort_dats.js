/*
**
** The JavaScript code is generated by atscc2js
** The starting compilation time is: 2017-11-20: 10h: 4m
**
*/

/* ATSextcode_beg() */
function
asize_get()
{
  return parseInt
  (
    document.getElementById("param_asize").value
  ); // end-of-return
}
function
intmax_get()
{
  return parseInt
  (
    document.getElementById("param_intmax").value
  ); // end-of-return
}
function
ndelay_get()
{
  return parseInt
  (
    document.getElementById("param_ndelay").value
  ); // end-of-return
}
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
document_getElementById
  (id)
{
  return document.getElementById(id);
}
//
function
xmldoc_set_innerHTML
  (xmldoc, text)
  { xmldoc.innerHTML = text; return; }
//
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
button_enable(button)
{
  button.disabled=false; return;
}
function
button_disable(button)
{
  button.disabled = true; return;
}
/* ATSextcode_end() */

var CPS_056_Animation_056_Control__theStartButton

var CPS_056_Animation_056_Control__theResetButton

var CPS_056_Animation_056_Control__thePauseButton

var CPS_056_Animation_056_Control__theStep1Button

var CPS_056_Animation_056_Control__theResumeButton

var _InsertionSort__statmp0

var _InsertionSort__statmp5

var _InsertionSort__statmp6

var _InsertionSort__statmp7

var _InsertionSort__statmp8

var _InsertionSort__statmp9

var _InsertionSort__statmp17

var _InsertionSort__statmp18

function
_InsertionSort__patsfun_6__closurerize(env0)
{
  return [function(cenv, arg0) { return _InsertionSort__patsfun_6(cenv[1], arg0); }, env0];
}


function
_InsertionSort__patsfun_10__closurerize(env0)
{
  return [function(cenv, arg0) { return _InsertionSort__patsfun_10(cenv[1], arg0); }, env0];
}


function
_InsertionSort__patsfun_20__closurerize()
{
  return [function(cenv) { return _InsertionSort__patsfun_20(); }];
}


function
_InsertionSort__patsfun_14__14__1__closurerize(env0, env1, env2, env3)
{
  return [function(cenv) { return _InsertionSort__patsfun_14__14__1(cenv[1], cenv[2], cenv[3], cenv[4]); }, env0, env1, env2, env3];
}


function
_InsertionSort__patsfun_16__16__1__closurerize(env0, env1, env2, env3, env4)
{
  return [function(cenv) { return _InsertionSort__patsfun_16__16__1(cenv[1], cenv[2], cenv[3], cenv[4], cenv[5]); }, env0, env1, env2, env3, env4];
}


function
_InsertionSort__patsfun_28__closurerize()
{
  return [function(cenv, arg0, arg1) { return _InsertionSort__patsfun_28(arg0, arg1); }];
}


function
_InsertionSort__patsfun_29__closurerize()
{
  return [function(cenv) { return _InsertionSort__patsfun_29(); }];
}


function
_InsertionSort__patsfun_31__closurerize(env0)
{
  return [function(cenv, arg0) { return _InsertionSort__patsfun_31(cenv[1], arg0); }, env0];
}


function
_InsertionSort__patsfun_32__closurerize()
{
  return [function(cenv, arg0) { return _InsertionSort__patsfun_32(arg0); }];
}


function
InsertionSort__N_get()
{
//
// knd = 0
  var tmpret1
  var tmplab, tmplab_js
//
  // __patsflab_N_get
  tmpret1 = ats2jspre_ref_get_elt(_InsertionSort__statmp0);
  return tmpret1;
} // end-of-function


function
InsertionSort__N_set(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_N_set
  ats2jspre_ref_set_elt(_InsertionSort__statmp0, arg0);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__execute_after(arg0, arg1)
{
//
// knd = 0
  var tmp4
  var tmplab, tmplab_js
//
  // __patsflab_execute_after
  tmp4 = ats2jspre_cloref2fun0(arg1);
  setTimeout(tmp4, arg0);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__button_enable(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_button_enable
  button_enable(arg0);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__button_disable(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_button_disable
  button_disable(arg0);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__theArray_show_5()
{
//
// knd = 0
  var tmp20
  var tmp21
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__theArray_show_5
  tmp20 = ats2jspre_ref_get_elt(_InsertionSort__statmp18);
  tmp21 = ats2jspre_ML_array0_foreach_method(tmp20);
  tmp21[0](tmp21, _InsertionSort__patsfun_6__closurerize(tmp20));
  return/*_void*/;
} // end-of-function


function
_InsertionSort__patsfun_6(env0, arg0)
{
//
// knd = 0
  var tmp24
  var tmp25
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_6
  tmp24 = ats2jspre_gt_int1_int1(arg0, 0);
  if(tmp24) {
    ats2jspre_print_string("|");
  } else {
    // ATSINSmove_void
  } // end-of-if
  tmp25 = ats2jspre_ML_array0_get_at(env0, arg0);
  ats2jspre_print_int(tmp25);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__randint_7(arg0)
{
//
// knd = 0
  var tmpret26
  var tmp27
  var tmp28
  var tmp29
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__randint_7
  tmp27 = ats2jspre_gte_int0_int0(arg0, 2);
  if(tmp27) {
    tmp29 = ats2jspre_JSmath_random();
    tmp28 = ats2jspre_mul_int_double(arg0, tmp29);
    tmpret26 = ats2jspre_double2int(tmp28);
  } else {
    tmpret26 = 0;
  } // end-of-if
  return tmpret26;
} // end-of-function


function
InsertionSort__my_array0_tabulate(arg0, arg1)
{
//
// knd = 0
  var tmpret30
  var tmp31
  var tmp32
  var tmp33
  var tmplab, tmplab_js
//
  // __patsflab_my_array0_tabulate
  tmp32 = ats2jspre_gte_int1_int1(arg0, 0);
  if(tmp32) {
    tmp31 = arg0;
  } else {
    tmp31 = 0;
  } // end-of-if
  tmp33 = ats2jspre_arrszref_tabulate_cloref(tmp31, arg1);
  tmpret30 = tmp33;
  return tmpret30;
} // end-of-function


function
_InsertionSort__theArray_init_9()
{
//
// knd = 0
  var tmp35
  var tmp36
  var tmp37
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__theArray_init_9
  tmp35 = asize_get();
  tmp36 = intmax_get();
  tmp37 = InsertionSort__my_array0_tabulate(tmp35, _InsertionSort__patsfun_10__closurerize(tmp36));
  ats2jspre_ref_set_elt(_InsertionSort__statmp18, tmp37);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__patsfun_10(env0, arg0)
{
//
// knd = 0
  var tmpret38
  var tmp39
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_10
  tmp39 = _InsertionSort__randint_7(env0);
  tmpret38 = ats2jspre_add_int0_int0(1, tmp39);
  return tmpret38;
} // end-of-function


function
InsertionSort__InsertionSort_stage()
{
//
// knd = 0
  var tmp41
  var tmp42
  var tmplab, tmplab_js
//
  // __patsflab_InsertionSort_stage
  tmp41 = document_getElementById("theStage");
  tmp42 = ats2jspre_ref_get_elt(_InsertionSort__statmp18);
  InsertionSort__array0_chart_make(tmp41, tmp42);
  return/*_void*/;
} // end-of-function


function
CPS_056_Animation_056_Control__theCont0_init()
{
//
// knd = 0
  var tmpret66
  var tmp68
  var tmplab, tmplab_js
//
  // __patsflab_theCont0_init
  tmp68 = ndelay_get();
  CPS_056_Animation_056_Control__theNDelay_set(tmp68);
  _InsertionSort__theArray_init_9();
  InsertionSort__InsertionSort_stage();
  tmpret66 = _InsertionSort__patsfun_20__closurerize();
  return tmpret66;
} // end-of-function


function
_InsertionSort__patsfun_20()
{
//
// knd = 0
  var tmp95
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_20
  tmp95 = ats2jspre_ref_get_elt(_InsertionSort__statmp18);
  InsertionSort__array0_insertion_ksort__12__1(tmp95, _InsertionSort__patsfun_28__closurerize(), _InsertionSort__patsfun_29__closurerize());
  return/*_void*/;
} // end-of-function


function
InsertionSort__array0_insertion_ksort__12__1(arg0, arg1, arg2)
{
//
// knd = 0
  var tmp44__1
  var tmplab, tmplab_js
//
  // __patsflab_array0_insertion_ksort
  tmp44__1 = ats2jspre_ML_array0_size(arg0);
  _InsertionSort__auxsort_15__15__1(arg0, arg1, tmp44__1, 0, arg2);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__insord_13__13__1(env0, env1, arg0, arg1)
{
//
// knd = 0
  var tmp46__1
  var tmp47__1
  var tmp48__1
  var tmp49__1
  var tmp50__1
  var tmp51__1
  var tmp52__1
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__insord_13
  tmp46__1 = ats2jspre_gt_int0_int0(arg0, 0);
  if(tmp46__1) {
    tmp49__1 = ats2jspre_sub_int0_int0(arg0, 1);
    tmp48__1 = ats2jspre_ML_array0_get_at(env0, tmp49__1);
    tmp50__1 = ats2jspre_ML_array0_get_at(env0, arg0);
    tmp47__1 = env1[0](env1, tmp48__1, tmp50__1);
    tmp51__1 = ats2jspre_gt_int0_int0(tmp47__1, 0);
    if(tmp51__1) {
      tmp52__1 = ats2jspre_sub_int0_int0(arg0, 1);
      InsertionSort__array0_kswap__18__1(env0, tmp52__1, arg0, _InsertionSort__patsfun_14__14__1__closurerize(env0, env1, arg0, arg1));
    } else {
      arg1[0](arg1);
    } // end-of-if
  } else {
    arg1[0](arg1);
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
InsertionSort__array0_kswap__18__1(arg0, arg1, arg2, arg3)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_array0_kswap
  InsertionSort__array0_swap__17__1(arg0, arg1, arg2);
  InsertionSort__InsertionSort_stage();
  CPS_056_Animation_056_Control__theCont1_save(arg3);
  return/*_void*/;
} // end-of-function


function
InsertionSort__array0_swap__17__1(arg0, arg1, arg2)
{
//
// knd = 0
  var tmp60__1
  var tmp62__1
  var tmplab, tmplab_js
//
  // __patsflab_array0_swap
  tmp60__1 = ats2jspre_ML_array0_get_at(arg0, arg1);
  tmp62__1 = ats2jspre_ML_array0_get_at(arg0, arg2);
  ats2jspre_ML_array0_set_at(arg0, arg1, tmp62__1);
  ats2jspre_ML_array0_set_at(arg0, arg2, tmp60__1);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__patsfun_14__14__1(env0, env1, env2, env3)
{
//
// knd = 0
  var tmp54__1
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_14
  tmp54__1 = ats2jspre_sub_int0_int0(env2, 1);
  _InsertionSort__insord_13__13__1(env0, env1, tmp54__1, env3);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__auxsort_15__15__1(env0, env1, env2, arg0, arg1)
{
//
// knd = 0
  var tmp56__1
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__auxsort_15
  tmp56__1 = ats2jspre_lt_int0_int0(arg0, env2);
  if(tmp56__1) {
    _InsertionSort__insord_13__13__1(env0, env1, arg0, _InsertionSort__patsfun_16__16__1__closurerize(env0, env1, env2, arg0, arg1));
  } else {
    arg1[0](arg1);
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
_InsertionSort__patsfun_16__16__1(env0, env1, env2, env3, env4)
{
//
// knd = 0
  var tmp58__1
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_16
  tmp58__1 = ats2jspre_add_int0_int0(env3, 1);
  _InsertionSort__auxsort_15__15__1(env0, env1, env2, tmp58__1, env4);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__patsfun_28(arg0, arg1)
{
//
// knd = 0
  var tmpret96
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_28
  tmpret96 = ats2jspre_compare_int0_int0(arg0, arg1);
  return tmpret96;
} // end-of-function


function
_InsertionSort__patsfun_29()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_29
  ats2jspre_alert("InsertionSort: Done!");
  theResetButton_action();
  return/*_void*/;
} // end-of-function


function
InsertionSort__array0_chart_make(arg0, arg1)
{
//
// knd = 0
  var tmp100
  var tmp101
  var tmp103
  var tmplab, tmplab_js
//
  // __patsflab_array0_chart_make
  tmp100 = ats2jspre_ML_array0_size(arg1);
  tmp101 = ats2jspre_JSarray_tabulate_cloref(tmp100, _InsertionSort__patsfun_31__closurerize(arg1));
  tmp103 = ats2jspre_JSarray_tabulate_cloref(tmp100, _InsertionSort__patsfun_32__closurerize());
  JSarray_chart_make(arg0, tmp101, tmp103);
  return/*_void*/;
} // end-of-function


function
_InsertionSort__patsfun_31(env0, arg0)
{
//
// knd = 0
  var tmpret102
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_31
  tmpret102 = ats2jspre_ML_array0_get_at(env0, arg0);
  return tmpret102;
} // end-of-function


function
_InsertionSort__patsfun_32(arg0)
{
//
// knd = 0
  var tmpret104
  var tmplab, tmplab_js
//
  // __patsflab__InsertionSort__patsfun_32
  tmpret104 = "";
  return tmpret104;
} // end-of-function

// dynloadflag_minit
var _057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_InsertionSort_057_InsertionSort_056_dats__dynloadflag = 0;

function
_057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_InsertionSort_057_InsertionSort_056_dats__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // ATSdynload()
  // ATSdynloadflag_sta(_057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_InsertionSort_057_InsertionSort_056_dats__dynloadflag(204))
  if(ATSCKiseqz(_057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_InsertionSort_057_InsertionSort_056_dats__dynloadflag)) {
    _057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_InsertionSort_057_InsertionSort_056_dats__dynloadflag = 1 ; // flag is set
    _InsertionSort__statmp0 = ats2jspre_ref(8);
    _InsertionSort__statmp5 = document_getElementById("theStartButton");
    CPS_056_Animation_056_Control__theStartButton = _InsertionSort__statmp5;
    _InsertionSort__statmp6 = document_getElementById("theResetButton");
    CPS_056_Animation_056_Control__theResetButton = _InsertionSort__statmp6;
    _InsertionSort__statmp7 = document_getElementById("thePauseButton");
    CPS_056_Animation_056_Control__thePauseButton = _InsertionSort__statmp7;
    _InsertionSort__statmp8 = document_getElementById("theStep1Button");
    CPS_056_Animation_056_Control__theStep1Button = _InsertionSort__statmp8;
    _InsertionSort__statmp9 = document_getElementById("theResumeButton");
    CPS_056_Animation_056_Control__theResumeButton = _InsertionSort__statmp9;
    CPS_056_Animation_056_Control__button_enable(CPS_056_Animation_056_Control__theResetButton);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__theStartButton);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__thePauseButton);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__theStep1Button);
    CPS_056_Animation_056_Control__button_disable(CPS_056_Animation_056_Control__theResumeButton);
    _InsertionSort__statmp17 = ats2jspre_ML_array0_make_elt(0, 0);
    _InsertionSort__statmp18 = ats2jspre_ref(_InsertionSort__statmp17);
  } // end-of-if
  return/*_void*/;
} // end-of-function


function
InsertionSort__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  _057_home_057_hwxi_057_Research_057_ATS_055_Tutoriats_057_BUCS320_057_packages_057_CPS_055_Animation_055_Control_057_TEST_057_InsertionSort_057_InsertionSort_056_dats__dynload();
  return/*_void*/;
} // end-of-function


/* ATSextcode_beg() */
//
var
theChart = null;
//
var
canvas =
document_getElementById
  ("theStage");
//
function
JSarray_chart_make
(canvas, data, labels)
{
//
if(theChart)
{
  theChart.destroy();
}
//
theChart = new Chart(canvas,
{
type: 'bar',  
data: {
  labels: labels,
  datasets: [
    {
      data: data,
      label: '# of units',
      borderWidth: 2,
      borderColor: 'rgba(0, 0, 0, 1.0)',
      backgroundColor: 'rgba(64, 64, 64, 0.75)',
    }
  ],
}, // end of [data]
options: {
  legend: { display: false },
  scales: {
    xAxes: [{ ticks: { display: false } }],
    yAxes: [{ ticks: { beginAtZero: true } }],
  },
  tooltips: { enabled: false },
  animation: { duration: 0/*no*/ },
}, // end of [options]
}
);
} // end of [JSarray_chart_make]
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
InsertionSort__initize()
{
//
CPS_Animation_Control__dynload
(
// argumentless
); InsertionSort__dynload(); return;
//
} // end of [InsertionSort__initize]
//
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
jQuery(document).ready(function(){InsertionSort__initize();});
//
/* ATSextcode_end() */

/* ****** ****** */

/* end-of-compilation-unit */
