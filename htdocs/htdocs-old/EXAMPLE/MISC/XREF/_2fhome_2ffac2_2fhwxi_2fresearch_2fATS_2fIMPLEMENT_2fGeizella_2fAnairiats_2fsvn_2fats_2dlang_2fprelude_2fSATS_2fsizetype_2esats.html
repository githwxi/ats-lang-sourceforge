<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <style type="text/css">
    span.comment {color:#787878;font-style:italic}
    span.extern  {color:#A52A2A}
    span.keyword {color:#000000;font-weight:bold}
    span.neuexp  {color:#800080}
    span.staexp  {color:#0000FF}
    span.dynexp  {color:#E80000}
    span.prfexp  {color:#009000}
    span.stacstdec  {text-decoration:none}
    span.stacstuse  {color:#0000CF;text-decoration:underline}
    span.dyncstdec  {text-decoration:none}
    span.dyncstimp  {color:#B80000;text-decoration:underline}
    span.dyncstuse  {color:#B80000;text-decoration:underline}
    body          {color:#E80000;background-color:#E0E0E0}
  </style>
</head>
<body>
<pre>
<span class="comment">(***********************************************************************)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                         Applied Type System                         *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                              Hongwei Xi                             *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(***********************************************************************)</span>

<span class="comment">(*
** ATS - Unleashing the Potential of Types!
**
** Copyright (C) 2002-2008 Hongwei Xi, Boston University
**
** All rights reserved
**
** ATS is free software;  you can  redistribute it and/or modify it under
** the terms of the GNU LESSER GENERAL PUBLIC LICENSE as published by the
** Free Software Foundation; either version 2.1, or (at your option)  any
** later version.
** 
** ATS is distributed in the hope that it will be useful, but WITHOUT ANY
** WARRANTY; without  even  the  implied  warranty  of MERCHANTABILITY or
** FITNESS FOR A PARTICULAR PURPOSE.  See the  GNU General Public License
** for more details.
** 
** You  should  have  received  a  copy of the GNU General Public License
** along  with  ATS;  see the  file COPYING.  If not, please write to the
** Free Software Foundation,  51 Franklin Street, Fifth Floor, Boston, MA
** 02110-1301, USA.
*)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* author: Hongwei Xi (hwxi AT cs DOT bu DOT edu) *)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">#include</span> <span class="neuexp">"prelude/params.hats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">#if</span> <span class="neuexp">VERBOSE_PRELUDE</span> <span class="keyword">#then</span>
<span class="keyword">#print</span> <span class="neuexp">"Loading [sizetype.sats] starts!\n"</span>
<span class="keyword">#endif</span> <span class="comment">// end of [VERBOSE_PRELUDE]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="extern">%{#
#include "prelude/CATS/sizetype.cats" ;
%}</span> <span class="comment">// end of {%{#]
</span>
<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX: size type // unindexed
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="1812"><span class="dyncstdec">size_of_int
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_size_of_int"
<span class="comment">// end of [size_of_int]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">castfn</span> <a name="1921"><span class="dyncstdec">size_of_lint <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
<span class="keyword">castfn</span> <a name="1961"><span class="dyncstdec">lint_of_size <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">lint</span></span></a>
<span class="keyword">castfn</span> <a name="2002"><span class="dyncstdec">size_of_ulint <span class="keyword">(</span>u<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
<span class="keyword">castfn</span> <a name="2044"><span class="dyncstdec">ulint_of_size <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="2106"><span class="dyncstdec">int_of_size <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "atspre_int_of_size"
<span class="keyword">fun</span> <a name="2165"><span class="dyncstdec">uint_of_size <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">uint</span></span></a> <span class="keyword">=</span> "atspre_uint_of_size"
<span class="keyword">fun</span> <a name="2227"><span class="dyncstdec">size_of_uint <span class="keyword">(</span>u<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_size_of_uint"
<span class="keyword">fun</span> <a name="2288"><span class="dyncstdec">size_of_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_size_of_int1"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="2380"><span class="dyncstdec">add_size_int
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_add_size_int"
<span class="neuexp"><span class="keyword">overload</span> + <span class="keyword">with</span> add_size_int</span>

<span class="keyword">fun</span> <a name="2486"><span class="dyncstdec">add_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_add_size_size"
<span class="neuexp"><span class="keyword">overload</span> + <span class="keyword">with</span> add_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="2603"><span class="dyncstdec">sub_size_int
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_sub_size_int"
<span class="neuexp"><span class="keyword">overload</span> - <span class="keyword">with</span> sub_size_int</span>

<span class="keyword">fun</span> <a name="2709"><span class="dyncstdec">sub_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_sub_size_size"
<span class="neuexp"><span class="keyword">overload</span> - <span class="keyword">with</span> sub_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="2826"><span class="dyncstdec">mul_size_int <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_mul_size_int"
<span class="neuexp"><span class="keyword">overload</span> * <span class="keyword">with</span> mul_size_int</span>

<span class="keyword">fun</span> <a name="2932"><span class="dyncstdec">mul_int_size <span class="keyword">(</span>i1<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_mul_int_size"
<span class="neuexp"><span class="keyword">overload</span> * <span class="keyword">with</span> mul_int_size</span>

<span class="keyword">fun</span> <a name="3038"><span class="dyncstdec">mul_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_mul_size_size"
<span class="neuexp"><span class="keyword">overload</span> * <span class="keyword">with</span> mul_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="3155"><span class="dyncstdec">div_size_int <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_div_size_int"
<span class="neuexp"><span class="keyword">overload</span> / <span class="keyword">with</span> div_size_int</span>

<span class="keyword">fun</span> <a name="3261"><span class="dyncstdec">div_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "atspre_div_size_size"
<span class="neuexp"><span class="keyword">overload</span> / <span class="keyword">with</span> div_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="3378"><span class="dyncstdec">mod_size_int <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a>
  <span class="keyword">=</span> "atspre_mod_size_int"
<span class="neuexp"><span class="keyword">overload</span> mod <span class="keyword">with</span> mod_size_int</span>

<span class="keyword">fun</span> <a name="3483"><span class="dyncstdec">mod_size_size <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_mod_size_size"
<span class="neuexp"><span class="keyword">overload</span> mod <span class="keyword">with</span> mod_size_size</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="3619"><span class="dyncstdec">lt_size_size <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
  <span class="keyword">=</span> "atspre_lt_size_size"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_size_size</span>

<span class="keyword">fun</span> <a name="3727"><span class="dyncstdec">lte_size_size <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
  <span class="keyword">=</span> "atspre_lte_size_size"
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="3843"><span class="dyncstdec">gt_size_int <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
  <span class="keyword">=</span> "atspre_gt_size_int"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&gt;</span> <span class="keyword">with</span> gt_size_int</span>

<span class="keyword">fun</span> <a name="3944"><span class="dyncstdec">gt_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "atspre_gt_size_size"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&gt;</span> <span class="keyword">with</span> gt_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="4056"><span class="dyncstdec">gte_size_int <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
  <span class="keyword">=</span> "atspre_gte_size_int"
<span class="neuexp"><span class="keyword">overload</span> &gt;= <span class="keyword">with</span> gte_size_int</span>

<span class="keyword">fun</span> <a name="4161"><span class="dyncstdec">gte_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "atspre_gte_size_size"
<span class="neuexp"><span class="keyword">overload</span> &gt;= <span class="keyword">with</span> gte_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="4277"><span class="dyncstdec">eq_size_int <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
  <span class="keyword">=</span> "atspre_eq_size_int"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_size_int</span>

<span class="keyword">fun</span> <a name="4378"><span class="dyncstdec">eq_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "atspre_eq_size_size"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_size_size</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="4490"><span class="dyncstdec">neq_size_int <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> i2<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
  <span class="keyword">=</span> "atspre_neq_size_int"
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> neq_size_int</span>

<span class="keyword">fun</span> <a name="4595"><span class="dyncstdec">neq_size_size
  <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "atspre_neq_size_size"
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> neq_size_size</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// bit operations
</span>
<span class="keyword">fun</span> <a name="4747"><span class="dyncstdec">land_size_size <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_land_size_size"

<span class="keyword">fun</span> <a name="4832"><span class="dyncstdec">lor_size_size <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_lor_size_size"

<span class="keyword">fun</span> <a name="4915"><span class="dyncstdec">lxor_size_size <span class="keyword">(</span>sz1<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> sz2<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_lxor_size_size"

<span class="neuexp"><span class="keyword">overload</span> land <span class="keyword">with</span> land_size_size</span>
<span class="neuexp"><span class="keyword">overload</span> lor <span class="keyword">with</span> lor_size_size</span>
<span class="neuexp"><span class="keyword">overload</span> lxor <span class="keyword">with</span> lxor_size_size</span>

<span class="keyword">fun</span> <a name="5101"><span class="dyncstdec">lsl_size_int1 <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">Nat</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_lsl_size_int1"

<span class="keyword">and</span> <a name="5178"><span class="dyncstdec">lsr_size_int1 <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">Nat</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>
  <span class="keyword">=</span> "atspre_lsr_size_int1"

<span class="neuexp"><span class="keyword">overload</span> &lt;&lt; <span class="keyword">with</span> lsl_size_int1</span>
<span class="neuexp"><span class="keyword">overload</span> &gt;&gt; <span class="keyword">with</span> lsr_size_int1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> fprint_size

<span class="keyword">fun</span> <a name="5360"><span class="dyncstdec">fprint0_size <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atspre_fprint_size"
<span class="neuexp"><span class="keyword">overload</span> fprint_size <span class="keyword">with</span> fprint0_size</span>
<span class="keyword">fun</span> <a name="5482"><span class="dyncstdec">fprint1_size <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atspre_fprint_size"
<span class="neuexp"><span class="keyword">overload</span> fprint_size <span class="keyword">with</span> fprint1_size</span>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_size</span>

<span class="keyword">fun</span> <a name="5681"><span class="dyncstdec">print_size
  <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">ref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atspre_print_size"
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_size</span>
<span class="keyword">fun</span> <a name="5776"><span class="dyncstdec">prerr_size
  <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">ref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atspre_prerr_size"
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_size</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX: indexed size type
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="keyword">castfn</span> <a name="5947"><span class="dyncstdec">size1_of_lint1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp">lint i</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">size_t i</span></span></a>
<span class="keyword">castfn</span> <a name="5999"><span class="dyncstdec">size1_of_ulint1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp">ulint i</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">size_t i</span></span></a>
<span class="keyword">castfn</span> <a name="6053"><span class="dyncstdec">size1_of_size <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>i<span class="keyword">:</span>nat<span class="keyword">]</span> size_t i</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="6126"><span class="dyncstdec">int1_of_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int i</span></span></a> <span class="keyword">=</span> "atspre_int1_of_size1"
<span class="comment">// end of [int1_of_size1]
</span>
<span class="keyword">fun</span> <a name="6230"><span class="dyncstdec">uint1_of_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">uint i</span></span></a> <span class="keyword">=</span> "atspre_uint1_of_size1"
<span class="comment">// end of [uint1_of_size1]
</span>
<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="6356"><span class="dyncstdec">size1_of_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t i</span></span></a> <span class="keyword">=</span> "atspre_size1_of_int1"
<span class="comment">// end of [size1_of_int1]
</span>
<span class="keyword">fun</span> <a name="6459"><span class="dyncstdec">size1_of_uint1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>u<span class="keyword">:</span> <span class="staexp">uint i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t i</span></span></a> <span class="keyword">=</span> "atspre_size1_of_uint1"
<span class="comment">// end of [size1_of_uint1]
</span>
<span class="keyword">fun</span> <a name="6566"><span class="dyncstdec">size1_of_ptrdiff1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">ptrdiff_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t i</span></span></a> <span class="keyword">=</span> "atspre_size1_of_ptrdiff1"
<span class="comment">// end of [size1_of_ptrdiff1]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="6708"><span class="dyncstdec">succ_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i+1<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_succ_size1"
<span class="keyword">and</span> <a name="6785"><span class="dyncstdec">pred_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>pos<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i-1<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_pred_size1"
<span class="neuexp"><span class="keyword">overload</span> succ <span class="keyword">with</span> succ_size1</span>
<span class="neuexp"><span class="keyword">overload</span> pred <span class="keyword">with</span> pred_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="6941"><span class="dyncstdec">add_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i+j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_add_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> + <span class="keyword">with</span> add_size1_int1</span>

<span class="keyword">fun</span> <a name="7070"><span class="dyncstdec">add_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i+j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_add_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> + <span class="keyword">with</span> add_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="7223"><span class="dyncstdec">sub_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat <span class="keyword">|</span> j &lt;= i<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i-j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_sub_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> - <span class="keyword">with</span> sub_size1_int1</span>

<span class="keyword">fun</span> <a name="7361"><span class="dyncstdec">sub_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat <span class="keyword">|</span> j &lt;= i<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i-j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_sub_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> - <span class="keyword">with</span> sub_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="7523"><span class="dyncstdec">mul_int1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i*j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_mul_int1_size1"
<span class="neuexp"><span class="keyword">overload</span> * <span class="keyword">with</span> mul_int1_size1</span>

<span class="keyword">fun</span> <a name="7652"><span class="dyncstdec">mul_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i*j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_mul_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> * <span class="keyword">with</span> mul_size1_size1</span>

<span class="neuexp"><span class="keyword">symintr</span></span> szmul1 szmul2
<span class="neuexp"><span class="keyword">infixl</span> <span class="keyword">(</span> * <span class="keyword">)</span> szmul1 szmul2</span>

<span class="keyword">fun</span> <a name="7837"><span class="dyncstdec">mul1_size1_size1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>p<span class="keyword">:</span>nat<span class="keyword">]</span> size_t p</span></span></a>
  <span class="keyword">=</span> "atspre_mul1_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> szmul1 <span class="keyword">with</span> mul1_size1_size1</span>

<span class="keyword">fun</span> <a name="7986"><span class="dyncstdec">mul2_size1_size1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span>
  <span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>p<span class="keyword">:</span>nat<span class="keyword">]</span> <span class="keyword">(</span>MUL <span class="keyword">(</span>i<span class="keyword">,</span> j<span class="keyword">,</span> p<span class="keyword">)</span> <span class="keyword">|</span> size_t p<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_mul2_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> szmul2 <span class="keyword">with</span> mul2_size1_size1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> szdiv2
<span class="neuexp"><span class="keyword">infixl</span> <span class="keyword">(</span> / <span class="keyword">)</span> szdiv2</span>

<span class="keyword">fun</span> <a name="8213"><span class="dyncstdec">div_size1_int1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span> <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i/j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_div_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> / <span class="keyword">with</span> div_size1_int1</span>

<span class="keyword">fun</span> <a name="8356"><span class="dyncstdec">div2_size1_int1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>q<span class="keyword">:</span>nat<span class="keyword">]</span> <span class="keyword">(</span>DIV <span class="keyword">(</span>i<span class="keyword">,</span> j<span class="keyword">,</span> q<span class="keyword">)</span> <span class="keyword">|</span> size_t q<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_div2_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> szdiv2 <span class="keyword">with</span> div2_size1_int1</span>

<span class="keyword">fun</span> <a name="8531"><span class="dyncstdec">div_size1_size1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span> <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>i/j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_div_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> / <span class="keyword">with</span> div_size1_size1</span>

<span class="keyword">fun</span> <a name="8680"><span class="dyncstdec">div2_size1_size1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>q<span class="keyword">:</span>nat<span class="keyword">]</span> <span class="keyword">(</span>DIV <span class="keyword">(</span>i<span class="keyword">,</span> j<span class="keyword">,</span> q<span class="keyword">)</span> <span class="keyword">|</span> size_t q<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_div2_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> szdiv2 <span class="keyword">with</span> div2_size1_size1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> szmod1 szmod2
<span class="neuexp"><span class="keyword">infixl</span> <span class="keyword">(</span>mod<span class="keyword">)</span> szmod1 szmod2</span>

<span class="keyword">fun</span> <a name="8932"><span class="dyncstdec">mod1_size1_int1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span> <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">natLt <span class="keyword">(</span>j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_mod1_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> szmod1 <span class="keyword">with</span> mod1_size1_int1</span>

<span class="keyword">fun</span> <a name="9080"><span class="dyncstdec">mod2_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>r<span class="keyword">:</span>int<span class="keyword">]</span> <span class="keyword">(</span>MOD <span class="keyword">(</span>i<span class="keyword">,</span> j<span class="keyword">,</span> r<span class="keyword">)</span> <span class="keyword">|</span> int r<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_mod2_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> szmod2 <span class="keyword">with</span> mod2_size1_int1</span>

<span class="keyword">fun</span> <a name="9250"><span class="dyncstdec">mod1_size1_size1
  <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span> <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">sizeLt <span class="keyword">(</span>j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_mod1_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> szmod1 <span class="keyword">with</span> mod1_size1_size1</span>

<span class="keyword">fun</span> <a name="9405"><span class="dyncstdec">mod2_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">;</span>j<span class="keyword">:</span>int <span class="keyword">|</span> j <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>r<span class="keyword">:</span>int<span class="keyword">]</span> <span class="keyword">(</span>MOD <span class="keyword">(</span>i<span class="keyword">,</span> j<span class="keyword">,</span> r<span class="keyword">)</span> <span class="keyword">|</span> size_t r<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_mod2_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> szmod2 <span class="keyword">with</span> mod2_size1_size1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="9605"><span class="dyncstdec">divmod_size1_size1
  <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>nat<span class="keyword">;</span> n<span class="keyword">:</span>int <span class="keyword">|</span> n <span class="keyword">&gt;</span> 0<span class="keyword">}</span></span> <span class="keyword">(</span>
  m<span class="keyword">:</span> <span class="staexp">size_t m</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">size_t n</span>
<span class="keyword">,</span> r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>size_t? &gt;&gt; size_t r</span>
<span class="keyword">)</span> <span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">#[</span>q<span class="keyword">,</span>r<span class="keyword">:</span>nat <span class="keyword">|</span> r <span class="keyword">&lt;</span> n<span class="keyword">]</span> <span class="keyword">(</span>DIVMOD <span class="keyword">(</span>m<span class="keyword">,</span> n<span class="keyword">,</span> q<span class="keyword">,</span> r<span class="keyword">)</span> <span class="keyword">|</span> size_t q<span class="keyword">)</span></span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="9788"><span class="dyncstdec">lt_int1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&lt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lt_int1_size1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_int1_size1</span>

<span class="keyword">fun</span> <a name="9914"><span class="dyncstdec">lt_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&lt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lt_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_size1_int1</span>

<span class="keyword">fun</span> <a name="10040"><span class="dyncstdec">lt_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&lt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lt_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="10190"><span class="dyncstdec">lte_int1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&lt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lte_int1_size1"
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_int1_size1</span>

<span class="keyword">fun</span> <a name="10320"><span class="dyncstdec">lte_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &lt;= j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lte_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_size1_int1</span>

<span class="keyword">fun</span> <a name="10451"><span class="dyncstdec">lte_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &lt;= j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lte_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="10606"><span class="dyncstdec">gt_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&gt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_gt_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&gt;</span> <span class="keyword">with</span> gt_size1_int1</span>

<span class="keyword">fun</span> <a name="10732"><span class="dyncstdec">gt_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&gt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_gt_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&gt;</span> <span class="keyword">with</span> gt_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="10882"><span class="dyncstdec">gte_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &gt;= j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_gte_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> &gt;= <span class="keyword">with</span> gte_size1_int1</span>

<span class="keyword">fun</span> <a name="11013"><span class="dyncstdec">gte_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &gt;= j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_gte_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> &gt;= <span class="keyword">with</span> gte_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="11168"><span class="dyncstdec">eq_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i == j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_eq_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_size1_int1</span>

<span class="keyword">fun</span> <a name="11295"><span class="dyncstdec">eq_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i == j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_eq_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="11446"><span class="dyncstdec">neq_size1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &lt;&gt; j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_neq_size1_int1"
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> neq_size1_int1</span>

<span class="keyword">fun</span> <a name="11577"><span class="dyncstdec">neq_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &lt;&gt; j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_neq_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> neq_size1_size1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="11732"><span class="dyncstdec">max_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>max <span class="keyword">(</span>i<span class="keyword">,</span> j<span class="keyword">)</span><span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_max_size1_size1"
<span class="keyword">and</span> <a name="11843"><span class="dyncstdec">min_size1_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">size_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t <span class="keyword">(</span>min <span class="keyword">(</span>i<span class="keyword">,</span> j<span class="keyword">)</span><span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_min_size1_size1"
<span class="neuexp"><span class="keyword">overload</span> max <span class="keyword">with</span> max_size1_size1</span>
<span class="neuexp"><span class="keyword">overload</span> min <span class="keyword">with</span> min_size1_size1</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX: signed size type // unindexed
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="keyword">castfn</span> <a name="12110"><span class="dyncstdec">ssize_of_lint <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ssize_t</span></span></a>
<span class="keyword">castfn</span> <a name="12152"><span class="dyncstdec">lint_of_ssize <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">lint</span></span></a>
<span class="keyword">castfn</span> <a name="12195"><span class="dyncstdec">ssize_of_size <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ssize_t</span></span></a>
<span class="keyword">castfn</span> <a name="12240"><span class="dyncstdec">size_of_ssize <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="12304"><span class="dyncstdec">int_of_ssize <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "atspre_int_of_ssize"
<span class="keyword">fun</span> <a name="12366"><span class="dyncstdec">ssize_of_int <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ssize_t</span></span></a> <span class="keyword">=</span> "atspre_ssize_of_int"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="12449"><span class="dyncstdec">add_ssize_ssize
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t</span></span></a> <span class="keyword">=</span> "atspre_add_ssize_ssize"
<span class="neuexp"><span class="keyword">overload</span> + <span class="keyword">with</span> add_ssize_ssize</span>

<span class="keyword">fun</span> <a name="12565"><span class="dyncstdec">sub_ssize_ssize
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t</span></span></a> <span class="keyword">=</span> "atspre_sub_ssize_ssize"
<span class="neuexp"><span class="keyword">overload</span> - <span class="keyword">with</span> sub_ssize_ssize</span>

<span class="keyword">fun</span> <a name="12681"><span class="dyncstdec">mul_ssize_ssize
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t</span></span></a> <span class="keyword">=</span> "atspre_mul_ssize_ssize"
<span class="neuexp"><span class="keyword">overload</span> * <span class="keyword">with</span> sub_ssize_ssize</span>

<span class="keyword">fun</span> <a name="12797"><span class="dyncstdec">div_ssize_ssize
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t</span></span></a> <span class="keyword">=</span> "atspre_div_ssize_ssize"
<span class="neuexp"><span class="keyword">overload</span> / <span class="keyword">with</span> sub_ssize_ssize</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> fprint_ssize

<span class="keyword">fun</span> <a name="12956"><span class="dyncstdec">fprint0_ssize <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atspre_fprint_ssize"
<span class="neuexp"><span class="keyword">overload</span> fprint_ssize <span class="keyword">with</span> fprint0_ssize</span>
<span class="keyword">fun</span> <a name="13083"><span class="dyncstdec">fprint1_ssize <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atspre_fprint_ssize"
<span class="neuexp"><span class="keyword">overload</span> fprint_ssize <span class="keyword">with</span> fprint1_ssize</span>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_ssize</span>

<span class="keyword">fun</span> <a name="13288"><span class="dyncstdec">print_ssize
  <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">ref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atspre_print_ssize"
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_ssize</span>
<span class="keyword">fun</span> <a name="13387"><span class="dyncstdec">prerr_ssize
  <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">ref</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atspre_prerr_ssize"
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_ssize</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX: signed indexed size type
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="keyword">castfn</span> <a name="13569"><span class="dyncstdec">ssize1_of_ssize <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>i<span class="keyword">:</span>int<span class="keyword">]</span> ssize_t i</span></span></a>
<span class="keyword">castfn</span> <a name="13625"><span class="dyncstdec">ssize1_of_size1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">size_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ssize_t i</span></span></a>
<span class="keyword">castfn</span> <a name="13684"><span class="dyncstdec">size1_of_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">size_t i</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="13762"><span class="dyncstdec">int1_of_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>sz<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int i</span></span></a> <span class="keyword">=</span> "atspre_int1_of_ssize1"
<span class="comment">// end of [int1_of_ssize1]
</span>
<span class="keyword">fun</span> <a name="13870"><span class="dyncstdec">ssize1_of_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">int i</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ssize_t i</span></span></a> <span class="keyword">=</span> "atspre_ssize1_of_int1"
<span class="comment">// end of [ssize1_of_int1]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="13998"><span class="dyncstdec">add_ssize1_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t j</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t <span class="keyword">(</span>i+j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_add_ssize1_ssize1"
<span class="neuexp"><span class="keyword">overload</span> + <span class="keyword">with</span> add_ssize1_ssize1</span>

<span class="keyword">fun</span> <a name="14142"><span class="dyncstdec">sub_ssize1_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t j</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t <span class="keyword">(</span>i-j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_sub_ssize1_ssize1"
<span class="neuexp"><span class="keyword">overload</span> - <span class="keyword">with</span> sub_ssize1_ssize1</span>

<span class="keyword">fun</span> <a name="14286"><span class="dyncstdec">mul_ssize1_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t j</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t <span class="keyword">(</span>i*j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_mul_ssize1_ssize1"
<span class="neuexp"><span class="keyword">overload</span> * <span class="keyword">with</span> mul_ssize1_ssize1</span>

<span class="keyword">fun</span> <a name="14430"><span class="dyncstdec">div_ssize1_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t j</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ssize_t <span class="keyword">(</span>i/j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_div_ssize1_ssize1"
<span class="neuexp"><span class="keyword">overload</span> / <span class="keyword">with</span> div_ssize1_ssize1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="14595"><span class="dyncstdec">lt_ssize1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&lt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lt_ssize1_int1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_ssize1_int1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="14743"><span class="dyncstdec">lte_ssize1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &lt;= j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_lt_ssize1_int1"
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_ssize1_int1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="14895"><span class="dyncstdec">gt_ssize1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i <span class="keyword">&gt;</span> j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_gt_ssize1_int1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&gt;</span> <span class="keyword">with</span> gt_ssize1_int1</span>

<span class="comment">// ------ ------
</span>
<span class="keyword">fun</span> <a name="15043"><span class="dyncstdec">gte_ssize1_int1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">int j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &gt;= j<span class="keyword">)</span></span></span></a> <span class="keyword">=</span> "atspre_gte_ssize1_int1"
<span class="neuexp"><span class="keyword">overload</span> &gt;= <span class="keyword">with</span> gte_ssize1_int1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="15199"><span class="dyncstdec">eq_ssize1_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i == j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_eq_ssize1_ssize1"
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_ssize1_ssize1</span>

<span class="keyword">fun</span> <a name="15342"><span class="dyncstdec">neq_ssize1_ssize1 <span class="staexp"><span class="keyword">{</span>i<span class="keyword">,</span>j<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="keyword">(</span>i<span class="keyword">:</span> <span class="staexp">ssize_t i</span><span class="keyword">,</span> j<span class="keyword">:</span> <span class="staexp">ssize_t j</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool <span class="keyword">(</span>i &lt;&gt; j<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "atspre_neq_ssize1_ssize1"
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> neq_ssize1_ssize1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">#if</span> <span class="neuexp">VERBOSE_PRELUDE</span> <span class="keyword">#then</span>
<span class="keyword">#print</span> <span class="neuexp">"Loading [sizetype.sats] finishes!\n"</span>
<span class="keyword">#endif</span> <span class="comment">// end of [VERBOSE_PRELUDE]
</span>
<span class="comment">(* end of [sizetype.sats] *)</span>
</pre>
</body>
</html>
