<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <style type="text/css">
    span.comment {color:#787878;font-style:italic}
    span.extern  {color:#A52A2A}
    span.keyword {color:#000000;font-weight:bold}
    span.neuexp  {color:#800080}
    span.staexp  {color:#0000FF}
    span.dynexp  {color:#E80000}
    span.prfexp  {color:#009000}
    span.stacstdec  {text-decoration:none}
    span.stacstuse  {color:#0000CF;text-decoration:underline}
    span.dyncstdec  {text-decoration:none}
    span.dyncstimp  {color:#B80000;text-decoration:underline}
    span.dyncstuse  {color:#B80000;text-decoration:underline}
    body          {color:#E80000;background-color:#E0E0E0}
  </style>
</head>
<body>
<pre>
<span class="comment">(***********************************************************************)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                         Applied Type System                         *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                              Hongwei Xi                             *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(***********************************************************************)</span>

<span class="comment">(*
** ATS/Anairiats - Unleashing the Potential of Types!
**
** Copyright (C) 2002-2008 Hongwei Xi, Boston University
**
** All rights reserved
**
** ATS is free software;  you can  redistribute it and/or modify it under
** the terms of the GNU LESSER GENERAL PUBLIC LICENSE as published by the
** Free Software Foundation; either version 2.1, or (at your option)  any
** later version.
** 
** ATS is distributed in the hope that it will be useful, but WITHOUT ANY
** WARRANTY; without  even  the  implied  warranty  of MERCHANTABILITY or
** FITNESS FOR A PARTICULAR PURPOSE.  See the  GNU General Public License
** for more details.
** 
** You  should  have  received  a  copy of the GNU General Public License
** along  with  ATS;  see  the  file  COPYING.  If not, write to the Free
** Software Foundation, 51  Franklin  Street,  Fifth  Floor,  Boston,  MA
** 02110-1301, USA.
*)</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// Author: Hongwei Xi (hwxi AT cs DOT bu DOT edu)
</span><span class="comment">// July 2007
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="1520"><span class="stacstdec">accept_table_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">fun</span> <a name="1554"><span class="dyncstdec">__accept_table_make
  <span class="keyword">(</span>nton<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span> <span class="keyword">(</span>nitm<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span> <span class="keyword">(</span>s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">accept_table_t</span></span></a>
<span class="keyword">fun</span> <a name="1632"><span class="dyncstdec">__accept_table_free <span class="keyword">(</span>acctbl<span class="keyword">:</span> <span class="staexp">accept_table_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="1687"><span class="dyncstdec">accept_table_get
  <span class="keyword">(</span>acctbl<span class="keyword">:</span> <span class="staexp">accept_table_t</span><span class="keyword">,</span> nstate<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="comment">(* irule *)</span>

<span class="comment">//
</span>
<span class="keyword">abstype</span> <span class="staexp"><a name="1774"><span class="stacstdec">transition_table_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">fun</span> <a name="1812"><span class="dyncstdec">__transition_table_make <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span> <span class="keyword">(</span>s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">transition_table_t</span></span></a>
<span class="keyword">fun</span> <a name="1881"><span class="dyncstdec">__transition_table_free <span class="keyword">(</span>transtbl<span class="keyword">:</span> <span class="staexp">transition_table_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="1946"><span class="dyncstdec">transition_table_get <span class="comment">// c &gt;= -1
</span>  <span class="keyword">(</span>transtbl<span class="keyword">:</span> <span class="staexp">transition_table_t</span><span class="keyword">,</span> nstate<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> c<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="comment">(* nstate *)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="2080"><span class="stacstdec">position_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2114"><span class="stacstdec">lint <span class="keyword">=</span> int_long_t0ype</span></a></span>
<span class="keyword">fun</span> <a name="2140"><span class="dyncstdec">position_line <span class="keyword">(</span>p<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="2181"><span class="dyncstdec">position_loff <span class="keyword">(</span>p<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="2222"><span class="dyncstdec">position_toff <span class="keyword">(</span>p<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">lint</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="2286"><span class="dyncstdec">lt_position_position <span class="keyword">(</span>p1<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">,</span> p2<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_position_position</span>
<span class="keyword">fun</span> <a name="2389"><span class="dyncstdec">lte_position_position <span class="keyword">(</span>p1<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">,</span> p2<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_position_position</span>

<span class="keyword">fun</span> <a name="2496"><span class="dyncstdec">eq_position_position <span class="keyword">(</span>p1<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">,</span> p2<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_position_position</span>
<span class="keyword">fun</span> <a name="2599"><span class="dyncstdec">neq_position_position <span class="keyword">(</span>p1<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">,</span> p2<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> neq_position_position</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="2727"><span class="dyncstdec">fprint_position <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> fil<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> pos<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_position</span>
<span class="keyword">fun</span> <a name="2865"><span class="dyncstdec">print_position <span class="keyword">(</span>pos<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexing_print_position"
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_position</span>
<span class="keyword">fun</span> <a name="2969"><span class="dyncstdec">prerr_position <span class="keyword">(</span>pos<span class="keyword">:</span> <span class="staexp">position_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexing_prerr_position"
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_position</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="3099"><span class="stacstdec">infile_t</span></a></span> <span class="keyword">(</span>view<span class="keyword">)</span> <span class="comment">// boxed type for the input file
</span>
<span class="keyword">fun</span> <a name="3153"><span class="dyncstdec">infile_free <span class="staexp"><span class="keyword">{</span>v<span class="keyword">:</span>view<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">v</span></span> <span class="keyword">|</span> f<span class="keyword">:</span> <span class="staexp">infile_t v</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexing_infile_free"
<span class="keyword">fun</span> <a name="3233"><span class="dyncstdec">infile_getc <span class="staexp"><span class="keyword">{</span>v<span class="keyword">:</span>view<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span>v</span></span> <span class="keyword">|</span> f<span class="keyword">:</span> <span class="staexp">infile_t v</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "lexing_infile_getc"
<span class="keyword">fun</span> <a name="3313"><span class="dyncstdec">infile_make_string <span class="keyword">(</span>s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>v<span class="keyword">:</span>view<span class="keyword">]</span> <span class="keyword">(</span>v <span class="keyword">|</span> infile_t v<span class="keyword">)</span></span></span></a>

<span class="keyword">fun</span> <a name="3376"><span class="dyncstdec">infile_make_file <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>addr<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf_fil<span class="keyword">:</span> <span class="staexp">FILE m @ l</span></span><span class="keyword">,</span> <span class="prfexp">pf_mod<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> r<span class="keyword">)</span></span></span> <span class="keyword">|</span> fil<span class="keyword">:</span> <span class="staexp">ptr l</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>v<span class="keyword">:</span>view<span class="keyword">]</span> <span class="keyword">(</span>v <span class="keyword">|</span> infile_t v<span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="3516"><span class="dyncstdec">infile_make_stdin <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>v<span class="keyword">:</span>view<span class="keyword">]</span> <span class="keyword">(</span>v <span class="keyword">|</span> infile_t v<span class="keyword">)</span></span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">absviewt@ype</span> <span class="staexp"><a name="3599"><span class="stacstdec">lexbuf_t</span></a></span> <span class="comment">(* implemented externally in lexing.dats*)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// implemented externally in lexing.dats
</span><span class="keyword">fun</span> <a name="3718"><span class="dyncstdec">lexbuf_fstpos_get <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">position_t</span></span></a> <span class="keyword">=</span> "lexbuf_fstpos_get"
<span class="keyword">fun</span> <a name="3790"><span class="dyncstdec">lexbuf_fstpos_set <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexbuf_fstpos_set"

<span class="keyword">fun</span> <a name="3857"><span class="dyncstdec">lexbuf_lstpos_get <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">position_t</span></span></a> <span class="keyword">=</span> "lexbuf_lstpos_get"
<span class="keyword">fun</span> <a name="3929"><span class="dyncstdec">lexbuf_lstpos_set <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexbuf_lstpos_set"

<span class="keyword">fun</span> <a name="3996"><span class="dyncstdec">lexbuf_curpos_get <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">position_t</span></span></a> <span class="keyword">=</span> "lexbuf_curpos_get"
<span class="keyword">fun</span> <a name="4068"><span class="dyncstdec">lexbuf_curpos_set <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexbuf_curpos_set"

<span class="keyword">fun</span> <a name="4135"><span class="dyncstdec">lexbuf_size_get <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Nat</span></span></a> <span class="keyword">=</span> "lexbuf_size_get"
<span class="keyword">fun</span> <a name="4196"><span class="dyncstdec">lexbuf_char_next <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "lexbuf_char_next"
<span class="keyword">fun</span> <a name="4259"><span class="dyncstdec">lexbuf_is_eof <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "lexbuf_is_eof"

<span class="keyword">fun</span> <a name="4318"><span class="dyncstdec">lexing_engine_lexbuf
  <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">,</span> transtbl<span class="keyword">:</span> <span class="staexp">transition_table_t</span><span class="keyword">,</span> acctbl<span class="keyword">:</span> <span class="staexp">accept_table_t</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="comment">(*nstate*)</span>
  <span class="keyword">=</span> "lexing_engine_lexbuf"

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// This function makes a lexbuf from an infile.
</span><span class="keyword">fun</span> <a name="4531"><span class="dyncstdec">lexbuf_make_infile <span class="staexp"><span class="keyword">{</span>v<span class="keyword">:</span>view<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">v</span></span> <span class="keyword">|</span> f<span class="keyword">:</span> <span class="staexp">infile_t v</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>addr<span class="keyword">]</span> <span class="keyword">(</span>lexbuf_t @ l <span class="keyword">|</span> ptr l<span class="keyword">)</span></span></span></a> <span class="keyword">=</span>
  "lexbuf_make_infile"

<span class="comment">// This function frees a lexbuf.
</span><span class="keyword">fun</span> <a name="4681"><span class="dyncstdec">lexbuf_free <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>addr<span class="keyword">}</span></span> <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">lexbuf_t @ l</span></span> <span class="keyword">|</span> p<span class="keyword">:</span> <span class="staexp">ptr l</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "lexbuf_free"

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// This function gets the default lexbuf.
</span><span class="keyword">fun</span> <a name="4824"><span class="dyncstdec">lexing_lexbuf_get <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>addr<span class="keyword">]</span> <span class="keyword">(</span>lexbuf_t @ l <span class="keyword">|</span> ptr l<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "lexing_lexbuf_get"

<span class="comment">// This function sets the default lexbuf.
</span><span class="keyword">fun</span> <a name="4949"><span class="dyncstdec">lexing_lexbuf_set <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>addr<span class="keyword">}</span></span> <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">lexbuf_t @ l</span></span> <span class="keyword">|</span> p<span class="keyword">:</span> <span class="staexp">ptr l</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "lexing_lexbuf_set"

<span class="comment">// This function frees the default lexbuf.
</span><span class="keyword">fun</span> <a name="5084"><span class="dyncstdec">lexing_lexbuf_free <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexing_lexbuf_free"

<span class="keyword">fun</span> <a name="5140"><span class="dyncstdec">lexing_engine
  <span class="keyword">(</span>transtbl<span class="keyword">:</span> <span class="staexp">transition_table_t</span><span class="keyword">,</span> acctbl<span class="keyword">:</span> <span class="staexp">accept_table_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
  <span class="keyword">=</span> "lexing_engine"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="5262"><span class="dyncstdec">lexeme_get_lexbuf <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">,</span> index<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">char</span></span></a>
  <span class="keyword">=</span> "lexeme_get_lexbuf"
<span class="keyword">fun</span> <a name="5342"><span class="dyncstdec">lexeme_get <span class="keyword">(</span>index<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">char</span></span></a> <span class="keyword">=</span> "lexeme_get"

<span class="keyword">fun</span> <a name="5392"><span class="dyncstdec">lexeme_set_lexbuf <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">,</span> index<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> c<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "lexeme_set_lexbuf"
<span class="keyword">fun</span> <a name="5481"><span class="dyncstdec">lexeme_set <span class="keyword">(</span>index<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> c<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexeme_set"

<span class="keyword">fun</span> <a name="5540"><span class="dyncstdec">lexeme_string_lexbuf <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">string</span></span></a>
  <span class="keyword">=</span> "lexeme_string_lexbuf"
<span class="keyword">fun</span> <a name="5616"><span class="dyncstdec">lexeme_string <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">string</span></span></a> <span class="keyword">=</span> "lexeme_string"

<span class="keyword">fun</span> <a name="5664"><span class="dyncstdec">lexeme_lint_lexbuf <span class="keyword">(</span>lb<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lexbuf_t</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">lint</span></span></a>
  <span class="keyword">=</span> "lexeme_lint_lexbuf"
<span class="keyword">fun</span> <a name="5745"><span class="dyncstdec">lexeme_lint <span class="keyword">(</span>base<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">lint</span></span></a> <span class="keyword">=</span> "lexeme_lint"

<span class="comment">// This function is for reading out an integer from the lexbuf.
</span><span class="keyword">fun</span> <a name="5860"><span class="dyncstdec">lexeme_int <span class="keyword">(</span>base<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "lexeme_int"

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// This function is for testing whether the lexbuf reaches the end.
</span><span class="keyword">fun</span> <a name="5997"><span class="dyncstdec">lexing_is_eof <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "lexing_is_eof"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="6064"><span class="dyncstdec">lexing_fstpos_get <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">position_t</span></span></a> <span class="keyword">=</span> "lexing_fstpos_get"
<span class="keyword">fun</span> <a name="6123"><span class="dyncstdec">lexing_lstpos_get <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">position_t</span></span></a> <span class="keyword">=</span> "lexing_lstpos_get"
<span class="keyword">fun</span> <a name="6182"><span class="dyncstdec">lexing_curpos_get <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">position_t</span></span></a> <span class="keyword">=</span> "lexing_curpos_get"

<span class="keyword">fun</span> <a name="6242"><span class="dyncstdec">lexing_curpos_prerr <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "lexing_curpos_prerr"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">exception</span> LexingErrorException

<span class="comment">// This function reports a lexing error; it raises the exception
</span><span class="comment">// [LexingErrorException]
</span><span class="keyword">fun</span> <a name="6444"><span class="dyncstdec">lexing_error <span class="staexp"><span class="keyword">{</span>a<span class="keyword">:</span>viewt@ype<span class="keyword">}</span></span> <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">a</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* end of [libats_lex_lexing.sats] *)</span>
</pre>
</body>
</html>
