/*
 *
 * This C code is generated by ATS/Geizella
 * The compilation time is: 2012-5-27: 21:23
 *
 */

#define _ATS_GEIZELLA 1

#include "ats_config.h"
#include "ats_basics.h"
#include "ats_types.h"
#include "ats_exception.h"
#include "ats_memory.h"

/* include some .cats files */

#include "prelude/CATS/array.cats"
#include "prelude/CATS/basics.cats"
#include "prelude/CATS/bool.cats"
#include "prelude/CATS/byte.cats"
#include "prelude/CATS/char.cats"
#include "prelude/CATS/float.cats"
#include "prelude/CATS/integer.cats"
#include "prelude/CATS/pointer.cats"
#include "prelude/CATS/printf.cats"
#include "prelude/CATS/reference.cats"
#include "prelude/CATS/sizetype.cats"
#include "prelude/CATS/string.cats"

/* external codes at top */

/* type definitions */

typedef struct {
ats_ptr_type atslab_hash ;
ats_ptr_type atslab_eq ;
ats_int_type atslab_size ;
ats_int_type atslab_nitm ;
ats_ptr_type atslab_table[] ;
} _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats_rec_0 ;

/* external dynamic constructor declarations */

ATSextern(ats_sum_type, _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__CHAINnil) ;

/* external dynamic constant declarations */

extern ats_uint_type atspre_uint_of_ulint(ats_ulint_type) ;
extern ats_size_type atspre_size1_of_int1(ats_int_type) ;
extern ats_bool_type atspre_eq_string_string(ats_ptr_type, ats_ptr_type) ;
extern ats_ulint_type atspre_string_hash_33(ats_ptr_type) ;
extern ats_ptr_type atspre_array_ptr_takeout_tsz(ats_ptr_type, ats_size_type, ats_size_type) ;
extern ats_ptr_type _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__hashtbl_make_hint(ats_ptr_type, ats_ptr_type, ats_int_type) ;
extern ats_ptr_type atspre_ref_make_elt_tsz(ats_ref_type, ats_size_type) ;
extern ats_ptr_type _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__table_chain_get(ats_ref_type, ats_int_type) ;
extern ats_ptr_type ats_htp_make(ats_ptr_type, ats_ptr_type, ats_int_type) ;
extern ats_void_type __ats_htp_free(ats_ptr_type) ;

/* internal function declarations */

static ats_ptr_type _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2esats__ref_make_elt__ats_ptr_type (ats_ptr_type arg0) ;

static ats_uint_type __ats_fun_4 (ats_ptr_type arg0) ;

/* sum constructor declarations */

ATSglobal(ats_sum_type, _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__CHAINcons) ;
ATSglobal(ats_sum_type, _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__CHAINnil) ;

/* exception constructor declarations */

ATSglobal(ats_exn_type, _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__HashTableIsNullException) ;

/* global dynamic constant declarations */

/* static temporary variable declarations */

ATSstatic(ats_ptr_type, tmp6) ;

/* function implementations */

ats_ptr_type
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__table_chain_get (ats_ref_type arg0, ats_int_type arg1) {
ATSlocal(ats_ptr_type, tmp0) ;
ATSlocal(ats_size_type, tmp1) ;
ATSlocal(ats_ptr_type, tmp2) ;
ATSlocal(ats_ptr_type, tmp3) ;
ATSlocal(ats_ptr_type, tmp4) ;
ATSlocal(ats_ptr_type, tmp5) ;
__ats_lab__2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__table_chain_get:
tmp1 = atspre_size1_of_int1 (arg1) ;
tmp2 = atspre_array_ptr_takeout_tsz (arg0, tmp1, sizeof(ats_ptr_type)) ;
tmp3 = (tmp2) ;
tmp4 = *((ats_ptr_type*)tmp3) ;
tmp5 = (ats_sum_ptr_type)0 ;

*((ats_ptr_type*)tmp3) = tmp5 ;
tmp0 = tmp4 ;
return tmp0 ;
} /* fun */

ats_ptr_type
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__hashtbl_make_hint (ats_ptr_type arg0, ats_ptr_type arg1, ats_int_type arg2) {
ATSlocal(ats_ptr_type, tmp7) ;
ATSlocal(ats_ptr_type, tmp8) ;
ATSlocal(ats_ptr_type, tmp9) ;
ATSlocal(ats_ptr_type, tmp12) ;
__ats_lab__2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__hashtbl_make_hint:
tmp8 = ats_htp_make (arg0, arg1, arg2) ;
tmp9 = (tmp8) ;
tmp12 = tmp9 ;
tmp7 = _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2esats__ref_make_elt__ats_ptr_type (tmp12) ;
return tmp7 ;
} /* fun */

ats_ptr_type
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2esats__ref_make_elt__ats_ptr_type (ats_ptr_type arg0) {
ATSlocal(ats_ptr_type, tmp10) ;
ATSlocal(ats_ptr_type, tmp11) ;
__ats_lab__2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2esats__ref_make_elt__ats_ptr_type:
tmp11 = arg0 ;
tmp10 = atspre_ref_make_elt_tsz ((&tmp11), sizeof(ats_ptr_type)) ;
return tmp10 ;
} /* fun */

ats_ptr_type
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__hashtbl_str_make_hint (ats_int_type arg0) {
ATSlocal(ats_ptr_type, tmp13) ;
__ats_lab__2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__hashtbl_str_make_hint:
tmp13 = _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__hashtbl_make_hint (&__ats_fun_4, (&atspre_eq_string_string), arg0) ;
return tmp13 ;
} /* fun */

ats_uint_type
__ats_fun_4 (ats_ptr_type arg0) {
ATSlocal(ats_uint_type, tmp14) ;
ATSlocal(ats_ulint_type, tmp15) ;
__ats_lab___ats_fun_4:
tmp15 = atspre_string_hash_33 (arg0) ;
tmp14 = atspre_uint_of_ulint (tmp15) ;
return tmp14 ;
} /* fun */

/* static load function */

extern ats_void_type
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__staload () ;
extern ats_void_type
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2esats__staload () ;
extern ats_void_type
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2edats__staload () ;
static int _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__staload_flag = 0 ;
ats_void_type _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__staload () {
if (_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__staload_flag) return ;
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__staload_flag = 1 ;
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__staload () ;
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2esats__staload () ;
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_reference_2edats__staload () ;
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__HashTableIsNullException.tag = ats_exception_con_tag_new () ;
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__HashTableIsNullException.name = "_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2esats__HashTableIsNullException" ;
}

/* dynamic load function */

ats_ptr_type CHAINnil ;
extern int _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__dynload_flag ;
ats_void_type _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__dynload () {
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__dynload_flag = 1 ;
_2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats__staload () ;
ats_gc_markroot(&tmp6, sizeof(ats_ptr_type)) ;
tmp6 = (ats_sum_ptr_type)0 ;

ats_gc_markroot (&CHAINnil, sizeof(ats_ptr_type)) ;
CHAINnil = tmp6;
}

/* external types */

typedef _2fhome_2ffac2_2fhwxi_2fresearch_2fATS_2fIMPLEMENT_2fGeizella_2fAnairiats_2fsvn_2fats_2dlang_2fsrc_2fats_hashtbl_2edats_rec_0 hashtbl_struct ;

typedef ats_ptr_type chain ;

/* external codes at mid */

/* external codes at bot */



ats_ptr_type
ats_htp_make (
  ats_ptr_type hash, ats_ptr_type eq, ats_int_type sz
) {
  int n ;
  hashtbl_struct *htp ;
  htp = ATS_MALLOC (sizeof(hashtbl_struct) + sz * sizeof(chain)) ;
//
  htp->atslab_hash = hash ;
  htp->atslab_eq = eq ;
  htp->atslab_size = sz ;
//
  for (n = 0 ; n < sz ; ++n) { htp->atslab_table[n] = CHAINnil ; }
//  
  return htp ;
} // end of [ats_htp_make]

ats_void_type
__ats_htp_free (
  ats_ptr_type htp
) {
  ATS_FREE (htp) ; return ;
} // end of [__ats_htp_free]


