<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <style type="text/css">
    span.comment {color:#787878;font-style:italic}
    span.extern  {color:#A52A2A}
    span.keyword {color:#000000;font-weight:bold}
    span.neuexp  {color:#800080}
    span.staexp  {color:#0000FF}
    span.dynexp  {color:#E80000}
    span.prfexp  {color:#009000}
    span.stacstdec  {text-decoration:none}
    span.stacstuse  {color:#0000CF;text-decoration:underline}
    span.dyncstdec  {text-decoration:none}
    span.dyncstimp  {color:#B80000;text-decoration:underline}
    span.dyncstuse  {color:#B80000;text-decoration:underline}
    body          {color:#E80000;background-color:#E0E0E0}
  </style>
</head>
<body>
<pre>
<span class="comment">(***********************************************************************)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                         Applied Type System                         *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                              Hongwei Xi                             *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(***********************************************************************)</span>

<span class="comment">(*
** ATS/Anairiats - Unleashing the Potential of Types!
**
** Copyright (C) 2002-2008 Hongwei Xi, Boston University
**
** All rights reserved
**
** ATS is free software;  you can  redistribute it and/or modify it under
** the terms of  the GNU GENERAL PUBLIC LICENSE (GPL) as published by the
** Free Software Foundation; either version 3, or (at  your  option)  any
** later version.
** 
** ATS is distributed in the hope that it will be useful, but WITHOUT ANY
** WARRANTY; without  even  the  implied  warranty  of MERCHANTABILITY or
** FITNESS FOR A PARTICULAR PURPOSE.  See the  GNU General Public License
** for more details.
** 
** You  should  have  received  a  copy of the GNU General Public License
** along  with  ATS;  see the  file COPYING.  If not, please write to the
** Free Software Foundation,  51 Franklin Street, Fifth Floor, Boston, MA
** 02110-1301, USA.
*)</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// Author: Hongwei Xi (hwxi AT cs DOT bu DOT edu)
</span><span class="comment">// Start Time: March 2008
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="comment">(* high-level intermediate representation *)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">Syn <span class="keyword">=</span> "ats_syntax.sats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">"ats_staexp2.sats"</span>
<span class="keyword">staload</span> <span class="staexp">"ats_dynexp2.sats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="1731"><span class="stacstdec">hityp_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> HITextype <span class="keyword">of</span> <span class="comment">(* externally named type *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="comment">(*extname*)</span><span class="keyword">,</span> hityplstlst<span class="comment">(*arglst*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HITfun <span class="keyword">of</span> <span class="comment">(* function type *)</span>
      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>funclo<span class="keyword">,</span> hityplst<span class="keyword">,</span> hityp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HITrefarg <span class="keyword">of</span> <span class="comment">(* reference argument *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*refval*)</span><span class="keyword">,</span> hityp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HITs2var <span class="keyword">of</span> <span class="staexp">s2var_t</span>
  <span class="keyword">|</span> HITtyarr <span class="keyword">of</span> <span class="comment">(* array type *)</span>
      <span class="staexp"><span class="keyword">(</span>hityp <span class="comment">(*element*)</span><span class="keyword">,</span> s2explstlst<span class="comment">(*dimension*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HITtyrec <span class="keyword">of</span> <span class="comment">(* boxed record type *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*fltboxknd*)</span><span class="keyword">,</span> labhityplst<span class="keyword">)</span></span> <span class="comment">(* knd: flt/box: 0/1 *)</span>
  <span class="keyword">|</span> HITtyrectemp <span class="keyword">of</span> <span class="comment">(* boxed record type in template *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*fltboxknd*)</span><span class="keyword">,</span> labhityplst<span class="keyword">)</span></span> <span class="comment">(* knd: flt/box: 0/1 *)</span>
  <span class="keyword">|</span> HITtyrecsin <span class="keyword">of</span> <span class="comment">(* flat singluar record type *)</span>
      <span class="staexp">hityp</span>
  <span class="keyword">|</span> HITtysum <span class="keyword">of</span> <span class="comment">(* constructor type *)</span>
      <span class="staexp"><span class="keyword">(</span>d2con_t<span class="keyword">,</span> hityplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HITtysumtemp <span class="keyword">of</span> <span class="comment">(* constructor type in template *)</span>
      <span class="staexp"><span class="keyword">(</span>d2con_t<span class="keyword">,</span> hityplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HITunion <span class="keyword">of</span> <span class="comment">(* union type *)</span>
      <span class="staexp">labhityplst</span>
  <span class="keyword">|</span> HITvararg <span class="comment">(* variable argument *)</span>
<span class="comment">// end of [hityp_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="2635"><span class="stacstdec">labhityplst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABHITYPLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> hityp<span class="keyword">,</span> labhityplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> LABHITYPLSTnil
<span class="comment">// end of [labhityplst]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="2748"><span class="stacstdec">hityp_name</span></a></span> <span class="keyword">=</span> HITNAM <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*1/0: ptr/non*)</span><span class="keyword">,</span> string<span class="keyword">)</span></span>

<span class="keyword">where</span> <span class="staexp"><a name="2808"><span class="stacstdec">hityp <span class="keyword">=</span> <span class="keyword">'{</span>
  hityp_name<span class="keyword">=</span> hityp_name<span class="keyword">,</span> hityp_node<span class="keyword">=</span> hityp_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hityp]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="2893"><span class="stacstdec">hityplst <span class="keyword">=</span> List hityp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="2919"><span class="stacstdec">hityplstlst <span class="keyword">=</span> List hityplst</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="2973"><span class="dyncstdec">fprint_hityp <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="3066"><span class="dyncstdec">print_hityp <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="3101"><span class="dyncstdec">prerr_hityp <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="3137"><span class="dyncstdec">fprint_hityplst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hits<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="3237"><span class="dyncstdec">print_hityplst <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="3279"><span class="dyncstdec">prerr_hityplst <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="3322"><span class="dyncstdec">fprint_hityplstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hitss<span class="keyword">:</span> <span class="staexp">hityplstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="comment">// end of [fprint_hityplstlst]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">val</span> <a name="3482"><span class="dyncstdec">hityp_abs <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3504"><span class="dyncstdec">hityp_bool <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3527"><span class="dyncstdec">hityp_char <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3550"><span class="dyncstdec">hityp_clo <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3572"><span class="dyncstdec">hityp_clo_ptr <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3598"><span class="dyncstdec">hityp_clo_ref <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3624"><span class="dyncstdec">hityp_double <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3649"><span class="dyncstdec">hityp_float <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3673"><span class="dyncstdec">hityp_int <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3695"><span class="dyncstdec">hityp_proof <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3719"><span class="dyncstdec">hityp_ptr <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3741"><span class="dyncstdec">hityp_string <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3766"><span class="dyncstdec">hityp_tysum_ptr <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="comment">(*
val hityp_var : hityp
val hityp_varet : hityp
*)</span>
<span class="keyword">val</span> <a name="3846"><span class="dyncstdec">hityp_vararg <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">val</span> <a name="3871"><span class="dyncstdec">hityp_void <span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="3916"><span class="dyncstdec">hityp_extype
  <span class="keyword">(</span>name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hityplstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">fun</span> <a name="3976"><span class="dyncstdec">hityp_extype_nil <span class="keyword">(</span>name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="keyword">fun</span> <a name="4020"><span class="dyncstdec">hityp_fun <span class="keyword">(</span>fc<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>funclo</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">,</span> _res<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">fun</span> <a name="4088"><span class="dyncstdec">hityp_refarg <span class="keyword">(</span>refvar<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">fun</span> <a name="4139"><span class="dyncstdec">hityp_s2var <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="keyword">fun</span> <a name="4178"><span class="dyncstdec">hityp_tyarr <span class="keyword">(</span>hit_elt<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> s2ess_dim<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="keyword">fun</span> <a name="4243"><span class="dyncstdec">hityp_tyrec <span class="keyword">(</span>fltboxknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> lhits<span class="keyword">:</span> <span class="staexp">labhityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">fun</span> <a name="4317"><span class="dyncstdec">hityp_tyrectemp <span class="keyword">(</span>fltboxknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> lhits<span class="keyword">:</span> <span class="staexp">labhityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">fun</span> <a name="4381"><span class="dyncstdec">hityp_tyrecsin <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="keyword">fun</span> <a name="4421"><span class="dyncstdec">hityp_tysum <span class="keyword">(</span>name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>
<span class="keyword">fun</span> <a name="4489"><span class="dyncstdec">hityp_tysumtemp <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="keyword">fun</span> <a name="4548"><span class="dyncstdec">hityp_union <span class="keyword">(</span>name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> lhits<span class="keyword">:</span> <span class="staexp">labhityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="keyword">fun</span> <a name="4607"><span class="dyncstdec">hityp_varetize <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="4668"><span class="dyncstdec">hityp_is_void <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="4705"><span class="dyncstdec">hityp_fun_is_void <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="4747"><span class="dyncstdec">hityp_is_vararg <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="4786"><span class="dyncstdec">hityp_fun_is_vararg <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="4830"><span class="dyncstdec">hityp_is_tyarr <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="comment">// (flat) array
</span>
<span class="keyword">fun</span> <a name="4885"><span class="dyncstdec">hityp_is_tyrecbox <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="comment">// boxed record
</span><span class="keyword">fun</span> <a name="4942"><span class="dyncstdec">hityp_is_tyrecext <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="comment">// external (flat) record
</span><span class="keyword">fun</span> <a name="5009"><span class="dyncstdec">hityp_is_tyrecsin <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a> <span class="comment">// singular (flat) record
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="5102"><span class="stacstdec">tmpvar_t</span></a></span> <span class="comment">// implemented in [ats_ccomp.dats]
</span><span class="keyword">typedef</span> <span class="staexp"><a name="5154"><span class="stacstdec">tmpvarlst <span class="keyword">=</span> List <span class="keyword">(</span>tmpvar_t<span class="keyword">)</span></span></a></span>
<span class="keyword">datatype</span> <span class="staexp"><a name="5191"><span class="stacstdec">tmpvaropt</span></a></span> <span class="keyword">=</span> TMPVAROPTsome <span class="keyword">of</span> <span class="staexp">tmpvar_t</span> <span class="keyword">|</span> TMPVAROPTnone

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="5276"><span class="stacstdec">hipat_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> HIPann <span class="keyword">of</span> <span class="comment">(* pattern with type ascription *)</span>
      <span class="staexp"><span class="keyword">(</span>hipat<span class="keyword">,</span> hityp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIPany <span class="comment">(* wildcard *)</span>
  <span class="keyword">|</span> HIPas <span class="keyword">of</span> <span class="comment">(* referenced pattern *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*refkind*)</span><span class="keyword">,</span> d2var_t<span class="keyword">,</span> hipat<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIPbool <span class="keyword">of</span> <span class="comment">(* boolean pattern *)</span>
      <span class="staexp">bool</span>
  <span class="keyword">|</span> HIPchar <span class="keyword">of</span> <span class="comment">(* character pattern *)</span>
      <span class="staexp">char</span>
  <span class="keyword">|</span> HIPcon <span class="keyword">of</span> <span class="comment">(* constructor pattern *)</span>
      <span class="staexp"><span class="keyword">(</span>int <span class="comment">(*freeknd*)</span><span class="keyword">,</span> d2con_t<span class="keyword">,</span> hipatlst<span class="keyword">,</span> hityp<span class="comment">(*sum*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIPcon_any <span class="keyword">of</span> <span class="comment">(* constructor pattern with unused arg *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*freeknd*)</span><span class="keyword">,</span> d2con_t<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIPempty <span class="comment">(* empty pattern *)</span>
  <span class="keyword">|</span> HIPfloat <span class="keyword">of</span> <span class="staexp">string</span> <span class="comment">(* float point pattern *)</span>
  <span class="keyword">|</span> HIPint <span class="keyword">of</span> <span class="comment">(* integer pattern *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> intinf_t<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIPlst <span class="keyword">of</span> <span class="comment">(* list pattern *)</span>
      <span class="staexp"><span class="keyword">(</span>hityp<span class="comment">(*element*)</span><span class="keyword">,</span> hipatlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIPrec <span class="keyword">of</span> <span class="comment">(* record pattern *)</span>
      <span class="staexp"><span class="keyword">(</span>int <span class="comment">(*knd*)</span><span class="keyword">,</span> labhipatlst<span class="keyword">,</span> hityp<span class="comment">(*rec*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIPstring <span class="keyword">of</span> <span class="comment">(* string pattern *)</span>
      <span class="staexp">string</span> 
  <span class="keyword">|</span> HIPvar <span class="keyword">of</span> <span class="comment">(* variable pattern *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*refknd*)</span><span class="keyword">,</span> d2var_t<span class="keyword">)</span></span>
<span class="comment">// end of [hipat_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="6190"><span class="stacstdec">labhipatlst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABHIPATLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> hipat<span class="keyword">,</span> labhipatlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> LABHIPATLSTdot
  <span class="keyword">|</span> LABHIPATLSTnil
<span class="comment">// end of [labhipatlst]
</span>
<span class="keyword">where</span> <span class="staexp"><a name="6324"><span class="stacstdec">hipat <span class="keyword">=</span> <span class="keyword">'{</span>
  hipat_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> hipat_node<span class="keyword">=</span> hipat_node
<span class="keyword">,</span> hipat_typ<span class="keyword">=</span> hityp
<span class="comment">// a variable for storing the value that matches the pattern
</span><span class="keyword">,</span> hipat_asvar<span class="keyword">=</span> d2varopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hipat]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="6508"><span class="stacstdec">hipatlst <span class="keyword">=</span> List hipat</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="6534"><span class="stacstdec">hipatopt <span class="keyword">=</span> Option hipat</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="6584"><span class="dyncstdec">fprint_hipat <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hip<span class="keyword">:</span> <span class="staexp">hipat</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6677"><span class="dyncstdec">print_hipat <span class="keyword">(</span>hip<span class="keyword">:</span> <span class="staexp">hipat</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6712"><span class="dyncstdec">prerr_hipat <span class="keyword">(</span>hip<span class="keyword">:</span> <span class="staexp">hipat</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="6748"><span class="dyncstdec">fprint_hipatlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hips<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6848"><span class="dyncstdec">print_hipatlst <span class="keyword">(</span>hips<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6890"><span class="dyncstdec">prerr_hipatlst <span class="keyword">(</span>hips<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="6933"><span class="dyncstdec">fprint_labhipatlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> lhips<span class="keyword">:</span> <span class="staexp">labhipatlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="comment">// end of [fprint_labhipatlst]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="7093"><span class="dyncstdec">hipat_ann <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hipat</span><span class="keyword">,</span> ann<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="keyword">fun</span> <a name="7157"><span class="dyncstdec">hipat_any <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="keyword">fun</span> <a name="7199"><span class="dyncstdec">hipat_as <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> refknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hipat</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="keyword">fun</span> <a name="7275"><span class="dyncstdec">hipat_bool <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="keyword">fun</span> <a name="7327"><span class="dyncstdec">hipat_char <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>

<span class="keyword">fun</span> <a name="7380"><span class="dyncstdec">hipat_con <span class="keyword">(</span>
  _<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> freeknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">,</span> _sum<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="comment">// end of [hipat_con]
</span>
<span class="keyword">fun</span> <a name="7506"><span class="dyncstdec">hipat_con_any <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> freeknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>

<span class="keyword">fun</span> <a name="7579"><span class="dyncstdec">hipat_empty <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="keyword">fun</span> <a name="7623"><span class="dyncstdec">hipat_int <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> int<span class="keyword">:</span> <span class="staexp">intinf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="keyword">fun</span> <a name="7693"><span class="dyncstdec">hipat_lst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _lst<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _elt<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>

<span class="keyword">fun</span> <a name="7765"><span class="dyncstdec">hipat_rec
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">labhipatlst</span><span class="keyword">,</span> _rec<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="comment">// end of [hipat_rec]
</span>
<span class="keyword">fun</span> <a name="7871"><span class="dyncstdec">hipat_string <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>
<span class="keyword">fun</span> <a name="7927"><span class="dyncstdec">hipat_var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> refknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hipat</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="8018"><span class="dyncstdec">hipatlst_is_unused <span class="keyword">(</span>hips<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="8086"><span class="dyncstdec">hipat_asvar_set <span class="keyword">(</span>hip<span class="keyword">:</span> <span class="staexp">hipat</span><span class="keyword">,</span> od2v<span class="keyword">:</span> <span class="staexp">d2varopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "ats_hiexp_hipat_asvar_set"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="8199"><span class="stacstdec">dynconset_t</span></a></span> <span class="comment">// defined in [ats_ccomp_env.dats]
</span><span class="keyword">abstype</span> <span class="staexp"><a name="8254"><span class="stacstdec">dyncstset_t</span></a></span> <span class="comment">// defined in [ats_ccomp_env.dats]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="8332"><span class="stacstdec">hidec_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> HIDlist <span class="keyword">of</span> <span class="staexp">hideclst</span>
  <span class="keyword">|</span> HIDsaspdec <span class="keyword">of</span> <span class="staexp">s2aspdec</span>
  <span class="keyword">|</span> HIDdcstdec <span class="keyword">of</span> <span class="comment">(* dynamic constant *)</span>
      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>dcstkind<span class="keyword">,</span> d2cstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDdatdec <span class="keyword">of</span> <span class="comment">(* datatype declaration *)</span>
      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>datakind<span class="keyword">,</span> s2cstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDexndec <span class="keyword">of</span> <span class="comment">(* exception constructor *)</span>
      <span class="staexp">d2conlst</span>
  <span class="keyword">|</span> HIDextype <span class="keyword">of</span> <span class="comment">(* external type *)</span>
      <span class="staexp"><span class="keyword">(</span>string <span class="comment">(*name*)</span><span class="keyword">,</span> hityp <span class="comment">(*definition*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDextval <span class="keyword">of</span> <span class="comment">(* external value *)</span>
      <span class="staexp"><span class="keyword">(</span>string <span class="comment">(*name*)</span><span class="keyword">,</span> hiexp <span class="comment">(*definition*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDextern <span class="keyword">of</span> <span class="comment">(* external code *)</span>
      <span class="staexp"><span class="keyword">(</span>int <span class="comment">(*position: 0/1/2 : top/?/end*)</span><span class="keyword">,</span> string <span class="comment">(*code*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDfundecs <span class="keyword">of</span> <span class="comment">(* function *)</span>
      <span class="staexp"><span class="keyword">(</span>s2qualst<span class="comment">(*decarg*)</span><span class="keyword">,</span> $Syn<span class="keyword">.</span>funkind<span class="keyword">,</span> hifundeclst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDvaldecs <span class="keyword">of</span> <span class="comment">(* value *)</span>
      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>valkind<span class="keyword">,</span> hivaldeclst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDvaldecs_par <span class="keyword">of</span> <span class="comment">(* parallel value declaration *)</span>
      <span class="staexp">hivaldeclst</span>
  <span class="keyword">|</span> HIDvaldecs_rec <span class="keyword">of</span> <span class="comment">(* recursive value declaration *)</span>
      <span class="staexp">hivaldeclst</span>
  <span class="keyword">|</span> HIDvardecs <span class="keyword">of</span> <span class="comment">(* variable *)</span>
      <span class="staexp">hivardeclst</span>
  <span class="keyword">|</span> HIDimpdec <span class="keyword">of</span> <span class="comment">(* implementation *)</span>
      <span class="staexp">hiimpdec</span>
  <span class="keyword">|</span> HIDimpdec_prf <span class="keyword">of</span> <span class="comment">(* proof implementation *)</span>
      <span class="staexp">hiimpdec_prf</span>
  <span class="keyword">|</span> HIDlocal <span class="keyword">of</span> <span class="comment">(* local declaration *)</span>
      <span class="staexp"><span class="keyword">(</span>hideclst <span class="comment">(*head*)</span><span class="keyword">,</span> hideclst <span class="comment">(*body*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDstaload <span class="keyword">of</span> <span class="comment">(* static loading *)</span>
      <span class="staexp"><span class="keyword">(</span>fil_t<span class="keyword">,</span> int<span class="comment">(*loadflag*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIDdynload <span class="keyword">of</span> <span class="comment">(* dynamic loading *)</span>
      <span class="staexp">fil_t</span>
<span class="comment">// end of [hidec_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="9574"><span class="stacstdec">hiexp_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> HIEapp <span class="keyword">of</span> <span class="comment">(* dynamic application *)</span>
      <span class="staexp"><span class="keyword">(</span>hityp<span class="keyword">,</span> hiexp<span class="keyword">,</span> hiexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEarrinit <span class="keyword">of</span> <span class="comment">(* array construction *)</span>
      <span class="staexp"><span class="keyword">(</span>hityp<span class="comment">(*eltyp*)</span><span class="keyword">,</span> hiexpopt<span class="comment">(*asz*)</span><span class="keyword">,</span> hiexplst<span class="comment">(*elt*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEarrsize <span class="keyword">of</span> <span class="comment">(* arraysize construction *)</span>
      <span class="staexp"><span class="keyword">(</span>hityp<span class="comment">(*eltyp*)</span><span class="keyword">,</span> hiexplst<span class="comment">(*elt*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEassgn_ptr <span class="keyword">of</span> <span class="comment">(* assignment to a pointer with offsets *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp<span class="keyword">,</span> hilablst<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEassgn_var <span class="keyword">of</span> <span class="comment">(* assignment to a variable with ofsets *)</span>
      <span class="staexp"><span class="keyword">(</span>d2var_t<span class="keyword">,</span> hilablst<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEbool <span class="keyword">of</span> <span class="comment">(* boolean constant *)</span>
      <span class="staexp">bool</span>
  <span class="keyword">|</span> HIEcaseof <span class="keyword">of</span> <span class="comment">(* case expression *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*casknd*)</span><span class="keyword">,</span> hiexplst<span class="keyword">,</span> hiclaulst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEcastfn <span class="keyword">of</span> <span class="comment">(* cast expression *)</span>
      <span class="staexp"><span class="keyword">(</span>d2cst_t<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEchar <span class="keyword">of</span> <span class="comment">(* character constant *)</span>
      <span class="staexp">char</span>
  <span class="keyword">|</span> HIEcon <span class="keyword">of</span> <span class="comment">(* constructor *)</span>
      <span class="staexp"><span class="keyword">(</span>hityp<span class="keyword">,</span> d2con_t<span class="keyword">,</span> hiexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEcst <span class="keyword">of</span> <span class="staexp">d2cst_t</span> <span class="comment">// dynamic constant
</span>  <span class="keyword">|</span> HIEcstsp <span class="keyword">of</span> <span class="staexp">$Syn<span class="keyword">.</span>cstsp</span> <span class="comment">// special dynamic constant
</span>  <span class="keyword">|</span> HIEdynload <span class="keyword">of</span> <span class="comment">(* dynamic loading *)</span>
      <span class="staexp">fil_t</span> <span class="comment">(* filename *)</span>
  <span class="keyword">|</span> HIEempty <span class="comment">(* no operation *)</span>
  <span class="keyword">|</span> HIEextval <span class="keyword">of</span> <span class="comment">(* external value *)</span>
      <span class="staexp">string</span>
  <span class="keyword">|</span> HIEfix <span class="keyword">of</span> <span class="comment">// dynamic fixed-point expression
</span>      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*knd: 0/1: flat/boxed*)</span><span class="keyword">,</span> d2var_t<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEfloat <span class="keyword">of</span> <span class="comment">(* double precison floating point *)</span>
      <span class="staexp">string</span>
  <span class="keyword">|</span> HIEfloatsp <span class="keyword">of</span> <span class="comment">(* specified floating point *)</span>
      <span class="staexp">string</span>
  <span class="keyword">|</span> HIEfreeat <span class="keyword">of</span> <span class="staexp">hiexp</span> <span class="comment">// memory deallocation
</span>  <span class="keyword">|</span> HIEif <span class="keyword">of</span> <span class="comment">(* conditional *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp<span class="keyword">,</span> hiexp<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEint <span class="keyword">of</span> <span class="comment">(* integer constant *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> intinf_t<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEintsp <span class="keyword">of</span> <span class="comment">(* specified integer constant *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> intinf_t<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIElam <span class="keyword">of</span> <span class="comment">(* lambda-abstraction: boxed *)</span>
      <span class="staexp"><span class="keyword">(</span>hipatlst<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIElaminit <span class="keyword">of</span> <span class="comment">(* lambda-abstraction: unboxed *)</span>
      <span class="staexp"><span class="keyword">(</span>hipatlst<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIElazy_delay <span class="keyword">of</span> <span class="comment">(* delayed computation *)</span>
      <span class="staexp">hiexp</span> <span class="comment">(*eval*)</span>
  <span class="keyword">|</span> HIElazy_vt_delay <span class="keyword">of</span> <span class="comment">(* delayed linear computation *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp <span class="comment">(*eval*)</span><span class="keyword">,</span> hiexp <span class="comment">(*free*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIElazy_force <span class="keyword">of</span> <span class="comment">(* lazy value evaluation *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*linearity*)</span><span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIElet <span class="keyword">of</span> <span class="comment">(* let-expression *)</span>
      <span class="staexp"><span class="keyword">(</span>hideclst<span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEloop <span class="keyword">of</span> <span class="comment">(* for-loop *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexpopt<span class="comment">(*init*)</span><span class="keyword">,</span> hiexp<span class="comment">(*test*)</span><span class="keyword">,</span> hiexpopt<span class="comment">(*post*)</span><span class="keyword">,</span> hiexp<span class="comment">(*body*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEloopexn <span class="keyword">of</span> <span class="comment">(* local jump *)</span>
      <span class="staexp">int</span> <span class="comment">(* break: 0 and continue: 1 *)</span>
  <span class="keyword">|</span> HIElst <span class="keyword">of</span> <span class="comment">(* list expression *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*lin*)</span><span class="keyword">,</span> hityp<span class="comment">(*element*)</span><span class="keyword">,</span> hiexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEptrof_ptr <span class="keyword">of</span> <span class="comment">(* address-of *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp<span class="keyword">,</span> hilablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEptrof_var <span class="keyword">of</span> <span class="comment">(* address-of *)</span>
      <span class="staexp"><span class="keyword">(</span>d2var_t<span class="keyword">,</span> hilablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEraise <span class="keyword">of</span> <span class="comment">(* raising exception *)</span>
      <span class="staexp">hiexp</span>
  <span class="keyword">|</span> HIErec <span class="keyword">of</span> <span class="comment">(* record construction *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*knd*)</span><span class="keyword">,</span> hityp<span class="keyword">,</span> labhiexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIErefarg <span class="keyword">of</span> <span class="comment">(* call-by-refval argument *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*refval*)</span><span class="keyword">,</span> int<span class="comment">(*freeknd*)</span><span class="keyword">,</span> hiexp<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEsel <span class="keyword">of</span> <span class="comment">(* path selection *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp<span class="keyword">,</span> hilablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEsel_ptr <span class="keyword">of</span> <span class="comment">(* path selection for pointer *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp<span class="keyword">,</span> hilablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEsel_var <span class="keyword">of</span> <span class="comment">(* path selection for variable *)</span>
      <span class="staexp"><span class="keyword">(</span>d2var_t<span class="keyword">,</span> hilablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEseq <span class="keyword">of</span> <span class="comment">(* sequencing *)</span>
      <span class="staexp">hiexplst</span>
  <span class="keyword">|</span> HIEsif <span class="keyword">of</span> <span class="comment">(* static conditional expression *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp<span class="comment">(*then*)</span><span class="keyword">,</span> hiexp<span class="comment">(*else*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEsizeof <span class="keyword">of</span> <span class="comment">(* size of type *)</span>
      <span class="staexp">hityp</span>
  <span class="keyword">|</span> HIEstring <span class="keyword">of</span> <span class="comment">(* string constant *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> int<span class="comment">(*length*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEtmpcst <span class="keyword">of</span> <span class="comment">(* template constant *)</span>
      <span class="staexp"><span class="keyword">(</span>d2cst_t<span class="keyword">,</span> hityplstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEtmpvar <span class="keyword">of</span> <span class="comment">(* template variable *)</span>
      <span class="staexp"><span class="keyword">(</span>d2var_t<span class="keyword">,</span> hityplstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEtop <span class="comment">(* uninitialized value *)</span>
  <span class="keyword">|</span> HIEtrywith <span class="keyword">of</span> <span class="comment">(* exception handling *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexp<span class="keyword">,</span> hiclaulst<span class="keyword">)</span></span>
  <span class="keyword">|</span> HIEvar <span class="keyword">of</span> <span class="comment">(* variable *)</span>
      <span class="staexp">d2var_t</span>
<span class="comment">// end of [hiexp_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="12897"><span class="stacstdec">labhiexplst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABHIEXPLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> hiexp<span class="keyword">,</span> labhiexplst<span class="keyword">)</span></span>
  <span class="keyword">|</span> LABHIEXPLSTnil
<span class="comment">// end of [labhiexplst]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="13010"><span class="stacstdec">hilab_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> HILlab <span class="keyword">of</span> <span class="comment">(* record selection *)</span>
      <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> hityp <span class="comment">(*record*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> HILind <span class="keyword">of</span> <span class="comment">(* array subscription *)</span>
      <span class="staexp"><span class="keyword">(</span>hiexplstlst <span class="comment">(*index*)</span><span class="keyword">,</span> hityp <span class="comment">(*element*)</span><span class="keyword">)</span></span>
<span class="comment">// end of [hilab_node]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">where</span> <span class="staexp"><a name="13231"><span class="stacstdec">hidec <span class="keyword">=</span> <span class="keyword">'{</span>
  hidec_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> hidec_node<span class="keyword">=</span> hidec_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hidec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="13310"><span class="stacstdec">hideclst <span class="keyword">=</span> List hidec</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="13337"><span class="stacstdec">hiexp <span class="keyword">=</span> <span class="keyword">'{</span> 
  hiexp_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> hiexp_node<span class="keyword">=</span> hiexp_node<span class="keyword">,</span> hiexp_typ<span class="keyword">=</span> hityp
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hiexp]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="13435"><span class="stacstdec">hiexplst <span class="keyword">=</span> List hiexp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="13461"><span class="stacstdec">hiexpopt <span class="keyword">=</span> Option hiexp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="13489"><span class="stacstdec">hiexplstlst <span class="keyword">=</span> List hiexplst</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="13522"><span class="stacstdec">hilab <span class="keyword">=</span> <span class="keyword">'{</span>
  hilab_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> hilab_node<span class="keyword">=</span> hilab_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hilab]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="13601"><span class="stacstdec">hilablst <span class="keyword">=</span> List hilab</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="13628"><span class="stacstdec">himat <span class="keyword">=</span> <span class="keyword">'{</span>
  himat_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> himat_exp<span class="keyword">=</span> hiexp<span class="keyword">,</span> himat_pat<span class="keyword">=</span> Option <span class="keyword">(</span>hipat<span class="keyword">)</span>
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [himat]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="13728"><span class="stacstdec">himatlst <span class="keyword">=</span> List himat</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="13755"><span class="stacstdec">hiclau <span class="keyword">=</span> <span class="keyword">'{</span> <span class="comment">(* type for clauses *)</span>
  hiclau_loc<span class="keyword">=</span> loc_t <span class="comment">(* location information *)</span>
<span class="keyword">,</span> hiclau_pat<span class="keyword">=</span> hipatlst <span class="comment">(* pattern list *)</span>
<span class="keyword">,</span> hiclau_gua<span class="keyword">=</span> himatlst <span class="comment">(* clause guard *)</span>
<span class="keyword">,</span> hiclau_exp<span class="keyword">=</span> hiexp <span class="comment">(* expression body *)</span>
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hiclau]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="13989"><span class="stacstdec">hiclaulst <span class="keyword">=</span> List hiclau</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="14039"><span class="stacstdec">hifundec <span class="keyword">=</span> <span class="keyword">'{</span>
  hifundec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> hifundec_var<span class="keyword">=</span> d2var_t
<span class="keyword">,</span> hifundec_def<span class="keyword">=</span> hiexp
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hifundec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="14149"><span class="stacstdec">hifundeclst <span class="keyword">=</span> List hifundec</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="14182"><span class="stacstdec">hivaldec <span class="keyword">=</span> <span class="keyword">'{</span>
  hivaldec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> hivaldec_pat<span class="keyword">=</span> hipat
<span class="keyword">,</span> hivaldec_def<span class="keyword">=</span> hiexp
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hivaldec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="14290"><span class="stacstdec">hivaldeclst <span class="keyword">=</span> List hivaldec</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="14323"><span class="stacstdec">hivardec <span class="keyword">=</span> <span class="keyword">'{</span>
  hivardec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> hivardec_knd<span class="keyword">=</span> int
<span class="keyword">,</span> hivardec_ptr<span class="keyword">=</span> d2var_t
<span class="keyword">,</span> hivardec_ini<span class="keyword">=</span> hiexpopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hivardec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="14456"><span class="stacstdec">hivardeclst <span class="keyword">=</span> List hivardec</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="14489"><span class="stacstdec">hiimpdec <span class="keyword">=</span> <span class="keyword">'{</span> <span class="comment">(* implementation *)</span>
  hiimpdec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> hiimpdec_cst<span class="keyword">=</span> d2cst_t
<span class="keyword">,</span> hiimpdec_tmp<span class="keyword">=</span> int
<span class="keyword">,</span> hiimpdec_decarg<span class="keyword">=</span> s2qualst<span class="keyword">,</span> hiimpdec_tmparg<span class="keyword">=</span> hityplstlst
<span class="keyword">,</span> hiimpdec_def<span class="keyword">=</span> hiexp
<span class="keyword">,</span> hiimpdec_cstset<span class="keyword">=</span> dyncstset_t
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hiimpdec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="14729"><span class="stacstdec">hiimpdec_prf <span class="keyword">=</span> <span class="keyword">'{</span> <span class="comment">(* proof implementation *)</span>
  hiimpdec_prf_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> hiimpdec_prf_cst<span class="keyword">=</span> d2cst_t
<span class="keyword">,</span> hiimpdec_prf_cstset<span class="keyword">=</span> dyncstset_t
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [hiimpdec_prf]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="14916"><span class="dyncstdec">fprint_hilab <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hil<span class="keyword">:</span> <span class="staexp">hilab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="15010"><span class="dyncstdec">fprint_hilablst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="15115"><span class="dyncstdec">fprint_hiexp <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="15208"><span class="dyncstdec">print_hiexp <span class="keyword">(</span>hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="15243"><span class="dyncstdec">prerr_hiexp <span class="keyword">(</span>hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="15279"><span class="dyncstdec">fprint_hiexplst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hies<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="15379"><span class="dyncstdec">print_hiexplst <span class="keyword">(</span>hies<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="15421"><span class="dyncstdec">prerr_hiexplst <span class="keyword">(</span>hies<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="15464"><span class="dyncstdec">fprint_hiexplstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> hiess<span class="keyword">:</span> <span class="staexp">hiexplstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="comment">// end of [fprint_hiexplstlst]
</span>
<span class="keyword">fun</span> <a name="15603"><span class="dyncstdec">fprint_labhiexplst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> lhies<span class="keyword">:</span> <span class="staexp">labhiexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="comment">// end of [fprint_labhiexplst]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="15763"><span class="dyncstdec">hiexp_is_empty <span class="keyword">(</span>hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="15802"><span class="dyncstdec">hiexp_is_value <span class="keyword">(</span>hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="15841"><span class="dyncstdec">hiexp_let_simplify
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hideclst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="15918"><span class="dyncstdec">hiexp_seq_simplify
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>
 
<span class="keyword">fun</span> <a name="16007"><span class="dyncstdec">hiexp_app
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _app<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _fun<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> hies<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="16099"><span class="dyncstdec">hiexp_arrinit
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> hit_elt<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> ohie_asz<span class="keyword">:</span> <span class="staexp">hiexpopt</span><span class="keyword">,</span> hies_elt<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="16207"><span class="dyncstdec">hiexp_arrsize
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> hit_elt<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> hies<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="16288"><span class="dyncstdec">hiexp_assgn_ptr
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _ptr<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">,</span> _val<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="16384"><span class="dyncstdec">hiexp_assgn_var
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _ptr<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">,</span> _val<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="16482"><span class="dyncstdec">hiexp_bool <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="16556"><span class="dyncstdec">hiexp_caseof
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> hies<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">,</span> hicls<span class="keyword">:</span> <span class="staexp">hiclaulst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="16651"><span class="dyncstdec">hiexp_caseof_if
  <span class="keyword">(</span>loc0<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hit0<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> hies<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">,</span> hicls<span class="keyword">:</span> <span class="staexp">hiclaulst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="16776"><span class="dyncstdec">hiexp_castfn <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="16869"><span class="dyncstdec">hiexp_char <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="16922"><span class="dyncstdec">hiexp_con
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _sum<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17011"><span class="dyncstdec">hiexp_cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>
<span class="keyword">fun</span> <a name="17067"><span class="dyncstdec">hiexp_cstsp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> cst<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>cstsp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17129"><span class="dyncstdec">hiexp_dynload <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">fil_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17186"><span class="dyncstdec">hiexp_empty <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17231"><span class="dyncstdec">hiexp_extval <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> code<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17291"><span class="dyncstdec">hiexp_fix <span class="keyword">(</span>
  _<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _fun<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">hiexp</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a> <span class="comment">// end of [hiexp_fix]
</span>
<span class="keyword">fun</span> <a name="17400"><span class="dyncstdec">hiexp_float <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>
<span class="keyword">fun</span> <a name="17455"><span class="dyncstdec">hiexp_floatsp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17513"><span class="dyncstdec">hiexp_freeat <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17569"><span class="dyncstdec">hiexp_if
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _cond<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> _then<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> _else<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17658"><span class="dyncstdec">hiexp_int
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> int<span class="keyword">:</span> <span class="staexp">intinf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="17731"><span class="dyncstdec">hiexp_intsp
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> int<span class="keyword">:</span> <span class="staexp">intinf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="17827"><span class="dyncstdec">hiexp_is_lam <span class="keyword">(</span>hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="17864"><span class="dyncstdec">hiexp_lam
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>
<span class="comment">// end of [hiexp_lam]
</span>
<span class="keyword">fun</span> <a name="17961"><span class="dyncstdec">hiexp_laminit
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>
<span class="comment">// end of [hiexp_laminit]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="18087"><span class="dyncstdec">hiexp_lazy_delay
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _eval<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="18157"><span class="dyncstdec">hiexp_lazy_vt_delay
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _eval<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> _free<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="18244"><span class="dyncstdec">hiexp_lazy_force
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _val<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _lazyval<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="18347"><span class="dyncstdec">hiexp_let <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hideclst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="18434"><span class="dyncstdec">hiexp_loop <span class="keyword">(</span>
    _<span class="keyword">:</span> <span class="staexp">loc_t</span>
  <span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span>
  <span class="keyword">,</span> _init<span class="keyword">:</span> <span class="staexp">hiexpopt</span>
  <span class="keyword">,</span> _test<span class="keyword">:</span> <span class="staexp">hiexp</span>
  <span class="keyword">,</span> _post<span class="keyword">:</span> <span class="staexp">hiexpopt</span>
  <span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">hiexp</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="18564"><span class="dyncstdec">hiexp_loopexn <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> i<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="18640"><span class="dyncstdec">hiexp_lst
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _lst<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _elt<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="18727"><span class="dyncstdec">hiexp_ptrof_ptr
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _ptr<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="18807"><span class="dyncstdec">hiexp_ptrof_var
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _ptr<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="18889"><span class="dyncstdec">hiexp_raise <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="18944"><span class="dyncstdec">hiexp_rec
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _rec<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">labhiexplst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19031"><span class="dyncstdec">hiexp_refarg
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> refval<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> freeknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19118"><span class="dyncstdec">hiexp_sel
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19191"><span class="dyncstdec">hiexp_sel_ptr
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _ptr<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19269"><span class="dyncstdec">hiexp_sel_var
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _ptr<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> hils<span class="keyword">:</span> <span class="staexp">hilablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19349"><span class="dyncstdec">hiexp_seq <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19405"><span class="dyncstdec">hiexp_sif
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="comment">(*then*)</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="comment">(*else*)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19486"><span class="dyncstdec">hiexp_sizeof <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19545"><span class="dyncstdec">hiexp_string <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19610"><span class="dyncstdec">hiexp_tmpcst
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityplstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19688"><span class="dyncstdec">hiexp_tmpvar
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityplstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19766"><span class="dyncstdec">hiexp_top <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19809"><span class="dyncstdec">hiexp_trywith
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiclaulst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="keyword">fun</span> <a name="19882"><span class="dyncstdec">hiexp_var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="19958"><span class="dyncstdec">hilab_lab <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _lab<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">,</span> _rec<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hilab</span></span></a>
<span class="keyword">fun</span> <a name="20016"><span class="dyncstdec">hilab_ind <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _ind<span class="keyword">:</span> <span class="staexp">hiexplstlst</span><span class="keyword">,</span> _elt<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hilab</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="20102"><span class="dyncstdec">himat_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hipatopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">himat</span></span></a>

<span class="keyword">fun</span> <a name="20159"><span class="dyncstdec">hiclau_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hips<span class="keyword">:</span> <span class="staexp">hipatlst</span><span class="keyword">,</span> gua<span class="keyword">:</span> <span class="staexp">himatlst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiclau</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="20262"><span class="dyncstdec">hidec_list <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">hideclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="20309"><span class="dyncstdec">hidec_saspdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2aspdec</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="20359"><span class="dyncstdec">hidec_dcstdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>dcstkind</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="20427"><span class="dyncstdec">hidec_datdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>datakind</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>
<span class="keyword">fun</span> <a name="20493"><span class="dyncstdec">hidec_exndec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2conlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="20542"><span class="dyncstdec">hidec_extern <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> position<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> code<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>
<span class="keyword">fun</span> <a name="20606"><span class="dyncstdec">hidec_extype <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> _def<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>
<span class="keyword">fun</span> <a name="20668"><span class="dyncstdec">hidec_extval <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> _def<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="20731"><span class="dyncstdec">hifundec_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hifundec</span></span></a>
<span class="keyword">fun</span> <a name="20796"><span class="dyncstdec">hidec_fundecs
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>funkind</span><span class="keyword">,</span> hids<span class="keyword">:</span> <span class="staexp">hifundeclst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="20894"><span class="dyncstdec">hivaldec_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hip<span class="keyword">:</span> <span class="staexp">hipat</span><span class="keyword">,</span> hie<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hivaldec</span></span></a>
<span class="keyword">fun</span> <a name="20957"><span class="dyncstdec">hidec_valdecs
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>valkind</span><span class="keyword">,</span> hids<span class="keyword">:</span> <span class="staexp">hivaldeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>
<span class="keyword">fun</span> <a name="21033"><span class="dyncstdec">hidec_valdecs_par <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hids<span class="keyword">:</span> <span class="staexp">hivaldeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>
<span class="keyword">fun</span> <a name="21092"><span class="dyncstdec">hidec_valdecs_rec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hids<span class="keyword">:</span> <span class="staexp">hivaldeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="21152"><span class="dyncstdec">hivardec_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> ini<span class="keyword">:</span> <span class="staexp">hiexpopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hivardec</span></span></a>
<span class="keyword">fun</span> <a name="21232"><span class="dyncstdec">hidec_vardecs <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hids<span class="keyword">:</span> <span class="staexp">hivardeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="21309"><span class="dyncstdec">hiimpdec_make <span class="keyword">(</span>
    _<span class="keyword">:</span> <span class="staexp">loc_t</span>
  <span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> tmp<span class="keyword">:</span> <span class="staexp">int</span>
  <span class="keyword">,</span> decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">,</span> tmparg<span class="keyword">:</span> <span class="staexp">hityplstlst</span><span class="keyword">,</span> _def<span class="keyword">:</span> <span class="staexp">hiexp</span>
  <span class="keyword">,</span> _cstset<span class="keyword">:</span> <span class="staexp">dyncstset_t</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">hiimpdec</span></span></a>
<span class="comment">// end of [hiimpdec_make]
</span>
<span class="keyword">fun</span> <a name="21491"><span class="dyncstdec">hidec_impdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hid<span class="keyword">:</span> <span class="staexp">hiimpdec</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="21542"><span class="dyncstdec">hiimpdec_prf_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _cstset<span class="keyword">:</span> <span class="staexp">dyncstset_t</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">hiimpdec_prf</span></span></a>
<span class="comment">// end of [hiimpdec_prf_make]
</span>
<span class="keyword">fun</span> <a name="21659"><span class="dyncstdec">hidec_impdec_prf <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> hid<span class="keyword">:</span> <span class="staexp">hiimpdec_prf</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="21739"><span class="dyncstdec">hidec_local <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _head<span class="keyword">:</span> <span class="staexp">hideclst</span><span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">hideclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="keyword">fun</span> <a name="21808"><span class="dyncstdec">hidec_staload <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">fil_t</span><span class="keyword">,</span> loadflag<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>
<span class="keyword">fun</span> <a name="21869"><span class="dyncstdec">hidec_dynload <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">fil_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hidec</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="21941"><span class="stacstdec">hityp_t</span></a></span> <span class="comment">// boxed type
</span><span class="keyword">abstype</span> <span class="staexp"><a name="21971"><span class="stacstdec">hityplst_t</span></a></span> <span class="comment">// boxed type
</span><span class="keyword">abstype</span> <span class="staexp"><a name="22004"><span class="stacstdec">hityplstlst_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">fun</span> <a name="22037"><span class="dyncstdec">hityp_encode <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>
<span class="keyword">fun</span> <a name="22076"><span class="dyncstdec">hityp_decode <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp</span></span></a>

<span class="keyword">val</span> <a name="22116"><span class="dyncstdec">hityp_t_ptr<span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>
<span class="keyword">val</span> <a name="22141"><span class="dyncstdec">hityp_t_void<span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>
<span class="keyword">fun</span> <a name="22167"><span class="dyncstdec">hityp_t_s2var <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>
<span class="keyword">fun</span> <a name="22209"><span class="dyncstdec">hityp_t_name_get <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp_name</span></span></a>

<span class="keyword">fun</span> <a name="22258"><span class="dyncstdec">hityp_t_is_void <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="22299"><span class="dyncstdec">hityp_t_fun_is_void <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="22344"><span class="dyncstdec">hityp_t_is_tyrecbox <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="22389"><span class="dyncstdec">hityp_t_is_tyrecext <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="22434"><span class="dyncstdec">hityp_t_is_tyrecsin <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="22480"><span class="dyncstdec">hityplst_encode <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityplst_t</span></span></a>
<span class="keyword">fun</span> <a name="22529"><span class="dyncstdec">hityplst_decode <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityplst</span></span></a>

<span class="keyword">fun</span> <a name="22579"><span class="dyncstdec">hityplst_is_nil <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="22624"><span class="dyncstdec">hityplst_is_cons <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="22671"><span class="dyncstdec">hityplstlst_encode <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityplstlst_t</span></span></a>
<span class="keyword">fun</span> <a name="22729"><span class="dyncstdec">hityplstlst_decode <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplstlst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityplstlst</span></span></a>

<span class="keyword">fun</span> <a name="22788"><span class="dyncstdec">hityplstlst_is_nil <span class="keyword">(</span>hitss<span class="keyword">:</span> <span class="staexp">hityplstlst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="22840"><span class="dyncstdec">hityplstlst_is_cons <span class="keyword">(</span>hitss<span class="keyword">:</span> <span class="staexp">hityplstlst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="22898"><span class="dyncstdec">print_hityp_t <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="22937"><span class="dyncstdec">prerr_hityp_t <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="22981"><span class="dyncstdec">d2cst_hityp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option <span class="keyword">(</span>hityp_t<span class="keyword">)</span></span></span></a>
<span class="keyword">fun</span> <a name="23032"><span class="dyncstdec">d2cst_hityp_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">Option hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "ats_dynexp2_d2cst_hityp_set"

<span class="keyword">fun</span> <a name="23125"><span class="dyncstdec">d2cst_hityp_get_some <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="23198"><span class="stacstdec">vartyp_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">fun</span> <a name="23226"><span class="dyncstdec">vartyp_make <span class="keyword">(</span>d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> hit<span class="keyword">:</span> <span class="staexp">hityp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">vartyp_t</span></span></a>

<span class="keyword">fun</span> <a name="23282"><span class="dyncstdec">vartyp_typ_get <span class="keyword">(</span>vtp<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">hityp_t</span></span></a>
<span class="keyword">fun</span> <a name="23328"><span class="dyncstdec">vartyp_var_get <span class="keyword">(</span>vtp<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">d2var_t</span></span></a>

<span class="keyword">fun</span> <a name="23375"><span class="dyncstdec">eq_vartyp_vartyp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_vartyp_vartyp</span>

<span class="keyword">fun</span> <a name="23465"><span class="dyncstdec">compare_vartyp_vartyp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> compare <span class="keyword">with</span> compare_vartyp_vartyp</span>

<span class="keyword">fun</span> <a name="23570"><span class="dyncstdec">fprint_vartyp <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
   <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> vtp<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="23668"><span class="dyncstdec">print_vartyp <span class="keyword">(</span>vtp<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="23707"><span class="dyncstdec">prerr_vartyp <span class="keyword">(</span>vtp<span class="keyword">:</span> <span class="staexp">vartyp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">typedef</span> <span class="staexp"><a name="23772"><span class="stacstdec">strlst <span class="keyword">=</span> List string</span></a></span>

<span class="keyword">datatype</span> <span class="staexp"><a name="23803"><span class="stacstdec">labstrlst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABSTRLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> string<span class="keyword">,</span> labstrlst<span class="keyword">)</span></span> <span class="keyword">|</span> LABSTRLSTnil
<span class="comment">// end of [labstrlst]
</span>
<span class="keyword">datatype</span> <span class="staexp"><a name="23910"><span class="stacstdec">typkey</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> TYPKEYrec <span class="keyword">of</span> <span class="staexp">labstrlst</span> <span class="comment">// record
</span>  <span class="keyword">|</span> TYPKEYsum <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>int<span class="keyword">,</span> strlst<span class="keyword">)</span></span> <span class="comment">// sum
</span>  <span class="keyword">|</span> TYPKEYuni <span class="keyword">of</span> <span class="staexp">labstrlst</span> <span class="comment">// union
</span><span class="comment">// end of [typkey]
</span>
<span class="comment">// implemented in [ats_ccomp_env.dats]
</span><span class="keyword">fun</span> <a name="24093"><span class="dyncstdec">typdefmap_find <span class="keyword">(</span>tk<span class="keyword">:</span> <span class="staexp">typkey</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">string</span></span></a>

<span class="comment">// implemented in [ats_hiexp_util.dats]
</span><span class="keyword">fun</span> <a name="24174"><span class="dyncstdec">hityp_tyrec_make <span class="keyword">(</span>fltboxknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> lhits<span class="keyword">:</span> <span class="staexp">labhityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>
<span class="keyword">fun</span> <a name="24241"><span class="dyncstdec">hityp_tysum_make <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> hits_arg<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>

<span class="keyword">fun</span> <a name="24307"><span class="dyncstdec">hityp_normalize <span class="keyword">(</span>hit<span class="keyword">:</span> <span class="staexp">hityp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityp_t</span></span></a>
<span class="keyword">fun</span> <a name="24349"><span class="dyncstdec">hityplst_normalize <span class="keyword">(</span>hits<span class="keyword">:</span> <span class="staexp">hityplst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityplst_t</span></span></a>
<span class="keyword">fun</span> <a name="24401"><span class="dyncstdec">hityplstlst_normalize <span class="keyword">(</span>hitss<span class="keyword">:</span> <span class="staexp">hityplstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hityplstlst_t</span></span></a>

<span class="comment">// implemented in [ats_ccomp_trans_temp.dats]
</span><span class="keyword">fun</span> <a name="24510"><span class="dyncstdec">hityp_s2var_normalize <span class="keyword">(</span>s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt <span class="keyword">(</span>hityp_t<span class="keyword">)</span></span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="24598"><span class="stacstdec">tmpdef_t</span></a></span>

<span class="comment">// implemented in [ats_hiexp_util.dats]
</span><span class="keyword">fun</span> <a name="24652"><span class="dyncstdec">tmpdef_make <span class="keyword">(</span>decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">tmpdef_t</span></span></a>
<span class="keyword">fun</span> <a name="24709"><span class="dyncstdec">tmpdef_arg_get <span class="keyword">(</span>def<span class="keyword">:</span> <span class="staexp">tmpdef_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2qualst</span></span></a>
<span class="keyword">fun</span> <a name="24754"><span class="dyncstdec">tmpdef_exp_get <span class="keyword">(</span>def<span class="keyword">:</span> <span class="staexp">tmpdef_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">hiexp</span></span></a>

<span class="comment">// implemented in [ats_hiexp_util.dats]
</span><span class="keyword">fun</span> <a name="24837"><span class="dyncstdec">tmpcstmap_add <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="24906"><span class="dyncstdec">tmpcstmap_find <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt tmpdef_t</span></span></a>

<span class="comment">// implemented in [ats_hiexp_util.dats]
</span><span class="keyword">fun</span> <a name="25001"><span class="dyncstdec">tmpvarmap_add <span class="keyword">(</span>d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">hiexp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="25070"><span class="dyncstdec">tmpvarmap_find <span class="keyword">(</span>d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt tmpdef_t</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* end of [ats_hiexp.sats] *)</span>
</pre>
</body>
</html>
