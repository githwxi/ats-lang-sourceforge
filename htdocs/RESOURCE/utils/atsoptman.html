





<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
</head>
<!--textcopy-->

<body>

<h1>atsopt</h1>

<hr size=2 align=left></hr>

<!-- ****** ****** -->

<p>
The command <strong>atsopt</strong> directly invokes the ATS-compiler for
typechecking ATS (source) code and then compiling it into C (target)
code. Sometimes, the name of the command is choosen to be <strong>patsopt</strong>.

</p>

<!-- ****** ****** -->

<h2>Environment Variables</h2>

<menu>

<li>
<u>ATSHOME</u>:
This variable stores the path to the directory where the ATS programming
language system is installed. It must be set properly in order for
<strong>atsopt</strong> to function correctly.

<li>
<u>ATSHOMERELOC</u>:
This variable stores the current version of ATS. It is no longer needed in
ATS2 (ATS/Postiats).

</menu>

<!-- ****** ****** -->

<h2>Option-controlling Flags</h2>

<menu>
<li>
<u>-v</u>: It is a shorthand for <u>--version</u>.
<li>
<u>--version</u>:
It is for printing out the version of <strong>atsopt</strong>.

<li>
<u>-cc</u>: It is a shorthand for <u>--compile</u>.
<li>
<u>--compile</u>:
This flag indicates that a call to the ATS-compiler is to perform
typechecking and then translate ATS (source) code into C (target) code
(after typechecking passes).  This option is turned on by default.

<li>
<u>-tc</u>: It is a shorthand for <u>--typecheck</u>.
<li>
<u>--typeckeck</u>:
This flag indicates that a call to the ATS-compiler is only required
to perform typechecking and it should not attempt to translate ATS
(source) code into C (target) code.

<li>
<u>--gline</u>:
This flag indicates that line pragma information is to be generated
in the C (target) code.

<li>
<u>--debug</u>:
This flag indicates to the ATS-compiler the need for reporting more
informative error messages.
<li>
<u>--debug2</u>:
This flag indicates to the ATS-compiler the need for reporting even more
informative error messages.

<li>
<u>-dep</u>: It is a shorthand for <u>--depgen</u>.
<li>
<u>--depgen</u>:
This flag indicates that a call to the ATS-compiler is for generateing
file-dependency information, which is often needed for contructing a Makefile.

<li>
<u>-tag</u>: It is a shorthand for <u>--taggen</u>.
<li>
<u>--taggen</u>:
This flag indicates that a call to the ATS-compiler is for generateing
syntax-tagging information, which can then be used to generate ctags for
vim and etags for emacs.

<li>
<u>--DATS</u>:
This flag indicates that the next argument, which should be name or
name/value pair (separated by the symbol =), is to be passed as a toplevel
definition for the ATS-compiler.

<li>
<u>--IATS</u>:
This flag indicates that the next argument is to be passed as an
include-path for the ATS-compiler.

<li>
<u>-o</u>: It is a shorthand for <u>--output</u>.
<li>
<u>--output</u>:
This flag is interpreted as <u>--output-w</u> by default.  If it follows
<u>--output-a</u>, then it is interpreted as <u>--output-a</u>.  If
it follows <u>--output-w</u>, then it is interpreted as <u>--output-w</u>.

<li>
<u>--output-a</u>:
This flag indicates that (1) the next argument is interpreted as the name
of a file for storing the output generated by a subseqent call to the
ATS-compiler and (2) the file is to be opened with the mode "a" (appending).
<li>
<u>--output-w</u>:
This flag indicates that (1) the next argument is interpreted as the name
of a file for storing the output generated by a subseqent call to the
ATS-compiler and (2) the file is to be opened with the mode "w" (overwriting).

<li>
<u>-s</u>: It is a shorthand for <u>--static</u>.
<li>
<u>--static</u>:
This flag indicates that the next argument is interpreted as the name of
a file containing static ATS code. Usually, this file name ends with the
extension <u>.sats</u>.

<li>
<u>-d</u>: It is a shorthand for <u>--dynamic</u>.
<li>
<u>--dynamic</u>:
This flag indicates that the next argument is interpreted as the name of
a file containing dynamic ATS code. Usually, this file name ends with the
extension <u>.dats</u>.

<li>
<u>--pkgreloc</u>:
This flag indicates that a call to the ATS-compiler is for generateing a
script (in JSON) that can be passed to the command <strong>atspkgreloc</strong>
to perform relocation of remotely located files referenced in the processed
ATS source code.

<li>
<u>--tlcalopt-disable</u>:
This flag indicates to the ATS-compiler that tail-call optimization
(that turns a recursive tail-call into a local jump) is to be suspended.
For instance, the flag should be used for compiling ATS to Erlang as the
latter does its own tail-call optimization.

<li>
<u>--constraint-export</u>:
This flag indicates to the ATS-compiler that the constraints generated
during typechecking should be exported (in JSON format).
<li>
<u>--constraint-ignored</u>:
This flag indicates to the ATS-compiler that the constraints generated
during typechecking should be entirely ignored. For instance, doing so
can be justified if constraint-solving is performed externally.

</menu>

<!-- ****** ****** -->

<hr size=2 align=left></hr>

<!-- end of [atsoptman.atxt] -->

</body>
</html>


