<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <style type="text/css">
    span.comment {color:#787878;font-style:italic}
    span.extern  {color:#A52A2A}
    span.keyword {color:#000000;font-weight:bold}
    span.neuexp  {color:#800080}
    span.staexp  {color:#0000FF}
    span.dynexp  {color:#E80000}
    span.prfexp  {color:#009000}
    span.stacstdec  {text-decoration:none}
    span.stacstuse  {color:#0000CF;text-decoration:underline}
    span.dyncstdec  {text-decoration:none}
    span.dyncstimp  {color:#B80000;text-decoration:underline}
    span.dyncstuse  {color:#B80000;text-decoration:underline}
    body          {color:#E80000;background-color:#E0E0E0}
  </style>
</head>
<body>
<pre>
<span class="comment">(***********************************************************************)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                         Applied Type System                         *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                              Hongwei Xi                             *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(***********************************************************************)</span>

<span class="comment">(*
** ATS - Unleashing the Potential of Types!
**
** Copyright (C) 2002-2010 Hongwei Xi, Boston University
**
** All rights reserved
**
** ATS is free software;  you can  redistribute it and/or modify it under
** the  terms of the  GNU General Public License as published by the Free
** Software Foundation; either version 2.1, or (at your option) any later
** version.
** 
** ATS is distributed in the hope that it will be useful, but WITHOUT ANY
** WARRANTY; without  even  the  implied  warranty  of MERCHANTABILITY or
** FITNESS FOR A PARTICULAR PURPOSE.  See the  GNU General Public License
** for more details.
** 
** You  should  have  received  a  copy of the GNU General Public License
** along  with  ATS;  see the  file COPYING.  If not, please write to the
** Free Software Foundation,  51 Franklin Street, Fifth Floor, Boston, MA
** 02110-1301, USA.
*)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* Author: Hongwei Xi (hwxi AT cs DOT bu DOT edu) *)</span> <span class="comment">// MPZ and MPQ
</span><span class="comment">(* Author: Shivkumar Chandrasekaran (shiv AT ece DOT ucsb DOT edu) *)</span> <span class="comment">// MPF
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="extern">%{#
#include "libc/CATS/gmp.cats"
%}</span> <span class="comment">// end of [%{#]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="comment">// integral numbers
</span><span class="keyword">absviewt@ype</span> <span class="staexp"><a name="1682"><span class="stacstdec">mpz_viewt0ype <span class="keyword">=</span> <span class="keyword">$extype</span> "ats_mpz_viewt0ype"</span></a></span>
<span class="keyword">stadef</span> <span class="staexp"><a name="1733"><span class="stacstdec">mpz_vt <span class="keyword">=</span> mpz_viewt0ype</span></a></span>

<span class="comment">// rational numbers
</span><span class="keyword">absviewt@ype</span> <span class="staexp"><a name="1790"><span class="stacstdec">mpq_viewt0ype <span class="keyword">=</span> <span class="keyword">$extype</span> "ats_mpq_viewt0ype"</span></a></span>
<span class="keyword">stadef</span> <span class="staexp"><a name="1841"><span class="stacstdec">mpq_vt <span class="keyword">=</span> mpq_viewt0ype</span></a></span>

<span class="comment">// floating point numbers
</span><span class="keyword">absviewt@ype</span> <span class="staexp"><a name="1904"><span class="stacstdec">mpf_viewt0ype <span class="keyword">=</span> <span class="keyword">$extype</span> "ats_mpf_viewt0ype"</span></a></span>
<span class="keyword">stadef</span> <span class="staexp"><a name="1955"><span class="stacstdec">mpf_vt <span class="keyword">=</span> mpf_viewt0ype</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abst@ype</span> <span class="staexp"><a name="2009"><span class="stacstdec">mp_limb_t <span class="keyword">=</span> <span class="keyword">$extype</span> "mp_limb_t"</span></a></span>
<span class="keyword">abst@ype</span> <span class="staexp"><a name="2050"><span class="stacstdec">mp_limb_signed_t <span class="keyword">=</span> <span class="keyword">$extype</span> "mp_limb_signed_t"</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abst@ype</span> <span class="staexp"><a name="2127"><span class="stacstdec">mp_exp_t <span class="keyword">=</span> <span class="keyword">$extype</span> "mp_exp_t"</span></a></span> <span class="comment">// int or lint
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mp_exp_t
<span class="keyword">castfn</span> <a name="2197"><span class="dyncstdec">mp_exp_t_of_int <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">mp_exp_t</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> mp_exp_t <span class="keyword">with</span> mp_exp_t_of_int</span>
<span class="keyword">castfn</span> <a name="2280"><span class="dyncstdec">mp_exp_t_of_lint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">mp_exp_t</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> mp_exp_t <span class="keyword">with</span> mp_exp_t_of_lint</span>

<span class="keyword">abst@ype</span> <span class="staexp"><a name="2369"><span class="stacstdec">mp_size_t <span class="keyword">=</span> <span class="keyword">$extype</span> "mp_size_t"</span></a></span> <span class="comment">// int or lint
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mp_size_t
<span class="keyword">castfn</span> <a name="2442"><span class="dyncstdec">mp_size_t_of_int <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">mp_size_t</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> mp_size_t <span class="keyword">with</span> mp_size_t_of_int</span>
<span class="keyword">castfn</span> <a name="2529"><span class="dyncstdec">mp_size_t_of_lint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">mp_size_t</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> mp_size_t <span class="keyword">with</span> mp_size_t_of_lint</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">typedef</span> <span class="staexp"><a name="2642"><span class="stacstdec">mp_base_t <span class="keyword">=</span> intBtw <span class="keyword">(</span>2<span class="keyword">,</span> 36+1<span class="keyword">)</span></span></a></span> <span class="comment">// for outputing MP numbers
</span>
<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// integral number operations
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="comment">// [x] is initialized with 0
</span><span class="keyword">fun</span> <a name="2810"><span class="dyncstdec">mpz_init
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_init" <span class="comment">// macro!
</span><span class="comment">// end of [mpz_init]
</span>
<span class="comment">// [x] is initialized with 0 while given [n]-bit space
</span><span class="keyword">fun</span> <a name="2965"><span class="dyncstdec">mpz_init2
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span> <span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_init2"
<span class="comment">// end of [mpz_init2]
</span>
<span class="comment">// [x] is cleared
</span><span class="keyword">fun</span> <a name="3087"><span class="dyncstdec">mpz_clear
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt &gt;&gt; mpz_vt?</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_clear" <span class="comment">// macro!
</span><span class="comment">// end of [mpz_clear]
</span>
<span class="comment">// [x] is reallocated; the original value of [x] is carried over
</span><span class="comment">// if there is enough space or 0 is assigned to [x]
</span><span class="keyword">fun</span> <a name="3307"><span class="dyncstdec">mpz_realloc2
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt &gt;&gt; mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_realloc2"
<span class="comment">// end of [mpz_realloc2]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_get

<span class="keyword">fun</span> <a name="3456"><span class="dyncstdec">mpz_get_int <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_get_int"
<span class="neuexp"><span class="keyword">overload</span> mpz_get <span class="keyword">with</span> mpz_get_int</span>
<span class="keyword">fun</span> <a name="3550"><span class="dyncstdec">mpz_get_uint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">uint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_get_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_get <span class="keyword">with</span> mpz_get_uint</span>
<span class="keyword">fun</span> <a name="3648"><span class="dyncstdec">mpz_get_lint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">lint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_get_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_get <span class="keyword">with</span> mpz_get_lint</span>
<span class="keyword">fun</span> <a name="3746"><span class="dyncstdec">mpz_get_ulint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_get_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_get <span class="keyword">with</span> mpz_get_ulint</span>
<span class="keyword">fun</span> <a name="3848"><span class="dyncstdec">mpz_get_double <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">double</span></span></a> <span class="keyword">=</span> "#atslib_mpz_get_double"
<span class="neuexp"><span class="keyword">overload</span> mpz_get <span class="keyword">with</span> mpz_get_double</span>
<span class="keyword">fun</span> <a name="3954"><span class="dyncstdec">mpz_get_str <span class="comment">// HX: a special case of the original namesake in GMP
</span>  <span class="keyword">(</span>base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">strptr1</span></span></a> <span class="keyword">=</span> "atslib_mpz_get_str" <span class="comment">// fun!
</span><span class="comment">// end of [mpz_get_str]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_set

<span class="comment">// x := y
</span><span class="keyword">fun</span> <a name="4171"><span class="dyncstdec">mpz_set_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_mpz</span>
<span class="keyword">fun</span> <a name="4280"><span class="dyncstdec">mpz_set_int <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_int"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_int</span>
<span class="keyword">fun</span> <a name="4383"><span class="dyncstdec">mpz_set_uint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_uint</span>
<span class="keyword">fun</span> <a name="4490"><span class="dyncstdec">mpz_set_lint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_lint</span>
<span class="keyword">fun</span> <a name="4597"><span class="dyncstdec">mpz_set_ulint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_ulint</span>
<span class="keyword">fun</span> <a name="4708"><span class="dyncstdec">mpz_set_double
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_double"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_double</span>
<span class="keyword">fun</span> <a name="4825"><span class="dyncstdec">mpz_set_mpq <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_mpq</span>
<span class="keyword">fun</span> <a name="4932"><span class="dyncstdec">mpz_set_mpf <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpz_set <span class="keyword">with</span> mpz_set_mpf</span>

<span class="comment">//
</span><span class="comment">// HX: the function returns 0 if the string is valid, or -1 otherwise.
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="5117"><span class="dyncstdec">mpz_set_str
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_set_str" <span class="comment">// macro
</span><span class="comment">// end of [mpz_set_str]
</span><span class="keyword">fun</span> <a name="5240"><span class="dyncstdec">mpz_set_str_exn
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_set_str_exn" <span class="comment">// fun!
</span><span class="comment">// end of [mpz_set_str_exn]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_init_set

<span class="comment">// x := y
</span><span class="keyword">fun</span> <a name="5428"><span class="dyncstdec">mpz_init_set_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_init_set_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_mpz</span>
<span class="keyword">fun</span> <a name="5568"><span class="dyncstdec">mpz_init_set_int <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_init_set_int"
<span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_int</span>
<span class="keyword">fun</span> <a name="5704"><span class="dyncstdec">mpz_init_set_uint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_init_set_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_uint</span>
<span class="keyword">fun</span> <a name="5844"><span class="dyncstdec">mpz_init_set_lint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_init_set_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_lint</span>
<span class="keyword">fun</span> <a name="5984"><span class="dyncstdec">mpz_init_set_ulint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_init_set_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_ulint</span>
<span class="keyword">fun</span> <a name="6128"><span class="dyncstdec">mpz_init_set_double <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_init_set_double"
<span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_double</span>
<span class="keyword">fun</span> <a name="6276"><span class="dyncstdec">mpz_init_set_mpq
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_init_set_mpq" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_mpq</span>
<span class="keyword">fun</span> <a name="6423"><span class="dyncstdec">mpz_init_set_mpf
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_init_set_mpf" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpz_init_set <span class="keyword">with</span> mpz_init_set_mpf</span>

<span class="comment">//
</span><span class="comment">// the function returns 0 if the string is valid, or -1 otherwise.
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="6644"><span class="dyncstdec">mpz_init_set_str
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_init_set_str" <span class="comment">// macro!
</span><span class="comment">// end of [// end of [mpz_init_set_str]
</span>
<span class="comment">// the function exits the string is invalid.
</span><span class="keyword">fun</span> <a name="6853"><span class="dyncstdec">mpz_init_set_str_exn
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt? &gt;&gt; mpz_vt</span><span class="keyword">,</span> s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atslib_mpz_init_set_str_exn" <span class="comment">// function!
</span><span class="comment">// end of [mpz_init_set_str_exn]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="7042"><span class="dyncstdec">mpz_swap <span class="keyword">(</span>dst1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> dst2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_swap"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="7135"><span class="dyncstdec">mpz_odd_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_odd_p"
<span class="keyword">fun</span> <a name="7194"><span class="dyncstdec">mpz_even_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_even_p"

<span class="keyword">fun</span> <a name="7256"><span class="dyncstdec">mpz_fits_int_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fits_int_p"
<span class="keyword">fun</span> <a name="7325"><span class="dyncstdec">mpz_fits_uint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fits_uint_p"
<span class="keyword">fun</span> <a name="7396"><span class="dyncstdec">mpz_fits_lint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fits_lint_p"
<span class="keyword">fun</span> <a name="7467"><span class="dyncstdec">mpz_fits_ulint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fits_ulint_p"
<span class="keyword">fun</span> <a name="7540"><span class="dyncstdec">mpz_fits_sint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fits_sint_p"
<span class="keyword">fun</span> <a name="7611"><span class="dyncstdec">mpz_fits_usint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fits_usint_p"

<span class="keyword">fun</span> <a name="7685"><span class="dyncstdec">mpz_size <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpz_size"
<span class="keyword">fun</span> <a name="7742"><span class="dyncstdec">mpz_sizeinbase <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sizeinbase"

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// negation
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_neg

<span class="comment">// x := -y
</span><span class="keyword">fun</span> <a name="7891"><span class="dyncstdec">mpz_neg2 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_neg2"
<span class="neuexp"><span class="keyword">overload</span> mpz_neg <span class="keyword">with</span> mpz_neg2</span>
<span class="comment">// x := -x
</span><span class="keyword">fun</span> <a name="8000"><span class="dyncstdec">mpz_neg1 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_neg1" <span class="comment">// function!
</span><span class="neuexp"><span class="keyword">overload</span> mpz_neg <span class="keyword">with</span> mpz_neg1</span>

<span class="comment">// absolute value
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_abs

<span class="comment">// x := | y |
</span><span class="keyword">fun</span> <a name="8149"><span class="dyncstdec">mpz_abs2 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_abs2"
<span class="neuexp"><span class="keyword">overload</span> mpz_abs <span class="keyword">with</span> mpz_abs2</span>
<span class="comment">// x := | x |
</span><span class="keyword">fun</span> <a name="8261"><span class="dyncstdec">mpz_abs1 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_abs1" <span class="comment">// function!
</span><span class="neuexp"><span class="keyword">overload</span> mpz_abs <span class="keyword">with</span> mpz_abs1</span>

<span class="comment">// addition
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_add

<span class="comment">// x := y + z
</span><span class="keyword">fun</span> <a name="8404"><span class="dyncstdec">mpz_add3_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_add3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add3_mpz</span>
<span class="keyword">fun</span> <a name="8528"><span class="dyncstdec">mpz_add3_int
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_add3_int"
<span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add3_int</span>
<span class="keyword">fun</span> <a name="8648"><span class="dyncstdec">mpz_add3_uint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_add3_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add3_uint</span>
<span class="keyword">fun</span> <a name="8772"><span class="dyncstdec">mpz_add3_lint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_add3_lint" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add3_lint</span>
<span class="keyword">fun</span> <a name="8903"><span class="dyncstdec">mpz_add3_ulint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_add3_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add3_ulint</span>

<span class="comment">// x := x + y
</span><span class="keyword">fun</span> <a name="9046"><span class="dyncstdec">mpz_add2_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_add2_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add2_mpz</span>
<span class="keyword">fun</span> <a name="9157"><span class="dyncstdec">mpz_add2_int
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_add2_int" <span class="comment">// !macro
</span><span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add2_int</span>
<span class="keyword">fun</span> <a name="9275"><span class="dyncstdec">mpz_add2_uint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_add2_uint" <span class="comment">// !macro
</span><span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add2_uint</span>
<span class="keyword">fun</span> <a name="9397"><span class="dyncstdec">mpz_add2_lint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_add2_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add2_lint</span>
<span class="keyword">fun</span> <a name="9508"><span class="dyncstdec">mpz_add2_ulint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_add2_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_add <span class="keyword">with</span> mpz_add2_ulint</span>

<span class="comment">// subtraction
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_sub

<span class="comment">// x := y - z
</span><span class="keyword">fun</span> <a name="9671"><span class="dyncstdec">mpz_sub3_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sub3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub3_mpz</span>  
<span class="keyword">fun</span> <a name="9797"><span class="dyncstdec">mpz_sub3_int
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sub3_int"
<span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub3_int</span>
<span class="keyword">fun</span> <a name="9917"><span class="dyncstdec">mpz_sub3_uint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sub3_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub3_uint</span>
<span class="keyword">fun</span> <a name="10041"><span class="dyncstdec">mpz_sub3_lint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_sub3_lint" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub3_lint</span>  
<span class="keyword">fun</span> <a name="10174"><span class="dyncstdec">mpz_sub3_ulint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sub3_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub3_ulint</span>  
<span class="keyword">fun</span> <a name="10304"><span class="dyncstdec">mpz_ui_sub3
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_ui_sub3"
<span class="comment">// end of [mpz_ui_sub3] // HX: no overloading for this one
</span>
<span class="comment">// x := x - y
</span><span class="keyword">fun</span> <a name="10469"><span class="dyncstdec">mpz_sub2_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_sub2_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub2_mpz</span>
<span class="keyword">fun</span> <a name="10580"><span class="dyncstdec">mpz_sub2_int
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sub2_int" <span class="comment">// !macro
</span><span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub2_int</span>
<span class="keyword">fun</span> <a name="10698"><span class="dyncstdec">mpz_sub2_uint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sub2_uint" <span class="comment">// !macro
</span><span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub2_uint</span>
<span class="keyword">fun</span> <a name="10820"><span class="dyncstdec">mpz_sub2_lint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_sub2_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub2_lint</span>
<span class="keyword">fun</span> <a name="10931"><span class="dyncstdec">mpz_sub2_ulint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_sub2_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_sub <span class="keyword">with</span> mpz_sub2_ulint</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// multiplication
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_mul

<span class="comment">// x := y * z
</span><span class="keyword">fun</span> <a name="11118"><span class="dyncstdec">mpz_mul3_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul3_mpz</span>
<span class="keyword">fun</span> <a name="11242"><span class="dyncstdec">mpz_mul3_int
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul3_int"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul3_int</span>
<span class="keyword">fun</span> <a name="11362"><span class="dyncstdec">mpz_mul3_uint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul3_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul3_uint</span>
<span class="keyword">fun</span> <a name="11486"><span class="dyncstdec">mpz_mul3_lint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul3_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul3_lint</span>
<span class="keyword">fun</span> <a name="11610"><span class="dyncstdec">mpz_mul3_ulint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul3_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul3_ulint</span>

<span class="comment">// x := x * y
</span><span class="keyword">fun</span> <a name="11753"><span class="dyncstdec">mpz_mul2_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_mul2_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul2_mpz</span>
<span class="keyword">fun</span> <a name="11864"><span class="dyncstdec">mpz_mul2_int <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul2_int" <span class="comment">// !mac
</span><span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul2_int</span>
<span class="keyword">fun</span> <a name="11978"><span class="dyncstdec">mpz_mul2_uint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul2_uint" <span class="comment">// !mac
</span><span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul2_uint</span>
<span class="keyword">fun</span> <a name="12096"><span class="dyncstdec">mpz_mul2_lint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_mul2_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul2_lint</span>
<span class="keyword">fun</span> <a name="12205"><span class="dyncstdec">mpz_mul2_ulint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_mul2_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul2_ulint</span>

<span class="comment">// x := x * x
</span><span class="keyword">fun</span> <a name="12333"><span class="dyncstdec">mpz_mul1_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_mul1_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_mul <span class="keyword">with</span> mpz_mul1_mpz</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(*
**
** Author: Zhiqiang Ren (aren AT cs DOT bu DOT edu)
**
** Function: mpz_mul_2exp
** Input: arg1, arg2
** Output: res
** Return: void
** Description: Set res so that res = arg1 * (2 ^ arg2)
** Remarks: The same object can be passed for both res and arg1.
** Others:
**   It's up to an application to call functions like mpz_mul_2exp when appropriate.
**   General purpose functions like mpz_mul make no attempt to identify powers of two
**   or other special forms.
*)</span>
<span class="keyword">fun</span> <a name="12926"><span class="dyncstdec">mpz_mul_2exp
  <span class="keyword">(</span>res<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> arg1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> arg2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mul_2exp"
<span class="comment">// end of [mpz_mul_2exp]
</span>
<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// integer truncate division
</span><span class="comment">//
</span><span class="neuexp"><span class="keyword">symintr</span></span> mpz_tdiv_qr

<span class="comment">// (q, r) = n / d
</span><span class="keyword">fun</span> <a name="13141"><span class="dyncstdec">mpz_tdiv4_qr_mpz
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_tdiv4_qr_mpz"
<span class="comment">// end of [mpz_tdiv4_qr_mpz]
</span><span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_qr <span class="keyword">with</span> mpz_tdiv4_qr_mpz</span>

<span class="comment">// (q, r) = n / d
</span><span class="keyword">fun</span> <a name="13341"><span class="dyncstdec">mpz_tdiv4_qr_ulint
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_tdiv4_qr_ulint"
<span class="comment">// end of [mpz_tdiv4_qr_ulint]
</span><span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_qr <span class="keyword">with</span> mpz_tdiv4_qr_ulint</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_tdiv_q

<span class="comment">// [q] := [n] / [d]
</span><span class="keyword">fun</span> <a name="13569"><span class="dyncstdec">mpz_tdiv3_q_mpz
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_tdiv3_q_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_q <span class="keyword">with</span> mpz_tdiv3_q_mpz</span>

<span class="comment">// [q] := [n] / [d]
</span><span class="keyword">fun</span> <a name="13726"><span class="dyncstdec">mpz_tdiv3_q_ulint
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_tdiv3_q_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_q <span class="keyword">with</span> mpz_tdiv3_q_ulint</span>

<span class="comment">// [q] := [q] / [d]
</span><span class="keyword">fun</span> <a name="13887"><span class="dyncstdec">mpz_tdiv2_q_mpz <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_tdiv2_q_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_q <span class="keyword">with</span> mpz_tdiv2_q_mpz</span>

<span class="comment">// [q] := [q] / [d]
</span><span class="keyword">fun</span> <a name="14029"><span class="dyncstdec">mpz_tdiv2_q_ulint <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_tdiv2_q_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_q <span class="keyword">with</span> mpz_tdiv2_q_ulint</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// integer floor division
</span><span class="comment">//
</span><span class="comment">(*
**
** Author: Zhiqiang Ren (aren AT cs DOT bu DOT edu)
**
** Function: mpz_fdiv_qr
** Input: dividend, divisor
** Output: quot, rem
** Return: void
** Description:
**   Set quot and rem so that dividend = quot * divisor + rem
**   Rounds quot down towards negative infinity, and rem will
**   have the same sign as divisor, and 0 &lt;= |rem| &lt; |divisor|.
**   'f' stands for "floor". e.g. 5 = (-2) * (-3) + (-1); -5 = 1 * (-3) + (-2)
** Remarks:
**   The same object cannot be passed for both quot and rem, or the result will be
**   unpredictable. No other constraints on the pass of other arguments, e.g. the same
**   object can be passed to both quot and dividend.
*)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_fdiv_qr

<span class="keyword">fun</span> <a name="14901"><span class="dyncstdec">mpz_fdiv4_qr_mpz
  <span class="keyword">(</span>quot<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> rem<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> dividend<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> divisor<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_fdiv4_qr_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_qr <span class="keyword">with</span> mpz_fdiv4_qr_mpz</span>
<span class="keyword">fun</span> <a name="15073"><span class="dyncstdec">mpz_fdiv4_qr_ulint
  <span class="keyword">(</span>quot<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> rem<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> dividend<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> divisor<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_fdiv4_qr_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_qr <span class="keyword">with</span> mpz_fdiv4_qr_ulint</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_fdiv_q

<span class="comment">// [q] := [n] / [d]
</span><span class="keyword">fun</span> <a name="15291"><span class="dyncstdec">mpz_fdiv3_q_mpz
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fdiv3_q_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_q <span class="keyword">with</span> mpz_fdiv3_q_mpz</span>
<span class="keyword">fun</span> <a name="15427"><span class="dyncstdec">mpz_fdiv3_q_ulint
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fdiv3_q_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_q <span class="keyword">with</span> mpz_fdiv3_q_ulint</span>
<span class="keyword">fun</span> <a name="15568"><span class="dyncstdec">mpz_fdiv2_q_mpz
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_fdiv2_q_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_q <span class="keyword">with</span> mpz_fdiv2_q_mpz</span>
<span class="keyword">fun</span> <a name="15691"><span class="dyncstdec">mpz_fdiv2_q_ulint
  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "atslib_mpz_fdiv2_q_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_q <span class="keyword">with</span> mpz_fdiv2_q_ulint</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_fdiv_r
<span class="keyword">fun</span> <a name="15839"><span class="dyncstdec">mpz_fdiv3_r_mpz
  <span class="keyword">(</span>r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fdiv3_r_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_r <span class="keyword">with</span> mpz_fdiv3_r_mpz</span>
<span class="keyword">fun</span> <a name="15975"><span class="dyncstdec">mpz_fdiv3_r_ulint
  <span class="keyword">(</span>r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fdiv3_r_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_r <span class="keyword">with</span> mpz_fdiv3_r_ulint</span>
<span class="keyword">fun</span> <a name="16116"><span class="dyncstdec">mpz_fdiv2_r_mpz
  <span class="keyword">(</span>r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_fdiv2_r_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_r <span class="keyword">with</span> mpz_fdiv2_r_mpz</span>
<span class="keyword">fun</span> <a name="16239"><span class="dyncstdec">mpz_fdiv2_r_ulint
  <span class="keyword">(</span>r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "atslib_mpz_fdiv2_r_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_r <span class="keyword">with</span> mpz_fdiv2_r_ulint</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_mod

<span class="keyword">fun</span> <a name="16406"><span class="dyncstdec">mpz_mod3_mpz
  <span class="keyword">(</span>r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mod3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_mod <span class="keyword">with</span> mpz_mod3_mpz</span>
<span class="keyword">fun</span> <a name="16530"><span class="dyncstdec">mpz_mod2_mpz <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mod2_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_mod <span class="keyword">with</span> mpz_mod2_mpz</span>

<span class="keyword">fun</span> <a name="16641"><span class="dyncstdec">mpz_mod3_ulint
  <span class="keyword">(</span>r<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mod3_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_mod <span class="keyword">with</span> mpz_mod3_ulint</span>
<span class="keyword">fun</span> <a name="16770"><span class="dyncstdec">mpz_mod2_ulint <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_mod2_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_mod <span class="keyword">with</span> mpz_mod2_ulint</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX-2010-08-11:
</span><span class="comment">// this one is much faster but it needs a proof that n is a multiple of d
</span><span class="comment">//
</span><span class="neuexp"><span class="keyword">symintr</span></span> mpz_divexact
<span class="keyword">fun</span> <a name="17025"><span class="dyncstdec">mpz_divexact3_mpz <span class="comment">// q := n/d
</span>  <span class="keyword">(</span>q<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_divexact3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_divexact <span class="keyword">with</span> mpz_divexact3_mpz</span>
<span class="keyword">fun</span> <a name="17181"><span class="dyncstdec">mpz_divexact2_mpz <span class="comment">// n := n/d
</span>  <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_divexact2_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_divexact <span class="keyword">with</span> mpz_divexact2_mpz</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX: n = 0 mod (d)
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="17373"><span class="dyncstdec">mpz_divisible_p
  <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_divisible_p"
<span class="keyword">fun</span> <a name="17455"><span class="dyncstdec">mpz_divisible_ui_p
  <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_divisible_ui_p"

<span class="comment">//
</span><span class="comment">// HX: n = c mod (d)
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="17569"><span class="dyncstdec">mpz_congruent_p
  <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> c<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_congruent_p"
<span class="keyword">fun</span> <a name="17663"><span class="dyncstdec">mpz_congruent_ui_p
  <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> c<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_congruent_ui_p"

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_tdiv_q_2exp
<span class="keyword">fun</span> <a name="17805"><span class="dyncstdec">mpz_tdiv3_q_2exp <span class="comment">// dst = src1 tdiv src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_tdiv3_q_2exp"
<span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_q_2exp <span class="keyword">with</span> mpz_tdiv3_q_2exp</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_tdiv_r_2exp
<span class="keyword">fun</span> <a name="17996"><span class="dyncstdec">mpz_tdiv3_r_2exp <span class="comment">// dst = src1 tmod src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_tdiv3_r_2exp"
<span class="neuexp"><span class="keyword">overload</span> mpz_tdiv_r_2exp <span class="keyword">with</span> mpz_tdiv3_r_2exp</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_fdiv_q_2exp
<span class="keyword">fun</span> <a name="18187"><span class="dyncstdec">mpz_fdiv3_q_2exp <span class="comment">// dst := src1 fdiv src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_fdiv3_q_2exp"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_q_2exp <span class="keyword">with</span> mpz_fdiv3_q_2exp</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_fdiv_r_2exp
<span class="keyword">fun</span> <a name="18379"><span class="dyncstdec">mpz_fdiv3_r_2exp <span class="comment">// dst := src1 fmod src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_fdiv3_r_2exp"
<span class="neuexp"><span class="keyword">overload</span> mpz_fdiv_r_2exp <span class="keyword">with</span> mpz_fdiv3_r_2exp</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="18568"><span class="dyncstdec">mpz_divisible_ui_2exp_p <span class="comment">// n = 0 mod (2^b)
</span>  <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_divisible_ui_2exp_p"
<span class="comment">// end of [mpz_divisible_ui_2exp_p]
</span>
<span class="keyword">fun</span> <a name="18720"><span class="dyncstdec">mpz_congruent_ui_2exp_p <span class="comment">// n = c mod (2^b)
</span>  <span class="keyword">(</span>n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> c<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_congruent_ui_2exp_p"
<span class="comment">// end of [mpz_congruent_ui_2exp_p]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_sqrt
<span class="keyword">fun</span> <a name="18922"><span class="dyncstdec">mpz_sqrt2 <span class="comment">// dst := sqrt (src)
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sqrt2"
<span class="neuexp"><span class="keyword">overload</span> mpz_sqrt <span class="keyword">with</span> mpz_sqrt2</span>
<span class="keyword">fun</span> <a name="19049"><span class="dyncstdec">mpz_sqrt1 <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_sqrt1" <span class="comment">// !function
</span><span class="neuexp"><span class="keyword">overload</span> mpz_sqrt <span class="keyword">with</span> mpz_sqrt1</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_sqrtrem
<span class="keyword">fun</span> <a name="19172"><span class="dyncstdec">mpz_sqrtrem3
  <span class="keyword">(</span>dst1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> dst2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sqrtrem3"
<span class="neuexp"><span class="keyword">overload</span> mpz_sqrtrem <span class="keyword">with</span> mpz_sqrtrem3</span>

<span class="keyword">fun</span> <a name="19307"><span class="dyncstdec">mpz_perfect_square_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_perfect_square_p"

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_powm
<span class="keyword">fun</span> <a name="19424"><span class="dyncstdec">mpz_powm4_mpz
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> exp<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> mod<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpz_powm4_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_powm <span class="keyword">with</span> mpz_powm4_mpz</span>
<span class="keyword">fun</span> <a name="19573"><span class="dyncstdec">mpz_powm4_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> exp<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> mod<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_powm4_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_powm <span class="keyword">with</span> mpz_powm4_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_pow_ui
<span class="keyword">fun</span> <a name="19756"><span class="dyncstdec">mpz_pow3_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_pow3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_pow_ui <span class="keyword">with</span> mpz_pow3_ui</span>
<span class="keyword">fun</span> <a name="19884"><span class="dyncstdec">mpz_pow2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_pow2_ui" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpz_pow_ui <span class="keyword">with</span> mpz_pow2_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// add/mul combination
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_addmul
<span class="keyword">fun</span> <a name="20067"><span class="dyncstdec">mpz_addmul3_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_addmul3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_addmul <span class="keyword">with</span> mpz_addmul3_mpz</span>
<span class="keyword">fun</span> <a name="20203"><span class="dyncstdec">mpz_addmul3_uint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_addmul3_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_addmul <span class="keyword">with</span> mpz_addmul3_uint</span>
<span class="keyword">fun</span> <a name="20339"><span class="dyncstdec">mpz_addmul3_ulint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_addmul3_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_addmul <span class="keyword">with</span> mpz_addmul3_ulint</span>

<span class="comment">// sub/mul combination
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_submul
<span class="keyword">fun</span> <a name="20523"><span class="dyncstdec">mpz_submul3_mpz
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_submul3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_submul <span class="keyword">with</span> mpz_submul3_mpz</span>
<span class="keyword">fun</span> <a name="20659"><span class="dyncstdec">mpz_submul3_uint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_submul3_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_submul <span class="keyword">with</span> mpz_submul3_uint</span>
<span class="keyword">fun</span> <a name="20795"><span class="dyncstdec">mpz_submul3_ulint
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> z<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_submul3_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_submul <span class="keyword">with</span> mpz_submul3_ulint</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// comparison functions
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_cmp
<span class="keyword">fun</span> <a name="20998"><span class="dyncstdec">mpz_cmp_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmp_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmp <span class="keyword">with</span> mpz_cmp_mpz</span>
<span class="keyword">fun</span> <a name="21104"><span class="dyncstdec">mpz_cmp_int <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmp_int"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmp <span class="keyword">with</span> mpz_cmp_int</span>
<span class="keyword">fun</span> <a name="21206"><span class="dyncstdec">mpz_cmp_uint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmp_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmp <span class="keyword">with</span> mpz_cmp_uint</span>
<span class="keyword">fun</span> <a name="21312"><span class="dyncstdec">mpz_cmp_lint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmp_lint"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmp <span class="keyword">with</span> mpz_cmp_lint</span>
<span class="keyword">fun</span> <a name="21418"><span class="dyncstdec">mpz_cmp_ulint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmp_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmp <span class="keyword">with</span> mpz_cmp_ulint</span>
<span class="keyword">fun</span> <a name="21528"><span class="dyncstdec">mpz_cmp_double <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmp_double"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmp <span class="keyword">with</span> mpz_cmp_double</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_cmpabs
<span class="keyword">fun</span> <a name="21662"><span class="dyncstdec">mpz_cmpabs_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmpabs_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmpabs <span class="keyword">with</span> mpz_cmpabs_mpz</span>
<span class="keyword">fun</span> <a name="21780"><span class="dyncstdec">mpz_cmpabs_uint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmpabs_uint"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmpabs <span class="keyword">with</span> mpz_cmpabs_uint</span>
<span class="keyword">fun</span> <a name="21898"><span class="dyncstdec">mpz_cmpabs_ulint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmpabs_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmpabs <span class="keyword">with</span> mpz_cmpabs_ulint</span>
<span class="keyword">fun</span> <a name="22020"><span class="dyncstdec">mpz_cmpabs_double <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_cmpabs_double"
<span class="neuexp"><span class="keyword">overload</span> mpz_cmpabs <span class="keyword">with</span> mpz_cmpabs_double</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="22168"><span class="dyncstdec">mpz_sgn <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a> <span class="keyword">=</span> "#atslib_mpz_sgn"

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_gcd
<span class="keyword">fun</span> <a name="22258"><span class="dyncstdec">mpz_gcd3_mpz
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_gcd3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_gcd <span class="keyword">with</span> mpz_gcd3_mpz</span>
<span class="keyword">fun</span> <a name="22388"><span class="dyncstdec">mpz_gcd2_mpz <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_gcd2_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_gcd <span class="keyword">with</span> mpz_gcd2_mpz</span>
<span class="keyword">fun</span> <a name="22501"><span class="dyncstdec">mpz_gcd3_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_gcd3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_gcd <span class="keyword">with</span> mpz_gcd3_ui</span>
<span class="keyword">fun</span> <a name="22627"><span class="dyncstdec">mpz_gcd2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpz_gcd2_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_gcd <span class="keyword">with</span> mpz_gcd2_ui</span>

<span class="keyword">fun</span> <a name="22737"><span class="dyncstdec">mpz_gcdext <span class="comment">// for given a and b, g, s and t are computed s.t. g = a*s + b*t
</span>  <span class="keyword">(</span>g<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> s<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> t<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> a<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_gcdext"
<span class="comment">// end of [mpz_gcdext]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_lcm
<span class="keyword">fun</span> <a name="22971"><span class="dyncstdec">mpz_lcm3_mpz
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_lcm3_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_lcm <span class="keyword">with</span> mpz_lcm3_mpz</span>
<span class="keyword">fun</span> <a name="23101"><span class="dyncstdec">mpz_lcm2_mpz <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_lcm2_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_lcm <span class="keyword">with</span> mpz_lcm2_mpz</span>
<span class="keyword">fun</span> <a name="23214"><span class="dyncstdec">mpz_lcm3_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_lcm3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_lcm <span class="keyword">with</span> mpz_lcm3_ui</span>
<span class="keyword">fun</span> <a name="23339"><span class="dyncstdec">mpz_lcm2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_lcm2_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_lcm <span class="keyword">with</span> mpz_lcm2_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_invert
<span class="keyword">fun</span> <a name="23488"><span class="dyncstdec">mpz_invert3
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_invert3"
<span class="comment">// end of [mpz_invert3]
</span><span class="neuexp"><span class="keyword">overload</span> mpz_invert <span class="keyword">with</span> mpz_invert3</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// various number-theoretic functions
</span><span class="comment">//
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpz_nextprime
<span class="keyword">fun</span> <a name="23729"><span class="dyncstdec">mpz_nextprime1
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_nextprime1" <span class="comment">// !mac
</span><span class="neuexp"><span class="keyword">overload</span> mpz_nextprime <span class="keyword">with</span> mpz_nextprime1</span>
<span class="keyword">fun</span> <a name="23849"><span class="dyncstdec">mpz_nextprime2
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_nextprime2"
<span class="neuexp"><span class="keyword">overload</span> mpz_nextprime <span class="keyword">with</span> mpz_nextprime2</span>

<span class="comment">// HX: Note that jacobi (a, b) is only defined for b that is odd
</span><span class="keyword">fun</span> <a name="24041"><span class="dyncstdec">mpz_jacobi <span class="keyword">(</span>a<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_jacobi"
<span class="keyword">fun</span> <a name="24109"><span class="dyncstdec">mpz_legendre <span class="keyword">(</span>a<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_legendre"

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_kronecker
<span class="keyword">fun</span> <a name="24204"><span class="dyncstdec">mpz_kronecker_mpz
  <span class="keyword">(</span>a<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_kronecker_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpz_kronecker <span class="keyword">with</span> mpz_kronecker_mpz</span>
<span class="keyword">fun</span> <a name="24334"><span class="dyncstdec">mpz_kronecker_si <span class="keyword">(</span>a<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_kronecker_si"
<span class="neuexp"><span class="keyword">overload</span> mpz_kronecker <span class="keyword">with</span> mpz_kronecker_si</span>
<span class="keyword">fun</span> <a name="24456"><span class="dyncstdec">mpz_kronecker_ui <span class="keyword">(</span>a<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_kronecker_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_kronecker <span class="keyword">with</span> mpz_kronecker_ui</span>
<span class="keyword">fun</span> <a name="24579"><span class="dyncstdec">mpz_si_kronecker <span class="keyword">(</span>a<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_kronecker_si"
<span class="keyword">fun</span> <a name="24656"><span class="dyncstdec">mpz_ui_kronecker <span class="keyword">(</span>a<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> b<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpz_kronecker_ui"

<span class="keyword">fun</span> <a name="24735"><span class="dyncstdec">mpz_fac_ui <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fac_ui"

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_bin_ui
<span class="keyword">fun</span> <a name="24822"><span class="dyncstdec">mpz_bin3_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> k<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_bin3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_bin_ui <span class="keyword">with</span> mpz_bin3_ui</span>
<span class="keyword">fun</span> <a name="24942"><span class="dyncstdec">mpz_bin2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> k<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_bin2_ui"
<span class="neuexp"><span class="keyword">overload</span> mpz_bin_ui <span class="keyword">with</span> mpz_bin2_ui</span>
<span class="keyword">fun</span> <a name="25062"><span class="dyncstdec">mpz_bin_uiui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> k<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_bin_uiui"

<span class="keyword">fun</span> <a name="25146"><span class="dyncstdec">mpz_fib_ui <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fib_ui"
<span class="keyword">fun</span> <a name="25213"><span class="dyncstdec">mpz_fib2_ui <span class="keyword">(</span>x1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> x2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_fib2_ui"

<span class="neuexp"><span class="keyword">symintr</span></span> mpz_remove
<span class="keyword">fun</span> <a name="25316"><span class="dyncstdec">mpz_remove3
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_remove3"
<span class="neuexp"><span class="keyword">overload</span> mpz_remove <span class="keyword">with</span> mpz_remove3</span>
<span class="keyword">fun</span> <a name="25446"><span class="dyncstdec">mpz_remove2 <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpz_remove2" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpz_remove <span class="keyword">with</span> mpz_remove2</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// some MPZ input/output/print functions
</span><span class="comment">//
</span>
<span class="keyword">fun</span> <a name="25635"><span class="dyncstdec">mpz_inp_str <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> r<span class="keyword">)</span></span></span> <span class="keyword">|</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpz_inp_str"
<span class="comment">// end of [mpz_inp_str]
</span>
<span class="keyword">fun</span> <a name="25808"><span class="dyncstdec">mpz_out_str <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpz_out_str"
<span class="comment">// end of [mpz_out_str]
</span>
<span class="keyword">fun</span> <a name="25981"><span class="dyncstdec">fprint0_mpz
  <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_fprint_mpz"
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint0_mpz</span>

<span class="keyword">fun</span> <a name="26088"><span class="dyncstdec">fprint1_mpz <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atslib_fprint_mpz"
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint1_mpz</span>

<span class="keyword">fun</span> <a name="26238"><span class="dyncstdec">print_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_mpz</span>
<span class="keyword">fun</span> <a name="26302"><span class="dyncstdec">prerr_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_mpz</span>

<span class="keyword">fun</span> <a name="26367"><span class="dyncstdec">tostrptr_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">strptr1</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> tostrptr <span class="keyword">with</span> tostrptr_mpz</span>
<span class="keyword">fun</span> <a name="26444"><span class="dyncstdec">tostring_mpz <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">string</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> tostring <span class="keyword">with</span> tostring_mpz</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="26542"><span class="dyncstdec">mpz_inp_raw <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> r<span class="keyword">)</span></span></span> <span class="keyword">|</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpz_inp_raw" <span class="comment">// returns 0 for error
</span><span class="comment">// end of [mpz_inp_raw]
</span>
<span class="keyword">fun</span> <a name="26721"><span class="dyncstdec">mpz_out_raw <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpz_out_raw" <span class="comment">// returns 0 for error
</span><span class="comment">// end of [mpz_out_raw]
</span>
<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">//
</span><span class="comment">// rational number operations
</span><span class="comment">//
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="26983"><span class="dyncstdec">mpq_canonicalize <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_canonicalize"

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// [x] is initialized with 0
</span><span class="keyword">fun</span> <a name="27105"><span class="dyncstdec">mpq_init
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt? &gt;&gt; mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_init" <span class="comment">// macro!
</span><span class="comment">// end of [mpq_init]
</span>
<span class="keyword">fun</span> <a name="27205"><span class="dyncstdec">mpq_clear <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt &gt;&gt; mpq_vt?</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_clear"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="27293"><span class="dyncstdec">mpq_get_d <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">double</span></span></a> <span class="keyword">=</span> "#atslib_mpq_get_d"
<span class="keyword">fun</span> <a name="27352"><span class="dyncstdec">mpq_get_num <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_get_num"
<span class="keyword">fun</span> <a name="27429"><span class="dyncstdec">mpq_get_den <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_get_den"
<span class="keyword">fun</span> <a name="27506"><span class="dyncstdec">mpq_get_str <span class="comment">// HX: a special case of the original namesake in GMP
</span>  <span class="keyword">(</span>base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">strptr1</span></span></a> <span class="keyword">=</span> "atslib_mpq_get_str" <span class="comment">// fun!
</span><span class="comment">// end of [mpq_get_str]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="27696"><span class="dyncstdec">mpq_numref <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span>
  <span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>addr<span class="keyword">]</span> <span class="keyword">(</span>mpz_vt @ l<span class="keyword">,</span> mpz_vt @ l <span class="keyword">-&lt;</span>lin<span class="keyword">,</span>prf<span class="keyword">&gt;</span> void <span class="keyword">|</span> ptr l<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "#atslib_mpq_numref"
<span class="keyword">fun</span> <a name="27815"><span class="dyncstdec">mpq_denref <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span>
  <span class="keyword">:&lt;&gt;</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>addr<span class="keyword">]</span> <span class="keyword">(</span>mpz_vt @ l<span class="keyword">,</span> mpz_vt @ l <span class="keyword">-&lt;</span>lin<span class="keyword">,</span>prf<span class="keyword">&gt;</span> void <span class="keyword">|</span> ptr l<span class="keyword">)</span></span></span></a>
  <span class="keyword">=</span> "#atslib_mpq_denref"

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpq_set

<span class="keyword">fun</span> <a name="27973"><span class="dyncstdec">mpq_set_mpq
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpq_set <span class="keyword">with</span> mpq_set_mpq</span>
<span class="keyword">fun</span> <a name="28084"><span class="dyncstdec">mpq_set_mpz
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpq_set <span class="keyword">with</span> mpq_set_mpz</span>
<span class="keyword">fun</span> <a name="28195"><span class="dyncstdec">mpq_set_si
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_si"
<span class="neuexp"><span class="keyword">overload</span> mpq_set <span class="keyword">with</span> mpq_set_si</span>
<span class="keyword">fun</span> <a name="28314"><span class="dyncstdec">mpq_set_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_ui"
<span class="neuexp"><span class="keyword">overload</span> mpq_set <span class="keyword">with</span> mpq_set_ui</span>
<span class="keyword">fun</span> <a name="28434"><span class="dyncstdec">mpq_set_d
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_d"
<span class="neuexp"><span class="keyword">overload</span> mpq_set <span class="keyword">with</span> mpq_set_d</span>
<span class="keyword">fun</span> <a name="28538"><span class="dyncstdec">mpq_set_mpf
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpq_set <span class="keyword">with</span> mpq_set_mpf</span>

<span class="comment">// HX: may need to call [mpq_canonicalize]
</span><span class="keyword">fun</span> <a name="28693"><span class="dyncstdec">mpq_set_num <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_num"
<span class="keyword">fun</span> <a name="28770"><span class="dyncstdec">mpq_set_den <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_set_den"

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpq_neg

<span class="comment">// x := -y
</span><span class="keyword">fun</span> <a name="28897"><span class="dyncstdec">mpq_neg2 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_neg2"
<span class="neuexp"><span class="keyword">overload</span> mpq_neg <span class="keyword">with</span> mpq_neg2</span>

<span class="comment">// x := -x
</span><span class="keyword">fun</span> <a name="29007"><span class="dyncstdec">mpq_neg1 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpq_neg1" <span class="comment">// function!
</span><span class="neuexp"><span class="keyword">overload</span> mpq_neg <span class="keyword">with</span> mpq_neg1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpq_inv

<span class="comment">// x := -y
</span><span class="keyword">fun</span> <a name="29155"><span class="dyncstdec">mpq_inv2 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpq_inv2"
<span class="neuexp"><span class="keyword">overload</span> mpq_inv <span class="keyword">with</span> mpq_inv2</span>
<span class="comment">// x := -x
</span><span class="keyword">fun</span> <a name="29264"><span class="dyncstdec">mpq_inv1 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpq_inv1" <span class="comment">// function!
</span><span class="neuexp"><span class="keyword">overload</span> mpq_inv <span class="keyword">with</span> mpq_inv1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpq_add
<span class="keyword">fun</span> <a name="29400"><span class="dyncstdec">mpq_add3_mpq <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpq_add3_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpq_add <span class="keyword">with</span> mpq_add3_mpq</span>
<span class="keyword">fun</span> <a name="29530"><span class="dyncstdec">mpq_add2_mpq <span class="comment">// dst := dst + src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpq_add2_mpq" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpq_add <span class="keyword">with</span> mpq_add2_mpq</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpq_sub
<span class="keyword">fun</span> <a name="29690"><span class="dyncstdec">mpq_sub3_mpq <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpq_sub3_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpq_sub <span class="keyword">with</span> mpq_sub3_mpq</span>
<span class="keyword">fun</span> <a name="29820"><span class="dyncstdec">mpq_sub2_mpq <span class="comment">// dst := dst - src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpq_sub2_mpq" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpq_sub <span class="keyword">with</span> mpq_sub2_mpq</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpq_mul
<span class="keyword">fun</span> <a name="29980"><span class="dyncstdec">mpq_mul3_mpq <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpq_mul3_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpq_mul <span class="keyword">with</span> mpq_mul3_mpq</span>
<span class="keyword">fun</span> <a name="30110"><span class="dyncstdec">mpq_mul2_mpq <span class="comment">// dst := dst * src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpq_mul2_mpq" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpq_mul <span class="keyword">with</span> mpq_mul2_mpq</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpq_div
<span class="keyword">fun</span> <a name="30270"><span class="dyncstdec">mpq_div3_mpq <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpq_div3_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpq_div <span class="keyword">with</span> mpq_div3_mpq</span>
<span class="keyword">fun</span> <a name="30400"><span class="dyncstdec">mpq_div2_mpq <span class="comment">// dst := dst / src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpq_div2_mpq" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpq_div <span class="keyword">with</span> mpq_div2_mpq</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// HX-2010-08-11: implemented in ATS
</span><span class="comment">// x := x + p/q
</span><span class="keyword">fun</span> <a name="30618"><span class="dyncstdec">mpq_incby <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> p<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> q<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="comment">// x := x - p/q
</span><span class="keyword">fun</span> <a name="30687"><span class="dyncstdec">mpq_decby <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> p<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> q<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// HX-2010-08-11: implemented in ATS
</span><span class="neuexp"><span class="keyword">symintr</span></span> mpq_pow_ui
<span class="keyword">fun</span> <a name="30818"><span class="dyncstdec">mpq_pow3_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> mpq_pow_ui <span class="keyword">with</span> mpq_pow3_ui</span>
<span class="keyword">fun</span> <a name="30920"><span class="dyncstdec">mpq_pow2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> mpq_pow_ui <span class="keyword">with</span> mpq_pow2_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="31029"><span class="dyncstdec">mpq_equal
  <span class="keyword">(</span>src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpq_equal"
<span class="comment">// end of [mpq_equal]
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpq_cmp
<span class="keyword">fun</span> <a name="31145"><span class="dyncstdec">mpq_cmp_mpq <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpq_cmp_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpq_cmp <span class="keyword">with</span> mpq_cmp_mpq</span>
<span class="keyword">fun</span> <a name="31251"><span class="dyncstdec">mpq_cmp_uint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">uint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpq_cmp_uint"
<span class="neuexp"><span class="keyword">overload</span> mpq_cmp <span class="keyword">with</span> mpq_cmp_uint</span>
<span class="keyword">fun</span> <a name="31357"><span class="dyncstdec">mpq_cmp_ulint <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpq_cmp_ulint"
<span class="neuexp"><span class="keyword">overload</span> mpq_cmp <span class="keyword">with</span> mpq_cmp_ulint</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="31489"><span class="dyncstdec">mpq_sgn <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a> <span class="keyword">=</span> "#atslib_mpq_sgn"

<span class="comment">(* ****** ****** *)</span>

<span class="comment">//
</span><span class="comment">// some MPQ input/output/print functions
</span><span class="comment">//
</span>
<span class="keyword">fun</span> <a name="31611"><span class="dyncstdec">mpq_inp_str <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> r<span class="keyword">)</span></span></span> <span class="keyword">|</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">,</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpq_inp_str"
<span class="comment">// end of [mpq_inp_str]
</span>
<span class="keyword">fun</span> <a name="31784"><span class="dyncstdec">mpq_out_str <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpq_out_str"
<span class="comment">// end of [mpq_out_str]
</span>
<span class="keyword">fun</span> <a name="31957"><span class="dyncstdec">fprint0_mpq
  <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_fprint_mpq"
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint0_mpq</span>

<span class="keyword">fun</span> <a name="32064"><span class="dyncstdec">fprint1_mpq <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atslib_fprint_mpq"
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint1_mpq</span>

<span class="keyword">fun</span> <a name="32214"><span class="dyncstdec">print_mpq <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_mpq</span>
<span class="keyword">fun</span> <a name="32278"><span class="dyncstdec">prerr_mpq <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_mpq</span>

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">//
</span><span class="comment">// floating number operations
</span><span class="comment">//
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX-2010-07-28: [mpf_set_default_prec] is used to make sure that
</span><span class="comment">//
</span><span class="keyword">sta</span> <span class="staexp">mpf_set_default_prec <span class="keyword">:</span> bool</span> <span class="comment">// [mpf_set_default_prec] is called
</span>
<span class="keyword">fun</span> <a name="32567"><span class="dyncstdec">mpf_get_default_prec
  <span class="staexp"><span class="keyword">{</span>mpf_set_default_prec<span class="keyword">}</span></span> <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpf_get_default_prec"
<span class="comment">// end of [mpf_get_default_prec]
</span>
<span class="keyword">fun</span> <a name="32694"><span class="dyncstdec">mpf_set_default_prec
  <span class="keyword">(</span>prec<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>mpf_set_default_prec<span class="keyword">]</span> void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_default_prec"
<span class="comment">// end of [mpf_set_default_prec]
</span>
<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX-2010-07-28:
</span><span class="comment">// [mpf_init] must be called after [mpf_set_default_prec] is called
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="32943"><span class="dyncstdec">mpf_init <span class="staexp"><span class="keyword">{</span>mpf_set_default_prec<span class="keyword">}</span></span>
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt? &gt;&gt; mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_init"
<span class="comment">// end of [mpf_init]
</span>
<span class="keyword">fun</span> <a name="33056"><span class="dyncstdec">mpf_init2
  <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt? &gt;&gt; mpf_vt</span><span class="keyword">,</span> prec<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_init2"
<span class="comment">// end of [mpf_init2]
</span>
<span class="keyword">fun</span> <a name="33160"><span class="dyncstdec">mpf_clear <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt &gt;&gt; mpf_vt?</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_clear"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="33248"><span class="dyncstdec">mpf_get_prec <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpf_get_prec"

<span class="keyword">fun</span> <a name="33311"><span class="dyncstdec">mpf_set_prec <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> prec<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_prec"

<span class="keyword">fun</span> <a name="33386"><span class="dyncstdec">mpf_set_prec_raw <span class="comment">// HX: a low-level function
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> prec<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_prec_raw"
<span class="comment">// end of [mpf_set_prec_raw]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="33551"><span class="dyncstdec">mpf_get_d <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">double</span></span></a> <span class="keyword">=</span> "#atslib_mpf_get_d"
<span class="keyword">fun</span> <a name="33610"><span class="dyncstdec">mpf_get_d_2exp
  <span class="keyword">(</span>exp<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>lint</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">double</span></span></a> <span class="keyword">=</span> "#atslib_mpf_get_d_2exp"
<span class="keyword">fun</span> <a name="33693"><span class="dyncstdec">mpf_get_si <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">lint</span></span></a> <span class="keyword">=</span> "#atslib_mpf_get_si"
<span class="keyword">fun</span> <a name="33752"><span class="dyncstdec">mpf_get_ui <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ulint</span></span></a> <span class="keyword">=</span> "#atslib_mpf_get_ui"

<span class="keyword">fun</span> <a name="33813"><span class="dyncstdec">mpf_get_str <span class="keyword">(</span> <span class="comment">// HX: a special case of the original namesake in GMP
</span>    exp<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mp_exp_t? &gt;&gt; mp_exp_t</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">,</span> ndigit<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">strptr1</span></span></a> <span class="keyword">=</span> "atslib_mpf_get_str" <span class="comment">// function!
</span><span class="comment">// end of [mpf_get_str]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_set

<span class="keyword">fun</span> <a name="34075"><span class="dyncstdec">mpf_set_mpf
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_set <span class="keyword">with</span> mpf_set_mpf</span>
<span class="keyword">fun</span> <a name="34186"><span class="dyncstdec">mpf_set_mpz
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_mpz"
<span class="neuexp"><span class="keyword">overload</span> mpf_set <span class="keyword">with</span> mpf_set_mpz</span>
<span class="keyword">fun</span> <a name="34297"><span class="dyncstdec">mpf_set_si <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_si"
<span class="neuexp"><span class="keyword">overload</span> mpf_set <span class="keyword">with</span> mpf_set_si</span>
<span class="keyword">fun</span> <a name="34400"><span class="dyncstdec">mpf_set_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_set <span class="keyword">with</span> mpf_set_ui</span>
<span class="keyword">fun</span> <a name="34506"><span class="dyncstdec">mpf_set_mpq
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpq_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_mpq"
<span class="neuexp"><span class="keyword">overload</span> mpf_set <span class="keyword">with</span> mpf_set_mpq</span>
<span class="keyword">fun</span> <a name="34617"><span class="dyncstdec">mpf_set_d <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_d"
<span class="neuexp"><span class="keyword">overload</span> mpf_set <span class="keyword">with</span> mpf_set_d</span>

<span class="comment">//
</span><span class="comment">// HX: the function returns 0 if the string is valid, or -1 otherwise.
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="34797"><span class="dyncstdec">mpf_set_str <span class="comment">// succ/fail: 0/-1
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpf_set_str"
<span class="neuexp"><span class="keyword">overload</span> mpf_set <span class="keyword">with</span> mpf_set_str</span>

<span class="keyword">fun</span> <a name="34937"><span class="dyncstdec">mpf_set_str_exn
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_set_str_exn" <span class="comment">// !fun
</span><span class="comment">// end of [mpf_set_str_exn]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_init_set

<span class="comment">// dst := src
</span><span class="keyword">fun</span> <a name="35125"><span class="dyncstdec">mpf_init_set_mpf <span class="staexp"><span class="keyword">{</span>mpf_set_default_prec<span class="keyword">}</span></span>
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt? &gt;&gt; mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_init_set_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_init_set <span class="keyword">with</span> mpf_init_set_mpf</span>
<span class="keyword">fun</span> <a name="35290"><span class="dyncstdec">mpf_init_set_si <span class="staexp"><span class="keyword">{</span>mpf_set_default_prec<span class="keyword">}</span></span>
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt? &gt;&gt; mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_init_set_si"
<span class="neuexp"><span class="keyword">overload</span> mpf_init_set <span class="keyword">with</span> mpf_init_set_si</span>
<span class="keyword">fun</span> <a name="35449"><span class="dyncstdec">mpf_init_set_ui <span class="staexp"><span class="keyword">{</span>mpf_set_default_prec<span class="keyword">}</span></span>
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt? &gt;&gt; mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_init_set_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_init_set <span class="keyword">with</span> mpf_init_set_ui</span>
<span class="keyword">fun</span> <a name="35609"><span class="dyncstdec">mpf_init_set_d <span class="staexp"><span class="keyword">{</span>mpf_set_default_prec<span class="keyword">}</span></span>
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt? &gt;&gt; mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_init_set_d"
<span class="neuexp"><span class="keyword">overload</span> mpf_init_set <span class="keyword">with</span> mpf_init_set_d</span>
<span class="keyword">fun</span> <a name="35767"><span class="dyncstdec">mpf_init_set_str <span class="staexp"><span class="keyword">{</span>mpf_set_default_prec<span class="keyword">}</span></span>
  <span class="keyword">(</span>rop<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt? &gt;&gt; mpf_vt</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a><span class="comment">(*err*)</span>
  <span class="keyword">=</span> "#atslib_mpf_init_set_str" <span class="comment">// macro
</span><span class="neuexp"><span class="keyword">overload</span> mpf_init_set <span class="keyword">with</span> mpf_init_set_str</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="35981"><span class="dyncstdec">mpf_swap <span class="keyword">(</span>dst1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> dst2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_swap"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="36074"><span class="dyncstdec">mpf_ceil <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_ceil"
<span class="keyword">fun</span> <a name="36145"><span class="dyncstdec">mpf_floor <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_floor"
<span class="keyword">fun</span> <a name="36218"><span class="dyncstdec">mpf_trunc <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_trunc"

<span class="keyword">fun</span> <a name="36292"><span class="dyncstdec">mpf_integer_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_integer_p"
<span class="keyword">fun</span> <a name="36359"><span class="dyncstdec">mpf_int_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_int_p"
<span class="keyword">fun</span> <a name="36418"><span class="dyncstdec">mpf_uint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_uint_p"
<span class="keyword">fun</span> <a name="36479"><span class="dyncstdec">mpf_lint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_lint_p"
<span class="keyword">fun</span> <a name="36540"><span class="dyncstdec">mpf_ulint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_ulint_p"
<span class="keyword">fun</span> <a name="36603"><span class="dyncstdec">mpf_sint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_sint_p"
<span class="keyword">fun</span> <a name="36664"><span class="dyncstdec">mpf_usint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_usint_p"

<span class="keyword">fun</span> <a name="36728"><span class="dyncstdec">mpf_fits_int_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_fits_int_p"
<span class="keyword">fun</span> <a name="36797"><span class="dyncstdec">mpf_fits_uint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_fits_uint_p"
<span class="keyword">fun</span> <a name="36868"><span class="dyncstdec">mpf_fits_lint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_fits_lint_p"
<span class="keyword">fun</span> <a name="36939"><span class="dyncstdec">mpf_fits_ulint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_fits_ulint_p"
<span class="keyword">fun</span> <a name="37012"><span class="dyncstdec">mpf_fits_sint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_fits_sint_p"
<span class="keyword">fun</span> <a name="37083"><span class="dyncstdec">mpf_fits_usint_p <span class="keyword">(</span>src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_fits_usint_p"

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_neg

<span class="comment">// x := -y
</span><span class="keyword">fun</span> <a name="37206"><span class="dyncstdec">mpf_neg2 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_neg2"
<span class="neuexp"><span class="keyword">overload</span> mpf_neg <span class="keyword">with</span> mpf_neg2</span>
<span class="comment">// x := -x
</span><span class="keyword">fun</span> <a name="37313"><span class="dyncstdec">mpf_neg1 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_neg1" <span class="comment">// !function
</span><span class="neuexp"><span class="keyword">overload</span> mpf_neg <span class="keyword">with</span> mpf_neg1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_abs

<span class="comment">// x := |y|
</span><span class="keyword">fun</span> <a name="37460"><span class="dyncstdec">mpf_abs2 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> y<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_abs2"
<span class="neuexp"><span class="keyword">overload</span> mpf_abs <span class="keyword">with</span> mpf_abs2</span>
<span class="comment">// x := |x|
</span><span class="keyword">fun</span> <a name="37568"><span class="dyncstdec">mpf_abs1 <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_abs1" <span class="comment">// !function
</span><span class="neuexp"><span class="keyword">overload</span> mpf_abs <span class="keyword">with</span> mpf_abs1</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_add

<span class="keyword">fun</span> <a name="37703"><span class="dyncstdec">mpf_add3_mpf
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_add3_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_add <span class="keyword">with</span> mpf_add3_mpf</span>
<span class="keyword">fun</span> <a name="37833"><span class="dyncstdec">mpf_add3_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_add3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_add <span class="keyword">with</span> mpf_add3_ui</span>

<span class="keyword">fun</span> <a name="37959"><span class="dyncstdec">mpf_add2_mpf
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_add2_mpf" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpf_add <span class="keyword">with</span> mpf_add2_mpf</span>
<span class="keyword">fun</span> <a name="38080"><span class="dyncstdec">mpf_add2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_add2_ui" <span class="comment">// fun!
</span><span class="neuexp"><span class="keyword">overload</span> mpf_add <span class="keyword">with</span> mpf_add2_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_sub

<span class="keyword">fun</span> <a name="38233"><span class="dyncstdec">mpf_sub3_mpf <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpf_sub_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_sub <span class="keyword">with</span> mpf_sub3_mpf</span>
<span class="keyword">fun</span> <a name="38362"><span class="dyncstdec">mpf_sub3_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_sub3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_sub <span class="keyword">with</span> mpf_sub3_ui</span>
<span class="keyword">fun</span> <a name="38487"><span class="dyncstdec">mpf_ui_sub3
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_ui_sub3"
<span class="comment">// end of [mpf_ui_sub3]
</span>
<span class="keyword">fun</span> <a name="38603"><span class="dyncstdec">mpf_sub2_mpf <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_sub2" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_sub <span class="keyword">with</span> mpf_sub2_mpf</span>
<span class="keyword">fun</span> <a name="38719"><span class="dyncstdec">mpf_sub2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_sub2_ui" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_sub <span class="keyword">with</span> mpf_sub2_ui</span>

<span class="comment">// HX-2010-08-08: no overloading for this one
</span><span class="keyword">fun</span> <a name="38881"><span class="dyncstdec">mpf_ui_sub2 <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_ui_sub2" <span class="comment">// !fun
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_mul
<span class="keyword">fun</span> <a name="39000"><span class="dyncstdec">mpf_mul3_mpf
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_mul3_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_mul <span class="keyword">with</span> mpf_mul3_mpf</span>
<span class="keyword">fun</span> <a name="39130"><span class="dyncstdec">mpf_mul3_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_mul3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_mul <span class="keyword">with</span> mpf_mul3_ui</span>
<span class="keyword">fun</span> <a name="39255"><span class="dyncstdec">mpf_mul2_mpf
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_mul2_mpf" <span class="comment">// !function
</span><span class="neuexp"><span class="keyword">overload</span> mpf_mul <span class="keyword">with</span> mpf_mul2_mpf</span>
<span class="keyword">fun</span> <a name="39381"><span class="dyncstdec">mpf_mul2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_mul2_ui" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_mul <span class="keyword">with</span> mpf_mul2_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_div
<span class="keyword">fun</span> <a name="39535"><span class="dyncstdec">mpf_div3_mpf <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_mpf_div3_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_div <span class="keyword">with</span> mpf_div3_mpf</span>
<span class="keyword">fun</span> <a name="39665"><span class="dyncstdec">mpf_div3_ui
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_div3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_div <span class="keyword">with</span> mpf_div3_ui</span>
<span class="keyword">fun</span> <a name="39790"><span class="dyncstdec">mpf_ui_div3
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_ui_div3"
<span class="comment">// end of [mpf_ui_div3]
</span><span class="keyword">fun</span> <a name="39905"><span class="dyncstdec">mpf_div2_mpf
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_div2" <span class="comment">// !function
</span><span class="neuexp"><span class="keyword">overload</span> mpf_div <span class="keyword">with</span> mpf_div2_mpf</span>
<span class="keyword">fun</span> <a name="40028"><span class="dyncstdec">mpf_div2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_div2_ui" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_div <span class="keyword">with</span> mpf_div2_ui</span>

<span class="comment">// HX-2010-08-08: no overloading for this one
</span><span class="keyword">fun</span> <a name="40190"><span class="dyncstdec">mpf_ui_div2 <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_ui_div2" <span class="comment">// !fun
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_sqrt
<span class="keyword">fun</span> <a name="40310"><span class="dyncstdec">mpf_sqrt2_mpf <span class="comment">// dst := sqrt (src)
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_sqrt2_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_sqrt <span class="keyword">with</span> mpf_sqrt2_mpf</span>
<span class="keyword">fun</span> <a name="40449"><span class="dyncstdec">mpf_sqrt2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_sqrt2_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_sqrt <span class="keyword">with</span> mpf_sqrt2_ui</span>
<span class="comment">// dst := sqrt (dst)
</span><span class="keyword">fun</span> <a name="40581"><span class="dyncstdec">mpf_sqrt1_mpf <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_sqrt1_mpf" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_sqrt <span class="keyword">with</span> mpf_sqrt1_mpf</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_pow_ui
<span class="keyword">fun</span> <a name="40731"><span class="dyncstdec">mpf_pow3_ui <span class="comment">// dst := src1^^src2
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_pow3_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_pow_ui <span class="keyword">with</span> mpf_pow3_ui</span>
<span class="comment">// dst := src1^^src2
</span><span class="keyword">fun</span> <a name="40901"><span class="dyncstdec">mpf_pow2_ui <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_pow2_ui" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_pow_ui <span class="keyword">with</span> mpf_pow2_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_mul_2exp
<span class="keyword">fun</span> <a name="41062"><span class="dyncstdec">mpf_mul3_2exp
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_mul3_2exp"
<span class="neuexp"><span class="keyword">overload</span> mpf_mul_2exp <span class="keyword">with</span> mpf_mul3_2exp</span>
<span class="keyword">fun</span> <a name="41198"><span class="dyncstdec">mpf_mul2_2exp <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_mul2_2exp" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_mul_2exp <span class="keyword">with</span> mpf_mul2_2exp</span>

<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> mpf_div_2exp
<span class="keyword">fun</span> <a name="41367"><span class="dyncstdec">mpf_div3_2exp
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_div3_2exp"
<span class="neuexp"><span class="keyword">overload</span> mpf_div_2exp <span class="keyword">with</span> mpf_div3_2exp</span>
<span class="keyword">fun</span> <a name="41503"><span class="dyncstdec">mpf_div2_2exp <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_mpf_div2_2exp" <span class="comment">// !fun
</span><span class="neuexp"><span class="keyword">overload</span> mpf_div_2exp <span class="keyword">with</span> mpf_div2_2exp</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="41651"><span class="dyncstdec">mpf_eq
  <span class="keyword">(</span>src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src3<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a> <span class="keyword">=</span> "#atslib_mpf_eq"
<span class="comment">// end of [mpf_eq]
</span>
<span class="neuexp"><span class="keyword">symintr</span></span> mpf_cmp
<span class="keyword">fun</span> <a name="41771"><span class="dyncstdec">mpf_cmp_mpf
  <span class="keyword">(</span>src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpf_cmp_mpf"
<span class="neuexp"><span class="keyword">overload</span> mpf_cmp <span class="keyword">with</span> mpf_cmp_mpf</span>
<span class="keyword">fun</span> <a name="41885"><span class="dyncstdec">mpf_cmp_d <span class="keyword">(</span>src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpf_cmp_d"
<span class="neuexp"><span class="keyword">overload</span> mpf_cmp <span class="keyword">with</span> mpf_cmp_d</span>
<span class="keyword">fun</span> <a name="41990"><span class="dyncstdec">mpf_cmp_ui <span class="keyword">(</span>src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpf_cmp_ui"
<span class="neuexp"><span class="keyword">overload</span> mpf_cmp <span class="keyword">with</span> mpf_cmp_ui</span>
<span class="keyword">fun</span> <a name="42097"><span class="dyncstdec">mpf_cmp_si <span class="keyword">(</span>src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">int</span></span></a> <span class="keyword">=</span> "#atslib_mpf_cmp_si"
<span class="neuexp"><span class="keyword">overload</span> mpf_cmp <span class="keyword">with</span> mpf_cmp_si</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="42225"><span class="dyncstdec">mpf_sgn <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a> <span class="keyword">=</span> "#atslib_mpf_sgn"

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="42299"><span class="dyncstdec">mpf_reldiff
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src1<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> src2<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_reldiff"
<span class="comment">// end of [mpf_reldiff]
</span>
<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// some MPF input/output/print functions
</span><span class="comment">//
</span>
<span class="keyword">fun</span> <a name="42485"><span class="dyncstdec">mpf_inp_str <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> r<span class="keyword">)</span></span></span> <span class="keyword">|</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpf_inp_str"
<span class="comment">// end of [mpf_inp_str]
</span>
<span class="keyword">fun</span> <a name="42658"><span class="dyncstdec">mpf_out_str <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf_mode<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span>
  <span class="keyword">|</span> file<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> base<span class="keyword">:</span> <span class="staexp">mp_base_t</span><span class="keyword">,</span> ndigit<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">size_t</span></span></a> <span class="keyword">=</span> "#atslib_mpf_out_str"
<span class="comment">// end of [mpf_out_str]
</span>
<span class="keyword">fun</span> <a name="42849"><span class="dyncstdec">fprint0_mpf
  <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> ndigit<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_fprint_mpf"
<span class="keyword">fun</span> <a name="42938"><span class="dyncstdec">fprint1_mpf <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> ndigit<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "atslib_fprint_mpf"
<span class="keyword">fun</span> <a name="43070"><span class="dyncstdec">print_mpf <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> ndigit<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_print_mpf"
<span class="keyword">fun</span> <a name="43141"><span class="dyncstdec">prerr_mpf <span class="keyword">(</span>x<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> ndigit<span class="keyword">:</span> <span class="staexp">size_t</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "atslib_prerr_mpf"

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">//
</span><span class="comment">// low-level MPN functions
</span><span class="comment">//
</span><span class="comment">// HX-2010-08-13:
</span><span class="comment">// These low-level functions should probably be supported. Any volunteer?
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">//
</span><span class="comment">// random number generators for MPZ, MPQ and MPF
</span><span class="comment">//
</span><span class="comment">//
</span><span class="comment">(* ****** ****** *)</span>

<span class="keyword">absviewt@ype</span> <span class="staexp"><a name="43475"><span class="stacstdec">gmp_randstate_vt <span class="keyword">=</span> <span class="keyword">$extype</span> "ats_gmp_randstate_viewt0ype"</span></a></span>

<span class="keyword">fun</span> <a name="43537"><span class="dyncstdec">gmp_randclear
  <span class="keyword">(</span>state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt &gt;&gt; gmp_randstate_vt?</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_gmp_randclear"
<span class="comment">// end of [gmp_randclear]
</span>
<span class="keyword">fun</span> <a name="43664"><span class="dyncstdec">gmp_randinit_default
  <span class="keyword">(</span>state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt? &gt;&gt; gmp_randstate_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_gmp_randinit_default"
<span class="comment">// end of [gmp_randinit_default]
</span>
<span class="keyword">fun</span> <a name="43812"><span class="dyncstdec">gmp_randinit_lc_2exp
  <span class="keyword">(</span>state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt? &gt;&gt; gmp_randstate_vt</span><span class="keyword">,</span> a<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> c<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">,</span> m2exp<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "#atslib_gmp_randinit_lc_2exp"
<span class="comment">// end of [gmp_randinit_lc_2exp]
</span>
<span class="keyword">fun</span> <a name="43998"><span class="dyncstdec">gmp_randinit_lc_2exp_size
  <span class="keyword">(</span>state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt? &gt;&gt; gmp_randstate_vt</span><span class="keyword">,</span> _size<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a><span class="comment">(*err*)</span>
  <span class="keyword">=</span> "#atslib_gmp_randinit_lc_2exp_size"
<span class="comment">// end of [gmp_randinit_lc_2exp_size]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="neuexp"><span class="keyword">symintr</span></span> gmp_randseed
<span class="keyword">fun</span> <a name="44225"><span class="dyncstdec">gmp_randseed_mpz
  <span class="keyword">(</span>state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt</span><span class="keyword">,</span> seed<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_gmp_randseed_mpz"
<span class="neuexp"><span class="keyword">overload</span> gmp_randseed <span class="keyword">with</span> gmp_randseed_mpz</span>
<span class="keyword">fun</span> <a name="44369"><span class="dyncstdec">gmp_randseed_ui
  <span class="keyword">(</span>state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt</span><span class="keyword">,</span> seed<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_gmp_randseed_ui"
<span class="neuexp"><span class="keyword">overload</span> gmp_randseed <span class="keyword">with</span> gmp_randseed_ui</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="44530"><span class="dyncstdec">mpz_urandomb
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt</span><span class="keyword">,</span> nbit<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_urandomb"
<span class="comment">// end of [mpz_urandomb]
</span>
<span class="keyword">fun</span> <a name="44660"><span class="dyncstdec">mpz_urandomm <span class="comment">// each generated X belongs to [0, range)
</span>  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt</span><span class="keyword">,</span> range<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_urandomm"
<span class="comment">// end of [mpz_urandomm]
</span>
<span class="keyword">fun</span> <a name="44835"><span class="dyncstdec">mpz_rrandomb
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt</span><span class="keyword">,</span> nbit<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_rrandomb"
<span class="comment">// end of [mpz_rrandomb]
</span>
<span class="keyword">fun</span> <a name="44965"><span class="dyncstdec">mpz_random <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> max_size<span class="keyword">:</span> <span class="staexp">mp_size_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_random"
<span class="keyword">fun</span> <a name="45045"><span class="dyncstdec">mpz_random2 <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpz_vt</span><span class="keyword">,</span> max_size<span class="keyword">:</span> <span class="staexp">mp_size_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpz_random2"

<span class="comment">(* ****** ****** *)</span>
<span class="comment">//
</span><span class="comment">// HX-2010-08-08: a negative number is generated if [max_size] is negative
</span><span class="comment">//
</span><span class="keyword">fun</span> <a name="45229"><span class="dyncstdec">mpf_random2
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> max_size<span class="keyword">:</span> <span class="staexp">mp_size_t</span><span class="keyword">,</span> exp<span class="keyword">:</span> <span class="staexp">mp_exp_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_random2"
<span class="comment">// end of [mpf_random2]
</span>
<span class="keyword">fun</span> <a name="45353"><span class="dyncstdec">mpf_urandomb
  <span class="keyword">(</span>dst<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>mpf_vt</span><span class="keyword">,</span> state<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>gmp_randstate_vt</span><span class="keyword">,</span> nbit<span class="keyword">:</span> <span class="staexp">ulint</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "#atslib_mpf_urandomb"
<span class="comment">// end of [mpf_urandomb]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* end of [gmp.sats] *)</span>
</pre>
</body>
</html>
