<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <style type="text/css">
    span.comment {color:#787878;font-style:italic}
    span.extern  {color:#A52A2A}
    span.keyword {color:#000000;font-weight:bold}
    span.neuexp  {color:#800080}
    span.staexp  {color:#0000FF}
    span.dynexp  {color:#E80000}
    span.prfexp  {color:#009000}
    span.stacstdec  {text-decoration:none}
    span.stacstuse  {color:#0000CF;text-decoration:underline}
    span.dyncstdec  {text-decoration:none}
    span.dyncstimp  {color:#B80000;text-decoration:underline}
    span.dyncstuse  {color:#B80000;text-decoration:underline}
    body          {color:#E80000;background-color:#E0E0E0}
  </style>
</head>
<body>
<pre>
<span class="comment">(***********************************************************************)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                         Applied Type System                         *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                              Hongwei Xi                             *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(***********************************************************************)</span>

<span class="comment">(*
** ATS/Anairiats - Unleashing the Potential of Types!
**
** Copyright (C) 2002-2008 Hongwei Xi, Boston University
**
** All rights reserved
**
** ATS is free software;  you can  redistribute it and/or modify it under
** the terms of  the GNU GENERAL PUBLIC LICENSE (GPL) as published by the
** Free Software Foundation; either version 3, or (at  your  option)  any
** later version.
** 
** ATS is distributed in the hope that it will be useful, but WITHOUT ANY
** WARRANTY; without  even  the  implied  warranty  of MERCHANTABILITY or
** FITNESS FOR A PARTICULAR PURPOSE.  See the  GNU General Public License
** for more details.
** 
** You  should  have  received  a  copy of the GNU General Public License
** along  with  ATS;  see the  file COPYING.  If not, please write to the
** Free Software Foundation,  51 Franklin Street, Fifth Floor, Boston, MA
** 02110-1301, USA.
*)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// Author: Hongwei Xi (hwxi AT cs DOT bu DOT edu)
</span><span class="comment">// Time: October 2007
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* The first translation mainly resolves the issue of operator fixity *)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">Err <span class="keyword">=</span> "ats_error.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Lst <span class="keyword">=</span> "ats_list.sats"</span>
<span class="keyword">staload</span> <span class="staexp">Syn <span class="keyword">=</span> "ats_syntax.sats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">"ats_staexp1.sats"</span>
<span class="keyword">staload</span> <span class="staexp">"ats_dynexp1.sats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">"ats_reference.sats"</span>
<span class="keyword">staload</span> <span class="staexp">_<span class="comment">(*anonymous*)</span> <span class="keyword">=</span> "ats_reference.dats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">#define</span> <span class="neuexp">nil list_nil</span>
<span class="keyword">#define</span> <span class="neuexp">cons list_cons</span>
<span class="keyword">#define</span> <span class="neuexp">:: list_cons</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">typedef</span> <span class="staexp"><a name="1995"><span class="stacstdec">l0ab <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fsyntax_2esats.html#10490"><span class="stacstuse">$Syn<span class="keyword">.</span>l0ab</span></a></span></a></span>
<span class="keyword">val</span> d0ynq_none <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fsyntax_2esats.html#18193"><span class="dyncstuse">$Syn<span class="keyword">.</span>d0ynq_none</span></a> <span class="keyword">(</span><span class="keyword">)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4504"><span class="dyncstimp">p1at_ann</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1t<span class="keyword">,</span> s1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tann <span class="keyword">(</span>p1t<span class="keyword">,</span> s1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4558"><span class="dyncstimp">p1at_any</span></a> <span class="keyword">(</span>loc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tany <span class="keyword">(</span><span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4588"><span class="dyncstimp">p1at_anys</span></a> <span class="keyword">(</span>loc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tanys <span class="keyword">(</span><span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4620"><span class="dyncstimp">p1at_app_dyn</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> p1t<span class="keyword">,</span> loc_arg<span class="keyword">,</span> npf<span class="keyword">,</span> p1ts<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tapp_dyn <span class="keyword">(</span>p1t<span class="keyword">,</span> loc_arg<span class="keyword">,</span> npf<span class="keyword">,</span> p1ts<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4710"><span class="dyncstimp">p1at_app_sta</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1t<span class="keyword">,</span> s1as<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tapp_sta <span class="keyword">(</span>p1t<span class="keyword">,</span> s1as<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4777"><span class="dyncstimp">p1at_as</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> p1t<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tas <span class="keyword">(</span>id<span class="keyword">,</span> p1t<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4827"><span class="dyncstimp">p1at_char</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> c<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tchar c
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4867"><span class="dyncstimp">p1at_empty</span></a> <span class="keyword">(</span>loc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tempty <span class="keyword">(</span><span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4899"><span class="dyncstimp">p1at_exist</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1as<span class="keyword">,</span> p1t<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Texist <span class="keyword">(</span>s1as<span class="keyword">,</span> p1t<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4958"><span class="dyncstimp">p1at_float</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tfloat <span class="keyword">(</span>str<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5001"><span class="dyncstimp">p1at_free</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1t<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tfree p1t
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5044"><span class="dyncstimp">p1at_ide</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tqid <span class="keyword">(</span>d0ynq_none<span class="keyword">,</span> id<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5085"><span class="dyncstimp">p1at_int</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tint <span class="keyword">(</span>str<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5129"><span class="dyncstimp">p1at_list</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1ts<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">case+</span> p1ts <span class="keyword">of</span>
  <span class="keyword">|</span> cons <span class="keyword">(</span>p1t<span class="keyword">,</span> nil <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> <span class="keyword">'{</span> <span class="comment">// singleton elimination
</span>      p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> p1t<span class="keyword">.</span>p1at_node
    <span class="keyword">}</span>
  <span class="keyword">|</span> _ <span class="keyword">=&gt;</span> <span class="keyword">'{</span>
      p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tlist <span class="keyword">(</span>0<span class="keyword">,</span> p1ts<span class="keyword">)</span>
    <span class="keyword">}</span>
<span class="comment">// end of [p1at_list]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5175"><span class="dyncstimp">p1at_list2</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1ts1<span class="keyword">,</span> p1ts2<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="keyword">val</span> npf <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#2308"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_length</span></a> p1ts1
  <span class="keyword">val</span> p1ts <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#1736"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_append</span></a> <span class="keyword">(</span>p1ts1<span class="keyword">,</span> p1ts2<span class="keyword">)</span>
<span class="keyword">in</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tlist <span class="keyword">(</span>npf<span class="keyword">,</span> p1ts<span class="keyword">)</span>
<span class="keyword">}</span> <span class="keyword">end</span> <span class="comment">// end of [p1at_list2]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5242"><span class="dyncstimp">p1at_lst</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1ts<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tlst <span class="keyword">(</span>p1ts<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5288"><span class="dyncstimp">p1at_qid</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d0q<span class="keyword">,</span> id<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tqid <span class="keyword">(</span>d0q<span class="keyword">,</span> id<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5341"><span class="dyncstimp">p1at_rec</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> recknd<span class="keyword">,</span> lp1ts<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Trec <span class="keyword">(</span>recknd<span class="keyword">,</span> lp1ts<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5403"><span class="dyncstimp">p1at_ref</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tref <span class="keyword">(</span>id<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5443"><span class="dyncstimp">p1at_refas</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> p1t<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Trefas <span class="keyword">(</span>id<span class="keyword">,</span> p1t<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5496"><span class="dyncstimp">p1at_string</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tstring str
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5542"><span class="dyncstimp">p1at_svararg</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1arg<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Tsvararg s1arg
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5594"><span class="dyncstimp">p1at_tup</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> tupknd<span class="keyword">,</span> p1ts<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Ttup <span class="keyword">(</span>tupknd<span class="keyword">,</span> 0<span class="keyword">,</span> p1ts<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5654"><span class="dyncstimp">p1at_tup2</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> tupknd<span class="keyword">,</span> p1ts1<span class="keyword">,</span> p1ts2<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="keyword">val</span> npf <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#2308"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_length</span></a> p1ts1
  <span class="keyword">val</span> p1ts <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#1736"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_append</span></a> <span class="keyword">(</span>p1ts1<span class="keyword">,</span> p1ts2<span class="keyword">)</span>
<span class="keyword">in</span> <span class="keyword">'{</span>
  p1at_loc<span class="keyword">=</span> loc<span class="keyword">,</span> p1at_node<span class="keyword">=</span> P1Ttup <span class="keyword">(</span>tupknd<span class="keyword">,</span> npf<span class="keyword">,</span> p1ts<span class="keyword">)</span>
<span class="keyword">}</span> <span class="keyword">end</span> <span class="comment">// end of [p1at_tup2]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fn</span> prerr_loc_error1
  <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#1976"><span class="stacstuse">loc_t</span></a></span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp"><a href="XREF/_2ftmp_2fATS_2d0_2e2_2e3_2fprelude_2fbasics_5fsta_2esats.html#16293"><span class="stacstuse">void</span></a></span> <span class="keyword">=</span>
  <span class="keyword">(</span><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flocation_2esats.html#2738"><span class="dyncstuse">$Loc<span class="keyword">.</span>prerr_location</span></a> loc<span class="keyword">;</span> prerr ": error(1)"<span class="keyword">)</span>
<span class="comment">// end of [prerr_loc_error1]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5754"><span class="dyncstimp">p1at_make_e1xp</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> e0<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
<span class="comment">//
</span>  <span class="keyword">fun</span> aux <span class="keyword">(</span>e0<span class="keyword">:</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fstaexp1_2esats.html#2312"><span class="stacstuse">e1xp</span></a></span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="staexp">cloptr1</span><span class="keyword">&gt;</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#3808"><span class="stacstuse">p1at</span></a></span> <span class="keyword">=</span> <span class="keyword">case+</span> e0<span class="keyword">.</span>e1xp_node <span class="keyword">of</span>
    <span class="keyword">|</span> E1XPapp <span class="keyword">(</span>e1<span class="keyword">,</span> loc_arg<span class="keyword">,</span> es2<span class="keyword">)</span> <span class="keyword">=&gt;</span> <span class="keyword">begin</span>
        <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4620"><span class="dyncstuse">p1at_app_dyn</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> aux e1<span class="keyword">,</span> loc_arg<span class="keyword">,</span> 0<span class="comment">(*npf*)</span><span class="keyword">,</span> auxlst es2<span class="keyword">)</span>
      <span class="keyword">end</span> <span class="comment">// end of [E1XPapp]
</span>    <span class="keyword">|</span> E1XPchar chr <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4827"><span class="dyncstuse">p1at_char</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> chr<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPfloat str <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4958"><span class="dyncstuse">p1at_float</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPide id <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5288"><span class="dyncstuse">p1at_qid</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d0ynq_none<span class="keyword">,</span> id<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPint str <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5085"><span class="dyncstuse">p1at_int</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPlist es <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5129"><span class="dyncstuse">p1at_list</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> auxlst es<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPnone <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#4867"><span class="dyncstuse">p1at_empty</span></a> <span class="keyword">(</span>loc<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPstring <span class="keyword">(</span>str<span class="keyword">,</span> _<span class="comment">(*len*)</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#5496"><span class="dyncstuse">p1at_string</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPundef <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> <span class="keyword">begin</span>
        prerr_loc_error1 <span class="keyword">(</span>loc<span class="keyword">)</span><span class="keyword">;</span>
        prerr ": incorrect use of undefined value."<span class="keyword">;</span> <a href="XREF/_2ftmp_2fATS_2d0_2e2_2e3_2fprelude_2fbasics_5fdyn_2esats.html#12890"><span class="dyncstuse">prerr_newline</span></a> <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">;</span>
        <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5ferror_2esats.html#1817"><span class="dyncstuse">$Err<span class="keyword">.</span>abort</span></a> <span class="keyword">(</span><span class="keyword">)</span>
      <span class="keyword">end</span> <span class="comment">// end of [E1XPundef]
</span>  <span class="comment">// end of [aux]
</span><span class="comment">//
</span>  <span class="keyword">and</span> auxlst
    <span class="keyword">(</span>es0<span class="keyword">:</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fstaexp1_2esats.html#2374"><span class="stacstuse">e1xplst</span></a></span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="staexp">cloptr1</span><span class="keyword">&gt;</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#3863"><span class="stacstuse">p1atlst</span></a></span> <span class="keyword">=</span> <span class="keyword">case+</span> es0 <span class="keyword">of</span>
    <span class="keyword">|</span> cons <span class="keyword">(</span>e<span class="keyword">,</span> es<span class="keyword">)</span> <span class="keyword">=&gt;</span> cons <span class="keyword">(</span>aux e<span class="keyword">,</span> auxlst es<span class="keyword">)</span> <span class="keyword">|</span> nil <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> nil <span class="keyword">(</span><span class="keyword">)</span>
  <span class="comment">// end of [auxlst]
</span><span class="keyword">in</span>
  aux <span class="keyword">(</span>e0<span class="keyword">)</span>
<span class="keyword">end</span> <span class="comment">// end of [p1at_make_e1xp]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18385"><span class="dyncstimp">d1exp_ann_effc</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> efc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eann_effc <span class="keyword">(</span>d1e<span class="keyword">,</span> efc<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18453"><span class="dyncstimp">d1exp_ann_funclo</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> fc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eann_funclo <span class="keyword">(</span>d1e<span class="keyword">,</span> fc<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18516"><span class="dyncstimp">d1exp_ann_funclo_opt</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> fc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">begin</span>
  <span class="keyword">case+</span> d1e<span class="keyword">.</span>d1exp_node <span class="keyword">of</span>
  <span class="keyword">|</span> D1Eann_funclo _ <span class="keyword">=&gt;</span> d1e <span class="keyword">|</span> _ <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18453"><span class="dyncstuse">d1exp_ann_funclo</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> fc<span class="keyword">)</span>
<span class="keyword">end</span> <span class="comment">// end of [d1exp_ann_funclo_opt]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18584"><span class="dyncstimp">d1exp_ann_type</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> s1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eann_type <span class="keyword">(</span>d1e<span class="keyword">,</span> s1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18667"><span class="dyncstimp">d1exp_app_dyn</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> loc_arg<span class="keyword">,</span> npf<span class="keyword">,</span> d1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eapp_dyn <span class="keyword">(</span>d1e<span class="keyword">,</span> loc_arg<span class="keyword">,</span> npf<span class="keyword">,</span> d1es<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_app_dyn]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18812"><span class="dyncstimp">d1exp_app_sta</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> s1as<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eapp_sta <span class="keyword">(</span>d1e<span class="keyword">,</span> s1as<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_app_sta]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18901"><span class="dyncstimp">d1exp_arrinit</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1e<span class="keyword">,</span> od1e_asz<span class="keyword">,</span> d1es_elt<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Earrinit <span class="keyword">(</span>s1e<span class="keyword">,</span> od1e_asz<span class="keyword">,</span> d1es_elt<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19025"><span class="dyncstimp">d1exp_arrsize</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> os1e_elt<span class="keyword">,</span> d1es_elt<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Earrsize <span class="keyword">(</span>os1e_elt<span class="keyword">,</span> d1es_elt<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19104"><span class="dyncstimp">d1exp_arrsub</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e_arr<span class="keyword">,</span> loc_ind<span class="keyword">,</span> d1ess_ind<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Earrsub <span class="keyword">(</span>d1e_arr<span class="keyword">,</span> loc_ind<span class="keyword">,</span> d1ess_ind<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19205"><span class="dyncstimp">d1exp_bool</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> tf<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Ebool <span class="keyword">(</span>tf<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_bool]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19272"><span class="dyncstimp">d1exp_caseof</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> casknd<span class="keyword">,</span> inv<span class="keyword">,</span> d1es<span class="keyword">,</span> c1ls<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="comment">// empty
</span><span class="keyword">in</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> d1exp_node <span class="keyword">=</span> D1Ecaseof <span class="keyword">(</span>casknd<span class="keyword">,</span> inv<span class="keyword">,</span> d1es<span class="keyword">,</span> c1ls<span class="keyword">)</span>
<span class="keyword">}</span> <span class="keyword">end</span> <span class="comment">// end of [d1exp_caseof]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19397"><span class="dyncstimp">d1exp_char</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> chr<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Echar chr
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19440"><span class="dyncstimp">d1exp_cstsp</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> cst<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Ecstsp cst
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19490"><span class="dyncstimp">d1exp_crypt</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> knd<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Ecrypt <span class="keyword">(</span>knd<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19545"><span class="dyncstimp">d1exp_decseq</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Edecseq <span class="keyword">(</span>d1cs<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_decseq]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19593"><span class="dyncstimp">d1exp_dynload</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> fil<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Edynload <span class="keyword">(</span>fil<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19640"><span class="dyncstimp">d1exp_effmask</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> effs<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
 d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eeffmask <span class="keyword">(</span>effs<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19739"><span class="dyncstimp">d1exp_empty</span></a> <span class="keyword">(</span>loc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eempty <span class="keyword">(</span><span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19774"><span class="dyncstimp">d1exp_exist</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1a<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eexist <span class="keyword">(</span>s1a<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19836"><span class="dyncstimp">d1exp_extval</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1e<span class="keyword">,</span> code<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node <span class="keyword">=</span> D1Eextval <span class="keyword">(</span>s1e<span class="keyword">,</span> code<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19992"><span class="dyncstimp">d1exp_float</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Efloat str
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20037"><span class="dyncstimp">d1exp_floatsp</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Efloatsp str
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19898"><span class="dyncstimp">d1exp_fix</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> knd<span class="keyword">,</span> id<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Efix <span class="keyword">(</span>knd<span class="keyword">,</span> id<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20085"><span class="dyncstimp">d1exp_foldat</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1as<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Efoldat <span class="keyword">(</span>s1as<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20147"><span class="dyncstimp">d1exp_for</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> inv<span class="keyword">,</span> ini<span class="keyword">,</span> test<span class="keyword">,</span> post<span class="keyword">,</span> body<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Efor <span class="keyword">(</span>inv<span class="keyword">,</span> ini<span class="keyword">,</span> test<span class="keyword">,</span> post<span class="keyword">,</span> body<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_for]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20281"><span class="dyncstimp">d1exp_freeat</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1as<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Efreeat <span class="keyword">(</span>s1as<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20364"><span class="dyncstimp">d1exp_ide</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eqid <span class="keyword">(</span>d0ynq_none<span class="keyword">,</span> id<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_ide]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20406"><span class="dyncstimp">d1exp_idextapp</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> ns<span class="keyword">,</span> d1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span> <span class="comment">// for syndef
</span>  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eidextapp <span class="keyword">(</span>id<span class="keyword">,</span> ns<span class="keyword">,</span> d1es<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_idextapp]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20535"><span class="dyncstimp">d1exp_if</span></a> <span class="keyword">(</span>
  loc<span class="keyword">,</span> inv<span class="keyword">,</span> d1e_cond<span class="keyword">,</span> d1e_then<span class="keyword">,</span> od1e_else
<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
<span class="keyword">in</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span>
  d1exp_node <span class="keyword">=</span> D1Eif <span class="keyword">(</span>inv<span class="keyword">,</span> d1e_cond<span class="keyword">,</span> d1e_then<span class="keyword">,</span> od1e_else<span class="keyword">)</span>
<span class="keyword">}</span> <span class="keyword">end</span> <span class="comment">// end of [d1exp_if]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20684"><span class="dyncstimp">d1exp_int</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eint <span class="keyword">(</span>str<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20729"><span class="dyncstimp">d1exp_intsp</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eintsp <span class="keyword">(</span>str<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20798"><span class="dyncstimp">d1exp_lam_dyn</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> lin<span class="keyword">,</span> p1t<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elam_dyn <span class="keyword">(</span>lin<span class="keyword">,</span> p1t<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_lam_dyn]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20867"><span class="dyncstimp">d1exp_laminit_dyn</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> lin<span class="keyword">,</span> p1t<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elaminit_dyn <span class="keyword">(</span>lin<span class="keyword">,</span> p1t<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_laminit_dyn]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20962"><span class="dyncstimp">d1exp_lam_met</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> loc_arg<span class="keyword">,</span> s1es<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elam_met <span class="keyword">(</span>loc_arg<span class="keyword">,</span> s1es<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21036"><span class="dyncstimp">d1exp_lam_sta_ana</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> loc_arg<span class="keyword">,</span> s1as<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elam_sta_ana <span class="keyword">(</span>loc_arg<span class="keyword">,</span> s1as<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21114"><span class="dyncstimp">d1exp_lam_sta_syn</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> loc_arg<span class="keyword">,</span> s1qs<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elam_sta_syn <span class="keyword">(</span>loc_arg<span class="keyword">,</span> s1qs<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21214"><span class="dyncstimp">d1exp_lazy_delay</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> lin<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elazy_delay <span class="keyword">(</span>lin<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21274"><span class="dyncstimp">d1exp_let</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elet <span class="keyword">(</span>d1cs<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21329"><span class="dyncstimp">d1exp_list</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> d1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">case+</span> d1es <span class="keyword">of</span>
<span class="comment">(*
  // HX: this one affects postion marking
  | cons (d1e, nil ()) =&gt; '{ // singleton elimination
      d1exp_loc= loc, d1exp_node= d1e.d1exp_node
    }
*)</span>
  <span class="keyword">|</span> cons <span class="keyword">(</span>d1e<span class="keyword">,</span> nil <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> d1e <span class="comment">// singleton elimination
</span>  <span class="keyword">|</span> _ <span class="keyword">=&gt;</span> <span class="keyword">'{</span>
      d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elist <span class="keyword">(</span>0<span class="keyword">,</span> d1es<span class="keyword">)</span>
    <span class="keyword">}</span> <span class="comment">(* end of [_] *)</span>
<span class="comment">// end of [d1exp_list]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21375"><span class="dyncstimp">d1exp_list2</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> d1es1<span class="keyword">,</span> d1es2<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="keyword">val</span> npf <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#2308"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_length</span></a> d1es1
  <span class="keyword">val</span> d1es <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#1736"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_append</span></a> <span class="keyword">(</span>d1es1<span class="keyword">,</span> d1es2<span class="keyword">)</span>
<span class="keyword">in</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elist <span class="keyword">(</span>npf<span class="keyword">,</span> d1es<span class="keyword">)</span>
<span class="keyword">}</span> <span class="keyword">end</span> <span class="comment">// end of [d1exp_list2]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21438"><span class="dyncstimp">d1exp_loopexn</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> i<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eloopexn <span class="keyword">(</span>i<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_loopexn]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21505"><span class="dyncstimp">d1exp_lst</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> lin<span class="keyword">,</span> os1e<span class="keyword">,</span> d1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Elst <span class="keyword">(</span>lin<span class="keyword">,</span> os1e<span class="keyword">,</span> d1es<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_lst]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21579"><span class="dyncstimp">d1exp_macsyn</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> knd<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Emacsyn <span class="keyword">(</span>knd<span class="keyword">,</span> d1e<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_macsyn]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21649"><span class="dyncstimp">d1exp_ptrof</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eptrof d1e
<span class="keyword">}</span> <span class="comment">// end of [d1exp_ptrof]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21694"><span class="dyncstimp">d1exp_qid</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> q<span class="keyword">,</span> id<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eqid <span class="keyword">(</span>q<span class="keyword">,</span> id<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_qid]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21748"><span class="dyncstimp">d1exp_raise</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e_exn<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eraise <span class="keyword">(</span>d1e_exn<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_raise]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21793"><span class="dyncstimp">d1exp_rec</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> recknd<span class="keyword">,</span> ld1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Erec <span class="keyword">(</span>recknd<span class="keyword">,</span> ld1es<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_rec]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21853"><span class="dyncstimp">d1exp_scaseof</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> inv<span class="keyword">,</span> s1e<span class="keyword">,</span> sc1ls<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node <span class="keyword">=</span> D1Escaseof <span class="keyword">(</span>inv<span class="keyword">,</span> s1e<span class="keyword">,</span> sc1ls<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_scaseof]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21941"><span class="dyncstimp">d1exp_sel</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> knd<span class="keyword">,</span> d1e<span class="keyword">,</span> d1l<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Esel <span class="keyword">(</span>knd<span class="keyword">,</span> d1e<span class="keyword">,</span> d1l<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22010"><span class="dyncstimp">d1exp_seq</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eseq d1es
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22058"><span class="dyncstimp">d1exp_sexparg</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> s1a<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Esexparg s1a
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22108"><span class="dyncstimp">d1exp_sif</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> inv<span class="keyword">,</span> s1e_cond<span class="keyword">,</span> d1e_then<span class="keyword">,</span> d1e_else<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="comment">// empty
</span><span class="keyword">in</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span>
  d1exp_node <span class="keyword">=</span> D1Esif <span class="keyword">(</span>inv<span class="keyword">,</span> s1e_cond<span class="keyword">,</span> d1e_then<span class="keyword">,</span> d1e_else<span class="keyword">)</span>
<span class="keyword">}</span> <span class="keyword">end</span> <span class="comment">// end of [d1exp_sif]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22207"><span class="dyncstimp">d1exp_string</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">,</span> len<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Estring <span class="keyword">(</span>str<span class="keyword">,</span> len<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22262"><span class="dyncstimp">d1exp_struct</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> ld1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Estruct <span class="keyword">(</span>ld1es<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22314"><span class="dyncstimp">d1exp_tmpid</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> qid<span class="keyword">,</span> ts1ess<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Etmpid <span class="keyword">(</span>qid<span class="keyword">,</span> ts1ess<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22395"><span class="dyncstimp">d1exp_top</span></a> <span class="keyword">(</span>loc<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Etop <span class="keyword">(</span><span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22428"><span class="dyncstimp">d1exp_trywith</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> res<span class="keyword">,</span> d1e<span class="keyword">,</span> c1ls<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Etrywith <span class="keyword">(</span>res<span class="keyword">,</span> d1e<span class="keyword">,</span> c1ls<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22505"><span class="dyncstimp">d1exp_tup</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> tupknd<span class="keyword">,</span> d1es<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Etup <span class="keyword">(</span>tupknd<span class="keyword">,</span> 0<span class="keyword">,</span> d1es<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22562"><span class="dyncstimp">d1exp_tup2</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> tupknd<span class="keyword">,</span> d1es1<span class="keyword">,</span> d1es2<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="keyword">val</span> npf <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#2308"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_length</span></a> d1es1
  <span class="keyword">val</span> d1es <span class="keyword">=</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5flist_2esats.html#1736"><span class="dyncstuse">$Lst<span class="keyword">.</span>list_append</span></a> <span class="keyword">(</span>d1es1<span class="keyword">,</span> d1es2<span class="keyword">)</span>
<span class="keyword">in</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Etup <span class="keyword">(</span>tupknd<span class="keyword">,</span> npf<span class="keyword">,</span> d1es<span class="keyword">)</span>
<span class="keyword">}</span> <span class="keyword">end</span> <span class="comment">// end of [d1exp_tup2]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22635"><span class="dyncstimp">d1exp_viewat</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Eviewat <span class="keyword">(</span>d1e<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_viewat]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22681"><span class="dyncstimp">d1exp_where</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> d1cs<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Ewhere <span class="keyword">(</span>d1e<span class="keyword">,</span> d1cs<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_where]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22738"><span class="dyncstimp">d1exp_while</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> inv<span class="keyword">,</span> test<span class="keyword">,</span> body<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1exp_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1exp_node<span class="keyword">=</span> D1Ewhile <span class="keyword">(</span>inv<span class="keyword">,</span> test<span class="keyword">,</span> body<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1exp_while]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22833"><span class="dyncstimp">d1exp_make_e1xp</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> e0<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
<span class="comment">//
</span>  <span class="keyword">fun</span> aux <span class="keyword">(</span>e0<span class="keyword">:</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fstaexp1_2esats.html#2312"><span class="stacstuse">e1xp</span></a></span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="staexp">cloptr1</span><span class="keyword">&gt;</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#12909"><span class="stacstuse">d1exp</span></a></span> <span class="keyword">=</span> <span class="keyword">case+</span> e0<span class="keyword">.</span>e1xp_node <span class="keyword">of</span>
    <span class="keyword">|</span> E1XPapp <span class="keyword">(</span>e1<span class="keyword">,</span> loc_arg<span class="keyword">,</span> es2<span class="keyword">)</span> <span class="keyword">=&gt;</span> <span class="keyword">begin</span>
        <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#18667"><span class="dyncstuse">d1exp_app_dyn</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> aux e1<span class="keyword">,</span> loc_arg<span class="keyword">,</span> 0<span class="comment">(*npf*)</span><span class="keyword">,</span> auxlst es2<span class="keyword">)</span>
      <span class="keyword">end</span>
    <span class="keyword">|</span> E1XPchar chr <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19397"><span class="dyncstuse">d1exp_char</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> chr<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPfloat str <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19992"><span class="dyncstuse">d1exp_float</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPide id <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21694"><span class="dyncstuse">d1exp_qid</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d0ynq_none<span class="keyword">,</span> id<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPint str <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#20684"><span class="dyncstuse">d1exp_int</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPlist es <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#21329"><span class="dyncstuse">d1exp_list</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> auxlst es<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPnone <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#19739"><span class="dyncstuse">d1exp_empty</span></a> <span class="keyword">(</span>loc<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPstring <span class="keyword">(</span>str<span class="keyword">,</span> len<span class="keyword">)</span> <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22207"><span class="dyncstuse">d1exp_string</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> str<span class="keyword">,</span> len<span class="keyword">)</span>
    <span class="keyword">|</span> E1XPundef <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> <span class="keyword">begin</span>
        prerr_loc_error1 <span class="keyword">(</span>loc<span class="keyword">)</span><span class="keyword">;</span> prerr ": incorrect use of undefined value."<span class="keyword">;</span> <a href="XREF/_2ftmp_2fATS_2d0_2e2_2e3_2fprelude_2fbasics_5fdyn_2esats.html#12890"><span class="dyncstuse">prerr_newline</span></a> <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">;</span>
        <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5ferror_2esats.html#1817"><span class="dyncstuse">$Err<span class="keyword">.</span>abort</span></a> <span class="keyword">(</span><span class="keyword">)</span>
      <span class="keyword">end</span> <span class="comment">// end of [E1XPundef]
</span>  <span class="comment">// end of [aux]
</span><span class="comment">//
</span>  <span class="keyword">and</span> auxlst <span class="keyword">(</span>es0<span class="keyword">:</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fstaexp1_2esats.html#2374"><span class="stacstuse">e1xplst</span></a></span><span class="keyword">)</span>
    <span class="keyword">:&lt;</span><span class="staexp">cloptr1</span><span class="keyword">&gt;</span> <span class="staexp"><a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#12967"><span class="stacstuse">d1explst</span></a></span> <span class="keyword">=</span> <span class="keyword">case+</span> es0 <span class="keyword">of</span>
    <span class="keyword">|</span> cons <span class="keyword">(</span>e<span class="keyword">,</span> es<span class="keyword">)</span> <span class="keyword">=&gt;</span> cons <span class="keyword">(</span>aux e<span class="keyword">,</span> auxlst es<span class="keyword">)</span> <span class="keyword">|</span> nil <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=&gt;</span> nil <span class="keyword">(</span><span class="keyword">)</span>
  <span class="comment">// end of [auxlst]
</span><span class="comment">//
</span><span class="keyword">in</span>
<span class="comment">//
</span>  aux <span class="keyword">(</span>e0<span class="keyword">)</span>
<span class="comment">//
</span><span class="keyword">end</span> <span class="comment">// end of [d1exp_make_e1xp]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22902"><span class="dyncstimp">d1lab_lab</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> lab<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1lab_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1lab_node<span class="keyword">=</span> D1LABlab lab
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#22946"><span class="dyncstimp">d1lab_ind</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> ind<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1lab_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1lab_node<span class="keyword">=</span> D1LABind ind
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23018"><span class="dyncstimp">d1exp_is_metric</span></a> <span class="keyword">(</span>d1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">begin</span>
  <span class="keyword">case+</span> d1e<span class="keyword">.</span>d1exp_node <span class="keyword">of</span>
  <span class="keyword">|</span> D1Elam_dyn <span class="keyword">(</span>_<span class="keyword">,</span> _<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23018"><span class="dyncstuse">d1exp_is_metric</span></a> d1e
  <span class="keyword">|</span> D1Elam_met _ <span class="keyword">=&gt;</span> <a href="XREF/_2ftmp_2fATS_2d0_2e2_2e3_2fprelude_2fbasics_5fdyn_2esats.html#4327"><span class="dyncstuse">true</span></a>
  <span class="keyword">|</span> D1Elam_sta_ana <span class="keyword">(</span>_<span class="keyword">,</span> _<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23018"><span class="dyncstuse">d1exp_is_metric</span></a> d1e
  <span class="keyword">|</span> D1Elam_sta_syn <span class="keyword">(</span>_<span class="keyword">,</span> _<span class="keyword">,</span> d1e<span class="keyword">)</span> <span class="keyword">=&gt;</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23018"><span class="dyncstuse">d1exp_is_metric</span></a> d1e
  <span class="keyword">|</span> _ <span class="keyword">=&gt;</span> <a href="XREF/_2ftmp_2fATS_2d0_2e2_2e3_2fprelude_2fbasics_5fdyn_2esats.html#4371"><span class="dyncstuse">false</span></a>
<span class="keyword">end</span> <span class="comment">// end of [d1exp_is_metric]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23077"><span class="dyncstimp">m1atch_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1e<span class="keyword">,</span> op1t<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  m1atch_loc<span class="keyword">=</span> loc<span class="keyword">,</span> m1atch_exp<span class="keyword">=</span> d1e<span class="keyword">,</span> m1atch_pat<span class="keyword">=</span> op1t
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23140"><span class="dyncstimp">c1lau_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1ts<span class="keyword">,</span> gua<span class="keyword">,</span> seq<span class="keyword">,</span> neg<span class="keyword">,</span> body<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  c1lau_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> c1lau_pat<span class="keyword">=</span> p1ts
<span class="keyword">,</span> c1lau_gua<span class="keyword">=</span> gua
<span class="keyword">,</span> c1lau_seq<span class="keyword">=</span> seq
<span class="keyword">,</span> c1lau_neg<span class="keyword">=</span> neg
<span class="keyword">,</span> c1lau_exp<span class="keyword">=</span> body
<span class="keyword">}</span> <span class="comment">// end of [c1lau_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23237"><span class="dyncstimp">sc1lau_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> sp1t<span class="keyword">,</span> body<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  sc1lau_loc<span class="keyword">=</span> loc<span class="keyword">,</span> sc1lau_pat<span class="keyword">=</span> sp1t<span class="keyword">,</span> sc1lau_exp<span class="keyword">=</span> body
<span class="keyword">}</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23317"><span class="dyncstimp">i1nvarg_make</span></a> <span class="keyword">(</span>
  loc<span class="keyword">,</span> id<span class="keyword">,</span> os1e
<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  i1nvarg_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> i1nvarg_sym<span class="keyword">=</span> id
<span class="keyword">,</span> i1nvarg_typ<span class="keyword">=</span> os1e
<span class="keyword">}</span> <span class="comment">// end of [i1nvarg_make]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23384"><span class="dyncstimp">i1nvresstate_make</span></a> <span class="keyword">(</span>s1qs<span class="keyword">,</span> arg<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  i1nvresstate_qua<span class="keyword">=</span> s1qs<span class="keyword">,</span> i1nvresstate_arg<span class="keyword">=</span> arg
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23454"><span class="dyncstimp">i1nvresstate_nil</span></a> <span class="keyword">=</span>
  <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23384"><span class="dyncstuse">i1nvresstate_make</span></a> <span class="keyword">(</span>list_nil <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">,</span> list_nil <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span>
<span class="comment">// end of [i1nvresstate_nil]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23490"><span class="dyncstimp">loopi1nv_make</span></a> <span class="keyword">(</span>
  loc<span class="keyword">,</span> qua<span class="keyword">,</span> met<span class="keyword">,</span> arg<span class="keyword">,</span> res
<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  loopi1nv_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> loopi1nv_qua<span class="keyword">=</span> qua
<span class="keyword">,</span> loopi1nv_met<span class="keyword">=</span> met
<span class="keyword">,</span> loopi1nv_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> loopi1nv_res<span class="keyword">=</span> res
<span class="keyword">}</span> <span class="comment">// end of [loopi1nv_make]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23624"><span class="dyncstimp">loopi1nv_nil</span></a> <span class="keyword">(</span>loc0<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">begin</span>
  <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23490"><span class="dyncstuse">loopi1nv_make</span></a> <span class="keyword">(</span>loc0<span class="keyword">,</span> nil <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">,</span> None <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">,</span> nil <span class="keyword">(</span><span class="keyword">)</span><span class="keyword">,</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23454"><span class="dyncstuse">i1nvresstate_nil</span></a><span class="keyword">)</span>
<span class="keyword">end</span> <span class="comment">// end of [loopi1nv_nil]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23687"><span class="dyncstimp">d1ec_none</span></a> loc <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cnone <span class="keyword">(</span><span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23719"><span class="dyncstimp">d1ec_list</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Clist d1cs
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23764"><span class="dyncstimp">d1ec_include</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cinclude d1cs
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23861"><span class="dyncstimp">d1ec_symintr</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> ids<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Csymintr ids
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23812"><span class="dyncstimp">d1ec_symelim</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> ids<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Csymelim ids
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23910"><span class="dyncstimp">d1ec_e1xpdef</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Ce1xpdef <span class="keyword">(</span>id<span class="keyword">,</span> def<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#23967"><span class="dyncstimp">d1ec_datsrts</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> para<span class="keyword">,</span> d1cs_datsrt<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cdatsrts <span class="keyword">(</span>para<span class="keyword">,</span> d1cs_datsrt<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24032"><span class="dyncstimp">d1ec_srtdefs</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_srtdef<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Csrtdefs d1cs_srtdef
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24083"><span class="dyncstimp">d1ec_stacons</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> impsrt<span class="keyword">,</span> d1cs_stacon<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cstacons <span class="keyword">(</span>impsrt<span class="keyword">,</span> d1cs_stacon<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24146"><span class="dyncstimp">d1ec_stacsts</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_stacst<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cstacsts <span class="keyword">(</span>d1cs_stacst<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24197"><span class="dyncstimp">d1ec_stavars</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_stavar<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cstavars <span class="keyword">(</span>d1cs_stavar<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24248"><span class="dyncstimp">d1ec_sexpdefs</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> os1t<span class="keyword">,</span> d1cs_sexpdef<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Csexpdefs <span class="keyword">(</span>os1t<span class="keyword">,</span> d1cs_sexpdef<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24315"><span class="dyncstimp">d1ec_saspdec</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1c<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Csaspdec d1c
<span class="keyword">}</span>

<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24363"><span class="dyncstimp">d1ec_dcstdecs</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> dck<span class="keyword">,</span> s1qss<span class="keyword">,</span> d1cs_dcst<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cdcstdecs <span class="keyword">(</span>dck<span class="keyword">,</span> s1qss<span class="keyword">,</span> d1cs_dcst<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1ec_dcstdecs]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24478"><span class="dyncstimp">d1ec_datdecs</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> dk<span class="keyword">,</span> d1cs_datdec<span class="keyword">,</span> d1cs_sexpdef<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cdatdecs <span class="keyword">(</span>dk<span class="keyword">,</span> d1cs_datdec<span class="keyword">,</span> d1cs_sexpdef<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1ec_datdecs]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24594"><span class="dyncstimp">d1ec_exndecs</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_exndec<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cexndecs <span class="keyword">(</span>d1cs_exndec<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1ec_exndecs]
</span>
<span class="keyword">implement</span>
<a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24645"><span class="dyncstimp">d1ec_classdec</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> sup<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cclassdec <span class="keyword">(</span>id<span class="keyword">,</span> sup<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1ec_classdec]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24706"><span class="dyncstimp">d1ec_overload</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> qid<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Coverload <span class="keyword">(</span>id<span class="keyword">,</span> qid<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1ec_overload]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24765"><span class="dyncstimp">d1ec_extype</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> name<span class="keyword">,</span> s1e_def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cextype <span class="keyword">(</span>name<span class="keyword">,</span> s1e_def<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24825"><span class="dyncstimp">d1ec_extval</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> name<span class="keyword">,</span> d1e_def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cextval <span class="keyword">(</span>name<span class="keyword">,</span> d1e_def<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24885"><span class="dyncstimp">d1ec_extcode</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> int_pos<span class="keyword">,</span> str_code<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cextcode <span class="keyword">(</span>int_pos<span class="keyword">,</span> str_code<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#24949"><span class="dyncstimp">d1ec_valdecs</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> valkind<span class="keyword">,</span> d1cs_val<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cvaldecs <span class="keyword">(</span>valkind<span class="keyword">,</span> d1cs_val<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25012"><span class="dyncstimp">d1ec_valdecs_par</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_val<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cvaldecs_par d1cs_val
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25067"><span class="dyncstimp">d1ec_valdecs_rec</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_val<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cvaldecs_rec d1cs_val
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25122"><span class="dyncstimp">d1ec_fundecs</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> funkind<span class="keyword">,</span> s1qss<span class="keyword">,</span> d1cs_fun<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cfundecs <span class="keyword">(</span>funkind<span class="keyword">,</span> s1qss<span class="keyword">,</span> d1cs_fun<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25233"><span class="dyncstimp">d1ec_vardecs</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_var<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cvardecs d1cs_var
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25284"><span class="dyncstimp">d1ec_macdefs</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> knd<span class="keyword">,</span> d1cs_macdef<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  <span class="comment">// knd: 0/1/2 =&gt; short/long/long rec
</span>  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cmacdefs <span class="keyword">(</span>knd<span class="keyword">,</span> d1cs_macdef<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25346"><span class="dyncstimp">d1ec_impdec</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> i1mparg<span class="keyword">,</span> d1c<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  <span class="comment">// i1mparg: s1arglstlst
</span>  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cimpdec <span class="keyword">(</span>i1mparg<span class="keyword">,</span> d1c<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25413"><span class="dyncstimp">d1ec_local</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> d1cs_head<span class="keyword">,</span> d1cs_body<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Clocal <span class="keyword">(</span>d1cs_head<span class="keyword">,</span> d1cs_body<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25476"><span class="dyncstimp">d1ec_dynload</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> fil<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cdynload <span class="keyword">(</span>fil<span class="keyword">)</span>
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25521"><span class="dyncstimp">d1ec_staload</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> idopt<span class="keyword">,</span> fil<span class="keyword">,</span> loaded<span class="keyword">,</span> loadflag<span class="keyword">,</span> d1cs<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1ec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1ec_node<span class="keyword">=</span> D1Cstaload <span class="keyword">(</span>idopt<span class="keyword">,</span> fil<span class="keyword">,</span> loaded<span class="keyword">,</span> loadflag<span class="keyword">,</span> d1cs<span class="keyword">)</span>
<span class="keyword">}</span> <span class="comment">// end of [d1ec_staload]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25701"><span class="dyncstimp">d1atsrtcon_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> s1ts<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1atsrtcon_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1atsrtcon_sym<span class="keyword">=</span> id<span class="keyword">,</span> d1atsrtcon_arg<span class="keyword">=</span> s1ts
<span class="keyword">}</span> <span class="comment">// end of [d2atsrtcon_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25800"><span class="dyncstimp">d1atsrtdec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> xs<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1atsrtdec_loc<span class="keyword">=</span> loc<span class="keyword">,</span> d1atsrtdec_sym<span class="keyword">=</span> id<span class="keyword">,</span> d1atsrtdec_con<span class="keyword">=</span> xs
<span class="keyword">}</span> <span class="comment">// end of [d1atsrtdec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25905"><span class="dyncstimp">s1rtdef_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> s1te<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  s1rtdef_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> s1rtdef_sym<span class="keyword">=</span> id
<span class="keyword">,</span> s1rtdef_def<span class="keyword">=</span> s1te
<span class="keyword">}</span> <span class="comment">// end of [s1rtdef_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#25968"><span class="dyncstimp">s1tacon_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> arg<span class="keyword">,</span> def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  s1tacon_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> s1tacon_sym<span class="keyword">=</span> id
<span class="keyword">,</span> s1tacon_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> s1tacon_def<span class="keyword">=</span> def
<span class="keyword">}</span> <span class="comment">// end of [s1tacon_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26079"><span class="dyncstimp">s1tacst_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> arg<span class="keyword">,</span> res<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  s1tacst_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> s1tacst_sym<span class="keyword">=</span> id
<span class="keyword">,</span> s1tacst_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> s1tacst_res<span class="keyword">=</span> res
<span class="keyword">}</span> <span class="comment">// end of [s1tacst_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26183"><span class="dyncstimp">s1tavar_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> s1t<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  s1tavar_loc<span class="keyword">=</span> loc<span class="keyword">,</span> s1tavar_sym<span class="keyword">=</span> id<span class="keyword">,</span> s1tavar_srt<span class="keyword">=</span> s1t
<span class="keyword">}</span>

<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26243"><span class="dyncstimp">s1expdef_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> arg<span class="keyword">,</span> res<span class="keyword">,</span> def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  s1expdef_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> s1expdef_sym<span class="keyword">=</span> id
<span class="keyword">,</span> s1expdef_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> s1expdef_res<span class="keyword">=</span> res
<span class="keyword">,</span> s1expdef_def<span class="keyword">=</span> def
<span class="keyword">}</span> <span class="comment">// end of [s1expdef_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26387"><span class="dyncstimp">s1aspdec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> qid<span class="keyword">,</span> arg<span class="keyword">,</span> res<span class="keyword">,</span> def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  s1aspdec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> s1aspdec_qid<span class="keyword">=</span> qid
<span class="keyword">,</span> s1aspdec_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> s1aspdec_res<span class="keyword">=</span> res
<span class="keyword">,</span> s1aspdec_def<span class="keyword">=</span> def
<span class="keyword">}</span> <span class="comment">// end of [s1aspdec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26517"><span class="dyncstimp">d1cstdec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> fil<span class="keyword">,</span> id<span class="keyword">,</span> s1e<span class="keyword">,</span> extdef<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1cstdec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> d1cstdec_fil<span class="keyword">=</span> fil
<span class="keyword">,</span> d1cstdec_sym<span class="keyword">=</span> id
<span class="keyword">,</span> d1cstdec_typ<span class="keyword">=</span> s1e
<span class="keyword">,</span> d1cstdec_extdef<span class="keyword">=</span> extdef
<span class="keyword">}</span> <span class="comment">// end of [d1cstdec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26645"><span class="dyncstimp">d1atcon_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> qua<span class="keyword">,</span> npf<span class="keyword">,</span> arg<span class="keyword">,</span> ind<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1atcon_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> d1atcon_sym<span class="keyword">=</span> id
<span class="keyword">,</span> d1atcon_qua<span class="keyword">=</span> qua
<span class="keyword">,</span> d1atcon_npf<span class="keyword">=</span> npf
<span class="keyword">,</span> d1atcon_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> d1atcon_ind<span class="keyword">=</span> ind
<span class="keyword">}</span> <span class="comment">// end of [d1atcon_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26788"><span class="dyncstimp">d1atdec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> fil<span class="keyword">,</span> id<span class="keyword">,</span> arg<span class="keyword">,</span> con<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  d1atdec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> d1atdec_fil<span class="keyword">=</span> fil
<span class="keyword">,</span> d1atdec_sym<span class="keyword">=</span> id
<span class="keyword">,</span> d1atdec_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> d1atdec_con<span class="keyword">=</span> con
<span class="keyword">}</span> <span class="comment">// end of [d1atdec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#26912"><span class="dyncstimp">e1xndec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> fil<span class="keyword">,</span> id<span class="keyword">,</span> qua<span class="keyword">,</span> npf<span class="keyword">,</span> arg<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  e1xndec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> e1xndec_fil<span class="keyword">=</span> fil
<span class="keyword">,</span> e1xndec_sym<span class="keyword">=</span> id
<span class="keyword">,</span> e1xndec_qua<span class="keyword">=</span> qua
<span class="keyword">,</span> e1xndec_npf<span class="keyword">=</span> npf
<span class="keyword">,</span> e1xndec_arg<span class="keyword">=</span> arg
<span class="keyword">}</span> <span class="comment">// end of [e1xndec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#27046"><span class="dyncstimp">v1aldec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> p1t<span class="keyword">,</span> d1e<span class="keyword">,</span> ann<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  v1aldec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> v1aldec_pat<span class="keyword">=</span> p1t
<span class="keyword">,</span> v1aldec_def<span class="keyword">=</span> d1e
<span class="keyword">,</span> v1aldec_ann<span class="keyword">=</span> ann
<span class="keyword">}</span> <span class="comment">// end of [v1aldec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#27150"><span class="dyncstimp">f1undec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> loc_id<span class="keyword">,</span> d1e<span class="keyword">,</span> ann<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  f1undec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> f1undec_sym<span class="keyword">=</span> id
<span class="keyword">,</span> f1undec_sym_loc<span class="keyword">=</span> loc_id
<span class="keyword">,</span> f1undec_def<span class="keyword">=</span> d1e
<span class="keyword">,</span> f1undec_ann<span class="keyword">=</span> ann
<span class="keyword">}</span> <span class="comment">// end of [f1undec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#27272"><span class="dyncstimp">v1ardec_make</span></a>
  <span class="keyword">(</span>loc<span class="keyword">,</span> knd<span class="keyword">,</span> id<span class="keyword">,</span> loc_id<span class="keyword">,</span> os1e<span class="keyword">,</span> wth<span class="keyword">,</span> od1e<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  v1ardec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> v1ardec_knd<span class="keyword">=</span> knd
<span class="keyword">,</span> v1ardec_sym<span class="keyword">=</span> id
<span class="keyword">,</span> v1ardec_sym_loc<span class="keyword">=</span> loc_id
<span class="keyword">,</span> v1ardec_typ<span class="keyword">=</span> os1e
<span class="keyword">,</span> v1ardec_wth<span class="keyword">=</span> wth <span class="comment">// i0deopt
</span><span class="keyword">,</span> v1ardec_ini<span class="keyword">=</span> od1e
<span class="keyword">}</span> <span class="comment">// end of [v1ardec_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#27442"><span class="dyncstimp">m1acdef_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> id<span class="keyword">,</span> arg<span class="keyword">,</span> def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  m1acdef_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> m1acdef_sym<span class="keyword">=</span> id
<span class="keyword">,</span> m1acdef_arg<span class="keyword">=</span> arg
<span class="keyword">,</span> m1acdef_def<span class="keyword">=</span> def
<span class="keyword">}</span> <span class="comment">// end of [m1acdef_make]
</span>
<span class="keyword">implement</span> <a href="XREF/_2fscratch_2ftmp_2fATS_2d0_2e2_2e3_2fsrc_2fats_5fdynexp1_2esats.html#27552"><span class="dyncstimp">i1mpdec_make</span></a> <span class="keyword">(</span>loc<span class="keyword">,</span> qid<span class="keyword">,</span> tmparg<span class="keyword">,</span> def<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  i1mpdec_loc<span class="keyword">=</span> loc
<span class="keyword">,</span> i1mpdec_qid<span class="keyword">=</span> qid
<span class="keyword">,</span> i1mpdec_tmparg<span class="keyword">=</span> tmparg
<span class="keyword">,</span> i1mpdec_def<span class="keyword">=</span> def
<span class="keyword">}</span> <span class="comment">// end of [i1mpdec_make]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* end of [ats_dynexp1.dats] *)</span>
</pre>
</body>
</html>
