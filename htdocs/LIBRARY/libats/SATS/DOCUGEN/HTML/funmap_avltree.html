
<!DOCTYPE html>
<html>
<head>
<title>ATSLIB/libats/funmap_avltree</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<style type="text/css">
  .patsyntax {color:#808080;background-color:#E0E0E0;}
  .patsyntaxkeyword {color:#000000;font-weight:bold;}
  .patsyntaxcomment {color:#787878;font-style:italic;}
  .patsyntaxextcode {color:#A52A2A;}
  .patsyntaxneuexp  {color:#800080;}
  .patsyntaxstaexp  {color:#0000F0;}
  .patsyntaxprfexp  {color:#603030;}
  .patsyntaxdynexp  {color:#F00000;}
  .patsyntaxstalab  {color:#0000F0;font-style:italic}
  .patsyntaxdynlab  {color:#F00000;font-style:italic}
  .patsyntaxdynstr  {color:#008000;font-style:normal}
  .patsyntaxstacstdec  {text-decoration:none;}
  .patsyntaxstacstuse  {color:#0000CF;text-decoration:underline;}
  .patsyntaxdyncstdec  {text-decoration:none;}
  .patsyntaxdyncstuse  {color:#B80000;text-decoration:underline;}
  .patsyntaxdyncst_implement  {color:#B80000;text-decoration:underline;}
  .patsyntax span.keyword {color:#000000;font-weight:bold;}
  .patsyntax span.comment {color:#787878;font-style:italic;}
  .patsyntax span.extcode {color:#A52A2A;}
  .patsyntax span.neuexp  {color:#800080;}
  .patsyntax span.staexp  {color:#0000F0;}
  .patsyntax span.prfexp  {color:#603030;}
  .patsyntax span.dynexp  {color:#F00000;}
  .patsyntax span.stalab  {color:#0000F0;font-style:italic}
  .patsyntax span.dynlab  {color:#F00000;font-style:italic}
  .patsyntax span.dynstr  {color:#008000;font-style:normal}
  .patsyntax span.stacstdec  {text-decoration:none;}
  .patsyntax span.stacstuse  {color:#0000CF;text-decoration:underline;}
  .patsyntax span.dyncstdec  {text-decoration:none;}
  .patsyntax span.dyncstuse  {color:#B80000;text-decoration:underline;}
  .patsyntax span.dyncst_implement  {color:#B80000;text-decoration:underline;}
</style>

<script
type="text/javascript"
src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"
></script>

<script
type="text/javascript"
src="http://www.ats-lang.org/scripts/patscode_tryit_bind_all.js"
></script>

</head>
<body>

<h1>ATSLIB/libats/funmap_avltree</h1>


This package implements functional maps based on AVL-trees.



<hr style="background-color: #E0E0E0; height: 2px;"></hr>

<menu>
<li><a href="#map">map</a></li>
<li><a href="#map_type">map_type</a></li>
<li><a href="#compare_key_key">compare_key_key</a></li>
<li><a href="#funmap_nil">funmap_nil</a></li>
<li><a href="#funmap_size">funmap_size</a></li>
<li><a href="#funmap_search">funmap_search</a></li>
<li><a href="#funmap_search_opt">funmap_search_opt</a></li>
<li><a href="#funmap_insert">funmap_insert</a></li>
<li><a href="#funmap_insert_opt">funmap_insert_opt</a></li>
<li><a href="#funmap_insert_any">funmap_insert_any</a></li>
<li><a href="#funmap_takeout">funmap_takeout</a></li>
<li><a href="#funmap_takeout_opt">funmap_takeout_opt</a></li>
<li><a href="#funmap_remove">funmap_remove</a></li>
<li><a href="#fprint_funmap">fprint_funmap</a></li>
<li><a href="#fprint_funmap$sep">fprint_funmap$sep</a></li>
<li><a href="#fprint_funmap$mapto">fprint_funmap$mapto</a></li>
<li><a href="#funmap_foreach">funmap_foreach</a></li>
<li><a href="#funmap_foreach_env">funmap_foreach_env</a></li>
<li><a href="#funmap_foreach$fwork">funmap_foreach$fwork</a></li>
<li><a href="#funmap_listize">funmap_listize</a></li>
<li><a href="#funmap_flistize">funmap_flistize</a></li>
<li><a href="#funmap_flistize$fopr">funmap_flistize$fopr</a></li>
<li><a href="#funmap_avltree_height">funmap_avltree_height</a></li>
</menu>

<hr style="background-color: #E0E0E0; height: 2px;"></hr>

<h2><a id="map">map</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="keyword">typedef</span> <span class="staexp">map<span class="keyword">(</span><span class="staexp">key<span class="keyword">:</span>t0p</span><span class="keyword">,</span> <span class="staexp">itm<span class="keyword">:</span>t0p</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="staexp">map_type</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">itm</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>

The type constructor <span class="patsyntaxstaexp">map</span> is a shorthand for
<span class="patsyntaxstaexp">map_type</span>.  <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="map_type">map_type</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="staexp"><span class="keyword">abstype</span> map_type <span class="keyword">(</span>key<span class="keyword">:</span><span class="keyword">t@ype</span><span class="keyword">,</span> itm<span class="keyword">:</span><span class="keyword">t@ype+</span><span class="keyword">)</span> <span class="keyword">=</span> ptr</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="compare_key_key">compare_key_key</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>key<span class="keyword">:</span>t0p<span class="keyword">}</span></span>
compare_key_key <span class="keyword">(</span>x1<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">,</span> x2<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">int</span></span></pre>
<h3>Description</h3>
This function is for comparing keys in maps.<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_nil">funmap_nil</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
<span class="keyword">}</span></span> funmap_nil <span class="staexp"><span class="keyword">{</span>key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p<span class="keyword">}</span></span><span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">itm</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>
This function forms an empty map.<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_size">funmap_size</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span><span class="keyword">t@ype</span>
<span class="keyword">}</span></span> funmap_size<span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">size_t</span></span></pre>
<h3>Description</h3>

This function returns the size of a given map. Its time complexity is
O(n). <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_search">funmap_search</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_search
<span class="keyword">(</span>
  map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span>
<span class="keyword">,</span> key<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">itm</span><span class="staexp">?</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">opt</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">,</span> <span class="staexp">b</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp"><span class="keyword">#[</span>b<span class="keyword">:</span>bool<span class="keyword">]</span></span> <span class="staexp">bool</span><span class="keyword">(</span><span class="staexp">b</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>

Given a map and a key, this function returns a boolean value to indicate
whether an item associated with the key has been found in the map. If found, the
item is stored in the third (call-by-reference) argument of the function.
The time complexity of <span class="patsyntaxdynexp">funmap_search</span> is O(log(n)).

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_search_opt">funmap_search_opt</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_search_opt
  <span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">,</span> k0<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">Option_vt</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>

This function is the optional variant of the function <span class="patsyntaxdynexp">funmap_search</span>.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_insert">funmap_insert</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_insert
<span class="keyword">(</span>
  map<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span>
<span class="keyword">,</span> key<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">,</span> x0<span class="keyword">:</span> <span class="staexp">itm</span><span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">itm</span><span class="staexp">?</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">opt</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">,</span> <span class="staexp">b</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp"><span class="keyword">#[</span>b<span class="keyword">:</span>bool<span class="keyword">]</span></span> <span class="staexp">bool</span><span class="keyword">(</span><span class="staexp">b</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>

Given a map, a key and an item, this function inserts the key-item pair
into the map.  Note that the first argument of the function is
call-by-reference, and the updated map is stored in it after the function
returns. The boolean value returned by this function indicates whether the
given key is already associated with some item in the given map. If that is
the case, then the original item assciated with the given key is stored in
the third (call-by-reference) argument after the function returns.
The time complexity of <span class="patsyntaxdynexp">funmap_insert</span> is O(log(n)).

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_insert_opt">funmap_insert_opt</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_insert_opt
<span class="keyword">(</span>
  map<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">,</span> k0<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">,</span> x0<span class="keyword">:</span> <span class="staexp">itm</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">Option_vt</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span></span> <span class="comment">// endfun</span></pre>
<h3>Description</h3>

This function is the optional variant of the function <span class="patsyntaxdynexp">funmap_insert</span>.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_insert_any">funmap_insert_any</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_insert_any
  <span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">,</span> k0<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">,</span> x0<span class="keyword">:</span> <span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></pre>
<h3>Description</h3>

Given a map, a key and an item, this function inserts the key-item pair
into the map. Note that the insertion is carried out even in the case where
the given key is already associated with some item in the map.
The time complexity of <span class="patsyntaxdynexp">funmap_insert_any</span> is O(log(n)).

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_takeout">funmap_takeout</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_takeout <span class="keyword">(</span>
  <span class="staexp">&amp;</span><span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">,</span> k0<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">itm</span><span class="staexp">?</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">opt</span> <span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">,</span> <span class="staexp">b</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp"><span class="keyword">#[</span>b<span class="keyword">:</span>bool<span class="keyword">]</span></span> <span class="staexp">bool</span> <span class="keyword">(</span><span class="staexp">b</span><span class="keyword">)</span></span> <span class="comment">// end-of-function</span></pre>
<h3>Description</h3>

Given a map and a key, this function returns a boolean value to indicate
whether a key-item pair whose key equals the given key is removed from the
map. Note that the first argument of the function is call-by-reference, and
the updated map is stored in it after the function returns.  In the case
where a key-item pair is removed, then the item in the pair is stored in
the third (call-by-reference) argument of the function.
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_takeout_opt">funmap_takeout_opt</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_takeout_opt
  <span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">,</span> k0<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">Option_vt</span> <span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>

This function is the optional variant of the function <span class="patsyntaxdynexp">funmap_takeout</span>.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_remove">funmap_remove</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_remove
  <span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">,</span> k0<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></pre>
<h3>Description</h3>

This function is like <span class="patsyntaxdynexp">funmap_takeout</span> except that it does not
return of the removed item.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fprint_funmap">fprint_funmap</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span><span class="keyword">t@ype</span>
<span class="keyword">}</span></span> fprint_funmap
  <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></pre>
<h3>Description</h3>

This function prints out a given map.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fprint_funmap$sep">fprint_funmap$sep</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span><span class="keyword">}</span></span>
fprint_funmap$sep <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span> <span class="comment">// "; "</span></pre>
<h3>Description</h3>

This function is called by <span class="patsyntaxdynexp">fprint_funmap</span> to print out the
separator between key-item pairs.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fprint_funmap$mapto">fprint_funmap$mapto</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span><span class="keyword">}</span></span>
fprint_funmap$mapto <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span> <span class="comment">// "-&gt;"</span></pre>
<h3>Description</h3>

This function is called by <span class="patsyntaxdynexp">fprint_funmap</span> to print out the
separator between the key and the item in a key-item pair.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_foreach">funmap_foreach</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_foreach<span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></pre>
<h3>Description</h3>

This function traverse a given map.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_foreach_env">funmap_foreach_env</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
<span class="staexp"><span class="keyword">{</span>key<span class="keyword">:</span>t0p
<span class="keyword">;</span>itm<span class="keyword">:</span>t0p<span class="keyword">}</span></span>
<span class="staexp"><span class="keyword">{</span>env<span class="keyword">:</span>vt0p<span class="keyword">}</span></span>
funmap_foreach_env
  <span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">,</span> env<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="keyword">(</span><span class="staexp">env</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_foreach$fwork">funmap_foreach$fwork</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
<span class="staexp"><span class="keyword">{</span>key<span class="keyword">:</span>t0p
<span class="keyword">;</span>itm<span class="keyword">:</span>t0p<span class="keyword">}</span></span>
<span class="staexp"><span class="keyword">{</span>env<span class="keyword">:</span>vt0p<span class="keyword">}</span></span>
funmap_foreach$fwork
  <span class="keyword">(</span>k<span class="keyword">:</span> <span class="staexp">key</span><span class="keyword">,</span> x<span class="keyword">:</span> <span class="staexp">itm</span><span class="keyword">,</span> env<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="keyword">(</span><span class="staexp">env</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_listize">funmap_listize</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">,</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_listize
  <span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">List0_vt</span><span class="keyword">(</span><span class="keyword">@(</span><span class="staexp">key</span><span class="keyword">,</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_flistize">funmap_flistize</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
<span class="staexp"><span class="keyword">{</span>key<span class="keyword">:</span>t0p
<span class="keyword">;</span>itm<span class="keyword">:</span>t0p<span class="keyword">}</span></span>
<span class="staexp"><span class="keyword">{</span>ki2<span class="keyword">:</span>t0p<span class="keyword">}</span></span>
funmap_flistize<span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">map</span><span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">INV</span><span class="keyword">(</span><span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">List0_vt</span><span class="keyword">(</span><span class="staexp">ki2</span><span class="keyword">)</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_flistize$fopr">funmap_flistize$fopr</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
<span class="staexp"><span class="keyword">{</span>key<span class="keyword">:</span>t0p
<span class="keyword">;</span>itm<span class="keyword">:</span>t0p<span class="keyword">}</span></span>
<span class="staexp"><span class="keyword">{</span>ki2<span class="keyword">:</span>t0p<span class="keyword">}</span></span>
funmap_flistize$fopr<span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">ki2</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="funmap_avltree_height">funmap_avltree_height</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span><span class="staexp"><span class="keyword">{</span>
key<span class="keyword">:</span>t0p<span class="keyword">;</span>itm<span class="keyword">:</span>t0p
<span class="keyword">}</span></span> funmap_avltree_height <span class="keyword">(</span>map<span class="keyword">:</span> <span class="staexp">map</span> <span class="keyword">(</span><span class="staexp">key</span><span class="keyword">,</span> <span class="staexp">itm</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">intGte</span><span class="keyword">(</span><span class="staexp">0</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>

Given a map represented by some AVL-tree, this function returns the
height of the tree. 

<hr style="background-color: #E0E0E0; height: 2px;"></hr>

<table>
<tr>
<td style="width: 100%;">
This page is created with
<a href="http://www.ats-lang.org">ATS</a>
by
<a href="http://www.cs.bu.edu/~hwxi/">Hongwei Xi</a>
and also maintained by
<a href="http://www.cs.bu.edu/~hwxi/">Hongwei Xi</a>.
</td>
<td style="width: 0%;"><!--pushed to the right-->
<a href="http://sourceforge.net">
<img
src="http://sflogo.sourceforge.net/sflogo.php?group_id=205722&amp;type=2"
width="120"
height="36"
alt="SourceForge.net Logo"
/>
</a>
</td>
</tr>
</table>


</body>
</html>

