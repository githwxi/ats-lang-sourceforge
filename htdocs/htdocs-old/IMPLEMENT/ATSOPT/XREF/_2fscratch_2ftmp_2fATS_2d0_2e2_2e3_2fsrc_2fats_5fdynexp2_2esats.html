<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <style type="text/css">
    span.comment {color:#787878;font-style:italic}
    span.extern  {color:#A52A2A}
    span.keyword {color:#000000;font-weight:bold}
    span.neuexp  {color:#800080}
    span.staexp  {color:#0000FF}
    span.dynexp  {color:#E80000}
    span.prfexp  {color:#009000}
    span.stacstdec  {text-decoration:none}
    span.stacstuse  {color:#0000CF;text-decoration:underline}
    span.dyncstdec  {text-decoration:none}
    span.dyncstimp  {color:#B80000;text-decoration:underline}
    span.dyncstuse  {color:#B80000;text-decoration:underline}
    body          {color:#E80000;background-color:#E0E0E0}
  </style>
</head>
<body>
<pre>
<span class="comment">(***********************************************************************)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                         Applied Type System                         *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(*                              Hongwei Xi                             *)</span>
<span class="comment">(*                                                                     *)</span>
<span class="comment">(***********************************************************************)</span>

<span class="comment">(*
** ATS/Anairiats - Unleashing the Potential of Types!
**
** Copyright (C) 2002-2008 Hongwei Xi, Boston University
**
** All rights reserved
**
** ATS is free software;  you can  redistribute it and/or modify it under
** the terms of  the GNU GENERAL PUBLIC LICENSE (GPL) as published by the
** Free Software Foundation; either version 3, or (at  your  option)  any
** later version.
** 
** ATS is distributed in the hope that it will be useful, but WITHOUT ANY
** WARRANTY; without  even  the  implied  warranty  of MERCHANTABILITY or
** FITNESS FOR A PARTICULAR PURPOSE.  See the  GNU General Public License
** for more details.
** 
** You  should  have  received  a  copy of the GNU General Public License
** along  with  ATS;  see the  file COPYING.  If not, please write to the
** Free Software Foundation,  51 Franklin Street, Fifth Floor, Boston, MA
** 02110-1301, USA.
*)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">// Author: Hongwei Xi (hwxi AT cs DOT bu DOT edu)
</span><span class="comment">// Time: November 2007
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* The second translation resolves binding as well as sort assignment *)</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">Fil <span class="keyword">=</span> "ats_filename.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="1655"><span class="stacstdec">fil_t <span class="keyword">=</span> $Fil<span class="keyword">.</span>filename_t</span></a></span>

<span class="keyword">staload</span> <span class="staexp">Lab <span class="keyword">=</span> "ats_label.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="1719"><span class="stacstdec">lab_t <span class="keyword">=</span> $Lab<span class="keyword">.</span>label_t</span></a></span>

<span class="keyword">staload</span> <span class="staexp">Loc <span class="keyword">=</span> "ats_location.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="1783"><span class="stacstdec">loc_t <span class="keyword">=</span> $Loc<span class="keyword">.</span>location_t</span></a></span>

<span class="keyword">staload</span> <span class="staexp">IntInf <span class="keyword">=</span> "ats_intinf.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="1851"><span class="stacstdec">intinf_t <span class="keyword">=</span> $IntInf<span class="keyword">.</span>intinf_t</span></a></span>

<span class="keyword">staload</span> <span class="staexp">SEXP1 <span class="keyword">=</span> "ats_staexp1.sats"</span> <span class="comment">// for [e1xp]
</span><span class="keyword">typedef</span> <span class="staexp"><a name="1937"><span class="stacstdec">e1xp <span class="keyword">=</span> $SEXP1<span class="keyword">.</span>e1xp</span></a></span>

<span class="keyword">staload</span> <span class="staexp">Stamp <span class="keyword">=</span> "ats_stamp.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="1998"><span class="stacstdec">stamp_t <span class="keyword">=</span> $Stamp<span class="keyword">.</span>stamp_t</span></a></span>

<span class="keyword">staload</span> <span class="staexp">Sym <span class="keyword">=</span> "ats_symbol.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2064"><span class="stacstdec">sym_t <span class="keyword">=</span> $Sym<span class="keyword">.</span>symbol_t</span></a></span>

<span class="keyword">staload</span> <span class="staexp">SymEnv <span class="keyword">=</span> "ats_symenv.sats"</span>
<span class="keyword">stadef</span> <span class="staexp"><a name="2129"><span class="stacstdec">symmapref <span class="keyword">=</span> $SymEnv<span class="keyword">.</span>symmapref</span></a></span>

<span class="keyword">staload</span> <span class="staexp">Syn <span class="keyword">=</span> "ats_syntax.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2200"><span class="stacstdec">dcstextdef <span class="keyword">=</span> $Syn<span class="keyword">.</span>dcstextdef</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">Syn <span class="keyword">=</span> "ats_syntax.sats"</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2291"><span class="stacstdec">l0ab <span class="keyword">=</span> $Syn<span class="keyword">.</span>l0ab</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2316"><span class="stacstdec">d0ynq <span class="keyword">=</span> $Syn<span class="keyword">.</span>d0ynq</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2343"><span class="stacstdec">dqi0de <span class="keyword">=</span> $Syn<span class="keyword">.</span>dqi0de</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2372"><span class="stacstdec">sqi0de <span class="keyword">=</span> $Syn<span class="keyword">.</span>sqi0de</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2401"><span class="stacstdec">i0delstlst <span class="keyword">=</span> $Syn<span class="keyword">.</span>i0delstlst</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2438"><span class="stacstdec">dcstkind <span class="keyword">=</span> $Syn<span class="keyword">.</span>dcstkind</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2471"><span class="stacstdec">funkind <span class="keyword">=</span> $Syn<span class="keyword">.</span>funkind</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2502"><span class="stacstdec">intkind <span class="keyword">=</span> $Syn<span class="keyword">.</span>intkind</span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2533"><span class="stacstdec">valkind <span class="keyword">=</span> $Syn<span class="keyword">.</span>valkind</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">staload</span> <span class="staexp">"ats_staexp2.sats"</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="2635"><span class="stacstdec">d2cst_t</span></a></span> <span class="comment">// boxed type
</span><span class="keyword">abstype</span> <span class="staexp"><a name="2665"><span class="stacstdec">d2mac_abs_t</span></a></span> <span class="keyword">(</span>int<span class="comment">(*curry arity*)</span><span class="keyword">)</span><span class="comment">// boxed type
</span><span class="keyword">abstype</span> <span class="staexp"><a name="2719"><span class="stacstdec">d2var_t</span></a></span> <span class="comment">// boxed type
</span><span class="keyword">abstype</span> <span class="staexp"><a name="2749"><span class="stacstdec">d2varset_t</span></a></span> <span class="comment">// boxed type
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2783"><span class="stacstdec">d2mac_t <span class="keyword">(</span>narg<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> d2mac_abs_t <span class="keyword">(</span>narg<span class="keyword">)</span></span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="2831"><span class="stacstdec">d2mac_t <span class="keyword">=</span> <span class="keyword">[</span>narg<span class="keyword">:</span>nat<span class="keyword">]</span> d2mac_abs_t <span class="keyword">(</span>narg<span class="keyword">)</span></span></a></span>

<span class="keyword">typedef</span> <span class="staexp"><a name="2880"><span class="stacstdec">d2cstlst <span class="keyword">=</span> List d2cst_t</span></a></span>
<span class="keyword">datatype</span> <span class="staexp"><a name="2913"><span class="stacstdec">d2cstopt</span></a></span> <span class="keyword">=</span> D2CSTOPTsome <span class="keyword">of</span> <span class="staexp">d2cst_t</span> <span class="keyword">|</span> D2CSTOPTnone

<span class="keyword">typedef</span> <span class="staexp"><a name="2972"><span class="stacstdec">d2varlst <span class="keyword">(</span>n<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> list <span class="keyword">(</span>d2var_t<span class="keyword">,</span> n<span class="keyword">)</span></span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="3017"><span class="stacstdec">d2varlst <span class="keyword">=</span> <span class="keyword">[</span>n<span class="keyword">:</span>nat<span class="keyword">]</span> d2varlst n</span></a></span>

<span class="keyword">viewtypedef</span> <span class="staexp"><a name="3060"><span class="stacstdec">d2varlst_vt <span class="keyword">(</span>n<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> list_vt <span class="keyword">(</span>d2var_t<span class="keyword">,</span> n<span class="keyword">)</span></span></a></span>
<span class="keyword">viewtypedef</span> <span class="staexp"><a name="3115"><span class="stacstdec">d2varlst_vt <span class="keyword">=</span> <span class="keyword">[</span>n<span class="keyword">:</span>nat<span class="keyword">]</span> d2varlst_vt n</span></a></span>

<span class="keyword">datatype</span> <span class="staexp"><a name="3161"><span class="stacstdec">d2varopt</span></a></span> <span class="keyword">=</span> D2VAROPTsome <span class="keyword">of</span> <span class="staexp">d2var_t</span> <span class="keyword">|</span> D2VAROPTnone

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">abstype</span> <span class="staexp"><a name="3241"><span class="stacstdec">s2varlstord_t</span></a></span>
<span class="keyword">abstype</span> <span class="staexp"><a name="3263"><span class="stacstdec">d2varlstord_t</span></a></span>

<span class="keyword">fun</span> <a name="3282"><span class="dyncstdec">s2varlst_of_s2varlstord <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2varlstord_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varlst</span></span></a>
<span class="keyword">fun</span> <a name="3339"><span class="dyncstdec">d2varlst_of_d2varlstord <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2varlstord_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varlst</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="3423"><span class="stacstdec">d2item</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> D2ITEMcon <span class="keyword">of</span> <span class="staexp">d2conlst</span>
  <span class="keyword">|</span> D2ITEMcst <span class="keyword">of</span> <span class="staexp">d2cst_t</span>
  <span class="keyword">|</span> D2ITEMe1xp <span class="keyword">of</span> <span class="staexp">e1xp</span>
  <span class="keyword">|</span> D2ITEMmacdef <span class="keyword">of</span> <span class="staexp">d2mac_t</span>
  <span class="keyword">|</span> D2ITEMmacvar <span class="keyword">of</span> <span class="staexp">d2var_t</span>
  <span class="keyword">|</span> D2ITEMsymdef <span class="keyword">of</span> <span class="staexp">List d2item</span> <span class="comment">(* overloaded symbol *)</span>
  <span class="keyword">|</span> D2ITEMvar <span class="keyword">of</span> <span class="staexp">d2var_t</span>
<span class="comment">// end of [d2item]
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="3671"><span class="stacstdec">d2itemlst <span class="keyword">=</span> List d2item</span></a></span>
<span class="keyword">viewtypedef</span> <span class="staexp"><a name="3707"><span class="stacstdec">d2itemopt_vt <span class="keyword">=</span> Option_vt d2item</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">typedef</span> <span class="staexp"><a name="3769"><span class="stacstdec">d2sym <span class="keyword">=</span> <span class="keyword">'{</span>
  d2sym_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> d2sym_qua<span class="keyword">=</span> $Syn<span class="keyword">.</span>d0ynq<span class="keyword">,</span> d2sym_sym<span class="keyword">=</span> sym_t
<span class="keyword">,</span> d2sym_itm<span class="keyword">=</span> d2itemlst
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [d2sym]
</span>
<span class="keyword">fun</span> <a name="3889"><span class="dyncstdec">fprint_d2sym <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2s<span class="keyword">:</span> <span class="staexp">d2sym</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2sym</span>

<span class="keyword">fun</span> <a name="4017"><span class="dyncstdec">print_d2sym <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2sym</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2sym</span>

<span class="keyword">fun</span> <a name="4083"><span class="dyncstdec">prerr_d2sym <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2sym</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2sym</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="4170"><span class="dyncstdec">d2cst_make <span class="keyword">(</span>
  _<span class="keyword">:</span> <span class="staexp">loc_t</span>
<span class="keyword">,</span> fil<span class="keyword">:</span> <span class="staexp">fil_t</span>
<span class="keyword">,</span> id<span class="keyword">:</span> <span class="staexp">sym_t</span>
<span class="keyword">,</span> dck<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>dcstkind</span>
<span class="keyword">,</span> decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span>
<span class="keyword">,</span> arilst<span class="keyword">:</span> <span class="staexp">List int</span>
<span class="keyword">,</span> typ<span class="keyword">:</span> <span class="staexp">s2exp</span>
<span class="keyword">,</span> extdef<span class="keyword">:</span> <span class="staexp">dcstextdef</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">d2cst_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="4333"><span class="dyncstdec">d2cst_loc_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">loc_t</span></span></a>
<span class="keyword">fun</span> <a name="4371"><span class="dyncstdec">d2cst_fil_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">fil_t</span></span></a>
<span class="keyword">fun</span> <a name="4409"><span class="dyncstdec">d2cst_sym_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sym_t</span></span></a>
<span class="keyword">fun</span> <a name="4447"><span class="dyncstdec">d2cst_kind_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>dcstkind</span></span></a>
<span class="keyword">fun</span> <a name="4494"><span class="dyncstdec">d2cst_arilst_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">List int</span></span></a>
<span class="keyword">fun</span> <a name="4538"><span class="dyncstdec">d2cst_decarg_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2qualst</span></span></a>
<span class="keyword">fun</span> <a name="4582"><span class="dyncstdec">d2cst_decarg_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="4635"><span class="dyncstdec">d2cst_typ_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="4673"><span class="dyncstdec">d2cst_extdef_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">dcstextdef</span></span></a>
<span class="keyword">fun</span> <a name="4719"><span class="dyncstdec">d2cst_stamp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="4766"><span class="dyncstdec">lt_d2cst_d2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_d2cst_d2cst</span>

<span class="keyword">fun</span> <a name="4850"><span class="dyncstdec">lte_d2cst_d2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_d2cst_d2cst</span>

<span class="keyword">fun</span> <a name="4937"><span class="dyncstdec">eq_d2cst_d2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_d2cst_d2cst</span>

<span class="keyword">fun</span> <a name="5021"><span class="dyncstdec">neq_d2cst_d2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> eq_d2cst_d2cst</span>

<span class="keyword">fun</span> <a name="5107"><span class="dyncstdec">compare_d2cst_d2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> compare <span class="keyword">with</span> compare_d2cst_d2cst</span>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="5210"><span class="dyncstdec">d2cst_is_fun <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="5250"><span class="dyncstdec">d2cst_is_castfn <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="5293"><span class="dyncstdec">d2cst_is_extmac <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="5336"><span class="dyncstdec">d2cst_is_praxi <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="5378"><span class="dyncstdec">d2cst_is_prfun <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="5420"><span class="dyncstdec">d2cst_is_prval <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="5462"><span class="dyncstdec">d2cst_is_proof <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="5504"><span class="dyncstdec">d2cst_is_temp <span class="keyword">(</span>d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>

<span class="comment">//
</span>
<span class="comment">// implemented in [ats_dynexp2_dcst.dats]
</span><span class="keyword">fun</span> <a name="5592"><span class="dyncstdec">fprint_d2cst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2cst</span>

<span class="keyword">fun</span> <a name="5722"><span class="dyncstdec">fprint_d2cstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2cs<span class="keyword">:</span> <span class="staexp">d2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2cstlst</span>

<span class="keyword">fun</span> <a name="5860"><span class="dyncstdec">print_d2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="5895"><span class="dyncstdec">prerr_d2cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2cst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2cst</span>

<span class="keyword">fun</span> <a name="5996"><span class="dyncstdec">print_d2cstlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6035"><span class="dyncstdec">prerr_d2cstlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2cstlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2cstlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="6167"><span class="dyncstdec">fprint_d2mac <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2m<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2mac</span>

<span class="keyword">fun</span> <a name="6297"><span class="dyncstdec">print_d2mac <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6332"><span class="dyncstdec">prerr_d2mac <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2mac</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2mac</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="6454"><span class="dyncstdec">d2var_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> id<span class="keyword">:</span> <span class="staexp">sym_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2var_t</span></span></a>
<span class="keyword">fun</span> <a name="6500"><span class="dyncstdec">d2var_make_any <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2var_t</span></span></a> <span class="comment">// for wildcard pattern
</span>
<span class="comment">//
</span>
<span class="keyword">datatype</span> <span class="staexp"><a name="6573"><span class="stacstdec">d2var_fin</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> D2VARFINdone
  <span class="keyword">|</span> D2VARFINnone
  <span class="keyword">|</span> D2VARFINsome <span class="keyword">of</span> <span class="staexp">s2exp</span>
  <span class="keyword">|</span> D2VARFINvbox <span class="keyword">of</span> <span class="staexp">s2exp</span>
<span class="comment">// end of [d2var_fin]
</span>
<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="6702"><span class="dyncstdec">d2var_loc_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">loc_t</span></span></a>
<span class="keyword">fun</span> <a name="6740"><span class="dyncstdec">d2var_sym_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sym_t</span></span></a>
<span class="keyword">fun</span> <a name="6778"><span class="dyncstdec">d2var_isfix_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="6817"><span class="dyncstdec">d2var_isfix_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6865"><span class="dyncstdec">d2var_isprf_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="6904"><span class="dyncstdec">d2var_isprf_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="6952"><span class="dyncstdec">d2var_lev_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="6988"><span class="dyncstdec">d2var_lev_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7033"><span class="dyncstdec">d2var_lin_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="7069"><span class="dyncstdec">d2var_lin_inc <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7106"><span class="dyncstdec">d2var_lin_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7151"><span class="dyncstdec">d2var_decarg_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2qualst</span></span></a>
<span class="keyword">fun</span> <a name="7195"><span class="dyncstdec">d2var_decarg_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7248"><span class="dyncstdec">d2var_addr_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2expopt</span></span></a>
<span class="keyword">fun</span> <a name="7290"><span class="dyncstdec">d2var_addr_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7341"><span class="dyncstdec">d2var_view_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varopt</span></span></a>
<span class="keyword">fun</span> <a name="7383"><span class="dyncstdec">d2var_view_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2varopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7434"><span class="dyncstdec">d2var_fin_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2var_fin</span></span></a>
<span class="keyword">fun</span> <a name="7476"><span class="dyncstdec">d2var_fin_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_fin</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7527"><span class="dyncstdec">d2var_typ_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2expopt</span></span></a>
<span class="keyword">fun</span> <a name="7568"><span class="dyncstdec">d2var_typ_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7618"><span class="dyncstdec">d2var_mastyp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2expopt</span></span></a>
<span class="keyword">fun</span> <a name="7662"><span class="dyncstdec">d2var_mastyp_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7715"><span class="dyncstdec">d2var_count_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a>
<span class="keyword">fun</span> <a name="7753"><span class="dyncstdec">d2var_count_inc <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="7792"><span class="dyncstdec">d2var_stamp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="7839"><span class="dyncstdec">d2var_typ_get_some <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="7892"><span class="dyncstdec">d2var_mastyp_get_some <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="7948"><span class="dyncstdec">d2var_addr_get_some <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="8002"><span class="dyncstdec">d2var_view_get_some <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2var_t</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="8063"><span class="dyncstdec">lt_d2var_d2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">&lt;</span> <span class="keyword">with</span> lt_d2var_d2var</span>

<span class="keyword">fun</span> <a name="8147"><span class="dyncstdec">lte_d2var_d2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;= <span class="keyword">with</span> lte_d2var_d2var</span>

<span class="keyword">fun</span> <a name="8234"><span class="dyncstdec">eq_d2var_d2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> <span class="keyword">=</span> <span class="keyword">with</span> eq_d2var_d2var</span>

<span class="keyword">fun</span> <a name="8318"><span class="dyncstdec">neq_d2var_d2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">bool</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> &lt;&gt; <span class="keyword">with</span> eq_d2var_d2var</span>

<span class="keyword">fun</span> <a name="8404"><span class="dyncstdec">compare_d2var_d2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:&lt;&gt;</span> <span class="staexp">Sgn</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> compare <span class="keyword">with</span> compare_d2var_d2var</span>

<span class="comment">//
</span>
<span class="comment">// implemented in [ats_dynexp2_dvar.dats]
</span><span class="keyword">fun</span> <a name="8549"><span class="dyncstdec">fprint_d2var <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2var</span>

<span class="keyword">fun</span> <a name="8679"><span class="dyncstdec">fprint_d2varlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2cs<span class="keyword">:</span> <span class="staexp">d2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2varlst</span>

<span class="keyword">fun</span> <a name="8817"><span class="dyncstdec">print_d2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="8852"><span class="dyncstdec">prerr_d2var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2var</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2var</span>

<span class="keyword">fun</span> <a name="8953"><span class="dyncstdec">print_d2varlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="8992"><span class="dyncstdec">prerr_d2varlst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2varlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2varlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="9124"><span class="dyncstdec">d2var_is_linear <span class="keyword">(</span>d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="9165"><span class="dyncstdec">d2var_is_mutable <span class="keyword">(</span>d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="9208"><span class="dyncstdec">d2var_typ_reset
  <span class="keyword">(</span>d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="9264"><span class="dyncstdec">d2var_typ_reset_at
  <span class="keyword">(</span>d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> s2l<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="9335"><span class="dyncstdec">d2var_ptr_viewat_make
  <span class="keyword">(</span>d2v_ptr<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> od2v_view<span class="keyword">:</span> <span class="staexp">d2varopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2var_t</span></span></a>

<span class="keyword">fun</span> <a name="9413"><span class="dyncstdec">d2var_ptr_viewat_make_none <span class="keyword">(</span>d2v_ptr<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2var_t</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="9494"><span class="dyncstdec">d2var_readize <span class="keyword">(</span>s2e_v<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="9547"><span class="dyncstdec">d2varlst_readize <span class="keyword">(</span>s2e_v<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">val</span> <a name="9626"><span class="dyncstdec">d2varset_nil <span class="keyword">:</span> <span class="staexp">d2varset_t</span></span></a>

<span class="keyword">fun</span> <a name="9657"><span class="dyncstdec">fprint_d2varset <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2varset</span>

<span class="keyword">fun</span> <a name="9796"><span class="dyncstdec">print_d2varset <span class="keyword">(</span>dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2varset</span>

<span class="keyword">fun</span> <a name="9875"><span class="dyncstdec">prerr_d2varset <span class="keyword">(</span>dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2varset</span>

<span class="keyword">fun</span> <a name="9954"><span class="dyncstdec">d2varset_add <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varset_t</span></span></a>
<span class="keyword">fun</span> <a name="10011"><span class="dyncstdec">d2varset_adds <span class="keyword">(</span>dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> d2vs<span class="keyword">:</span> <span class="staexp">d2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varset_t</span></span></a>

<span class="keyword">fun</span> <a name="10076"><span class="dyncstdec">d2varset_del <span class="keyword">(</span>dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varset_t</span></span></a>
<span class="keyword">fun</span> <a name="10137"><span class="dyncstdec">d2varset_dels <span class="keyword">(</span>dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> d2vs<span class="keyword">:</span> <span class="staexp">d2varlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varset_t</span></span></a>

<span class="keyword">fun</span> <a name="10202"><span class="dyncstdec">d2varset_union <span class="keyword">(</span>dvs1<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> dvs2<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varset_t</span></span></a>

<span class="keyword">fun</span> <a name="10271"><span class="dyncstdec">d2varset_ismem <span class="keyword">(</span>dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="keyword">fun</span> <a name="10329"><span class="dyncstdec">d2varset_foreach_main <span class="staexp"><span class="keyword">{</span>v<span class="keyword">:</span>view<span class="keyword">}</span></span> <span class="staexp"><span class="keyword">{</span>vt<span class="keyword">:</span>viewtype<span class="keyword">}</span></span> <span class="keyword">(</span>
    <span class="prfexp">pf<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span>v</span></span> <span class="keyword">|</span> dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> f<span class="keyword">:</span> <span class="staexp"><span class="keyword">(</span><span class="keyword">!</span>v <span class="keyword">|</span> d2var_t<span class="keyword">,</span> <span class="keyword">!</span>vt<span class="keyword">)</span> <span class="keyword">-&lt;</span>1<span class="keyword">&gt;</span> void</span><span class="keyword">,</span> env<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span>vt</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="10465"><span class="dyncstdec">d2varset_foreach_cloptr
  <span class="keyword">(</span>dvs<span class="keyword">:</span> <span class="staexp">d2varset_t</span><span class="keyword">,</span> f<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span>d2var_t <span class="keyword">-&lt;</span>cloptr1<span class="keyword">&gt;</span> void</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="10570"><span class="dyncstdec">d2sym_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> q<span class="keyword">:</span> <span class="staexp">d0ynq</span><span class="keyword">,</span> id<span class="keyword">:</span> <span class="staexp">sym_t</span><span class="keyword">,</span> d2is<span class="keyword">:</span> <span class="staexp">d2itemlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2sym</span></span></a>
<span class="comment">// end of [d2sym_make]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="10688"><span class="dyncstdec">fprint_d2item <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2i<span class="keyword">:</span> <span class="staexp">d2item</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2item</span>

<span class="keyword">fun</span> <a name="10819"><span class="dyncstdec">print_d2item <span class="keyword">(</span>d2i<span class="keyword">:</span> <span class="staexp">d2item</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="10856"><span class="dyncstdec">prerr_d2item <span class="keyword">(</span>d2i<span class="keyword">:</span> <span class="staexp">d2item</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2item</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2item</span>

<span class="keyword">fun</span> <a name="10961"><span class="dyncstdec">fprint_d2itemlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2i<span class="keyword">:</span> <span class="staexp">d2itemlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2item</span>

<span class="keyword">fun</span> <a name="11098"><span class="dyncstdec">print_d2itemlst <span class="keyword">(</span>d2is<span class="keyword">:</span> <span class="staexp">d2itemlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="11142"><span class="dyncstdec">prerr_d2itemlst <span class="keyword">(</span>d2is<span class="keyword">:</span> <span class="staexp">d2itemlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2itemlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2itemlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="11286"><span class="stacstdec">p2at_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> P2Tann <span class="keyword">of</span> <span class="comment">// ascribed pattern
</span>      <span class="staexp"><span class="keyword">(</span>p2at<span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> P2Tany <span class="comment">// wild card
</span>  <span class="keyword">|</span> P2Tas <span class="keyword">of</span> <span class="comment">// referenced pattern
</span>      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*refknd*)</span><span class="keyword">,</span> d2var_t<span class="keyword">,</span> p2at<span class="keyword">)</span></span>
  <span class="keyword">|</span> P2Tbool <span class="keyword">of</span> <span class="staexp">bool</span> <span class="comment">// boolean pattern
</span>  <span class="keyword">|</span> P2Tchar <span class="keyword">of</span> <span class="staexp">char</span> <span class="comment">// character pattern
</span>  <span class="keyword">|</span> P2Tcon <span class="keyword">of</span> <span class="comment">// constructor pattern
</span>      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*freeknd*)</span><span class="keyword">,</span> d2con_t<span class="keyword">,</span> s2qualst<span class="keyword">,</span>
       s2exp<span class="comment">(*con*)</span><span class="keyword">,</span> int<span class="comment">(*npf*)</span><span class="keyword">,</span> p2atlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> P2Tempty <span class="comment">// empty pattern
</span>  <span class="keyword">|</span> P2Texist <span class="keyword">of</span> <span class="comment">// existentially qualified
</span>      <span class="staexp"><span class="keyword">(</span>s2varlst<span class="keyword">,</span> p2at<span class="keyword">)</span></span>
  <span class="keyword">|</span> P2Tfloat <span class="keyword">of</span> <span class="staexp">string</span> <span class="comment">// float pattern
</span>  <span class="keyword">|</span> P2Tint <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> intinf_t<span class="keyword">)</span></span> <span class="comment">// integer pattern
</span>  <span class="keyword">|</span> P2Tlist <span class="keyword">of</span> <span class="comment">// (temporary) pattern list
</span>      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*npf*)</span><span class="keyword">,</span> p2atlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> P2Tlst <span class="keyword">of</span> <span class="staexp">p2atlst</span> <span class="comment">// list pattern
</span>  <span class="keyword">|</span> P2Trec <span class="keyword">of</span> <span class="comment">// tuple pattern
</span>      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*recknd*)</span><span class="keyword">,</span> int<span class="comment">(*npf*)</span><span class="keyword">,</span> labp2atlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> P2Tstring <span class="keyword">of</span> <span class="staexp">string</span> <span class="comment">// string pattern
</span>  <span class="keyword">|</span> P2Tvar <span class="keyword">of</span> <span class="comment">// variable pattern
</span>      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*refknd*)</span><span class="keyword">,</span> d2var_t<span class="keyword">)</span></span>
  <span class="keyword">|</span> P2Tvbox <span class="keyword">of</span> <span class="comment">// vbox pattern
</span>      <span class="staexp">d2var_t</span>
<span class="comment">// end of [p2at_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="12202"><span class="stacstdec">labp2atlst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABP2ATLSTnil
  <span class="keyword">|</span> LABP2ATLSTdot
  <span class="keyword">|</span> LABP2ATLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> p2at<span class="keyword">,</span> labp2atlst<span class="keyword">)</span></span>
<span class="comment">// end of [labp2atlst]
</span>
<span class="keyword">where</span> <span class="staexp"><a name="12329"><span class="stacstdec">p2at <span class="keyword">=</span> <span class="keyword">'{</span>
  p2at_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> p2at_svs<span class="keyword">=</span> s2varlstord_t
<span class="keyword">,</span> p2at_dvs<span class="keyword">=</span> d2varlstord_t
<span class="keyword">,</span> p2at_typ<span class="keyword">=</span> s2expopt
<span class="keyword">,</span> p2at_node<span class="keyword">=</span> p2at_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [p2at]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="12477"><span class="stacstdec">p2atlst <span class="keyword">(</span>n<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> list <span class="keyword">(</span>p2at<span class="keyword">,</span> n<span class="keyword">)</span></span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="12514"><span class="stacstdec">p2atlst <span class="keyword">=</span> <span class="keyword">[</span>n<span class="keyword">:</span>nat<span class="keyword">]</span> p2atlst n</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="12546"><span class="stacstdec">p2atopt <span class="keyword">=</span> Option p2at</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="12594"><span class="dyncstdec">p2at_typ_set <span class="keyword">(</span>p2t<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">,</span> os2e<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
  <span class="keyword">=</span> "ats_dynexp2_p2at_typ_set"

<span class="keyword">fun</span> <a name="12677"><span class="dyncstdec">p2atlst_svs_union <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varlstord_t</span></span></a>
<span class="keyword">fun</span> <a name="12727"><span class="dyncstdec">p2atlst_dvs_union <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varlstord_t</span></span></a>

<span class="keyword">fun</span> <a name="12778"><span class="dyncstdec">labp2atlst_svs_union <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">labp2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2varlstord_t</span></span></a>
<span class="keyword">fun</span> <a name="12834"><span class="dyncstdec">labp2atlst_dvs_union <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">labp2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2varlstord_t</span></span></a>

<span class="keyword">fun</span> <a name="12891"><span class="dyncstdec">s2varlstord_linearity_test <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2varlstord_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="12957"><span class="dyncstdec">d2varlstord_linearity_test <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2varlstord_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="13045"><span class="dyncstdec">fprint_p2at <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> p2t<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_p2at</span>

<span class="keyword">fun</span> <a name="13170"><span class="dyncstdec">fprint_p2atlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> p2ts<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_p2atlst</span>

<span class="keyword">fun</span> <a name="13305"><span class="dyncstdec">fprint_labp2atlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> lp2ts<span class="keyword">:</span> <span class="staexp">labp2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_labp2atlst</span>

<span class="keyword">fun</span> <a name="13450"><span class="dyncstdec">print_p2at <span class="keyword">(</span>p2t<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="13483"><span class="dyncstdec">prerr_p2at <span class="keyword">(</span>p2t<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_p2at</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_p2at</span>

<span class="keyword">fun</span> <a name="13580"><span class="dyncstdec">print_p2atlst <span class="keyword">(</span>p2ts<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="13620"><span class="dyncstdec">prerr_p2atlst <span class="keyword">(</span>p2ts<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_p2atlst</span>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_p2atlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="13751"><span class="dyncstdec">p2at_ann <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="13800"><span class="dyncstdec">p2at_any <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="13830"><span class="dyncstdec">p2at_as <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> refknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="13893"><span class="dyncstdec">p2at_bool <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="13933"><span class="dyncstdec">p2at_char <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>

<span class="keyword">fun</span> <a name="13974"><span class="dyncstdec">p2at_con
  <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span>
   freeknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span>
   d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span>
   qua<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">,</span>
   res<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span>
   npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span>
   arg<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">p2at</span></span></a>

<span class="keyword">fun</span> <a name="14109"><span class="dyncstdec">p2at_empty <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14141"><span class="dyncstdec">p2at_exist <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14195"><span class="dyncstdec">p2at_float <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> f<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14238"><span class="dyncstdec">p2at_int <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> i<span class="keyword">:</span> <span class="staexp">intinf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14292"><span class="dyncstdec">p2at_list <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14345"><span class="dyncstdec">p2at_lst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14387"><span class="dyncstdec">p2at_rec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> kind<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">labp2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14453"><span class="dyncstdec">p2at_string <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14497"><span class="dyncstdec">p2at_tup <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> kind<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14560"><span class="dyncstdec">p2at_var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> refknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>
<span class="keyword">fun</span> <a name="14617"><span class="dyncstdec">p2at_vbox <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">p2at</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="14689"><span class="stacstdec">d2ec_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> D2Cnone
  <span class="keyword">|</span> D2Clist <span class="keyword">of</span> <span class="staexp">d2eclst</span>
  <span class="keyword">|</span> D2Cinclude <span class="keyword">of</span> <span class="staexp">d2eclst</span> <span class="comment">(* inclusion *)</span>
  <span class="keyword">|</span> D2Csymintr <span class="keyword">of</span> <span class="comment">(* symbol intr *)</span> <span class="comment">// for temporary use
</span>      <span class="staexp">$Syn<span class="keyword">.</span>i0delst</span>
  <span class="keyword">|</span> D2Csymelim <span class="keyword">of</span> <span class="comment">(* symbol elim *)</span> <span class="comment">// for temporary use
</span>      <span class="staexp">$Syn<span class="keyword">.</span>i0delst</span>
  <span class="keyword">|</span> D2Cstavars <span class="keyword">of</span> <span class="staexp">s2tavarlst</span>
  <span class="keyword">|</span> D2Csaspdec <span class="keyword">of</span> <span class="staexp">s2aspdec</span>
  <span class="keyword">|</span> D2Cdcstdec <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>dcstkind<span class="keyword">,</span> d2cstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cdatdec <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>datakind<span class="keyword">,</span> s2cstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cexndec <span class="keyword">of</span> <span class="staexp">d2conlst</span>
  <span class="keyword">|</span> D2Coverload <span class="keyword">of</span> <span class="comment">(* overloading *)</span> <span class="comment">// for temporary use
</span>      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>i0de<span class="keyword">,</span> d2item<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cextype <span class="keyword">of</span> <span class="comment">// external type
</span>      <span class="staexp"><span class="keyword">(</span>string<span class="comment">(*name*)</span><span class="keyword">,</span> s2exp<span class="comment">(*definition*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cextval <span class="keyword">of</span> <span class="comment">(* external value *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="comment">(*name*)</span><span class="keyword">,</span> d2exp<span class="comment">(*definition*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cextcode <span class="keyword">of</span> <span class="comment">(* external code *)</span>
      <span class="staexp"><span class="keyword">(</span>int <span class="comment">(*position: 0/1/2 : top/?/end*)</span><span class="keyword">,</span> string <span class="comment">(*code*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cvaldecs <span class="keyword">of</span> <span class="comment">(* value declaration *)</span>
      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>valkind<span class="keyword">,</span> v2aldeclst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cvaldecs_par <span class="keyword">of</span> <span class="comment">(* parallel value declaration *)</span>
      <span class="staexp">v2aldeclst</span>
  <span class="keyword">|</span> D2Cvaldecs_rec <span class="keyword">of</span> <span class="comment">(* recursive value declaration *)</span>
      <span class="staexp">v2aldeclst</span>
  <span class="keyword">|</span> D2Cfundecs <span class="keyword">of</span> <span class="comment">(* function declaration *)</span>
      <span class="staexp"><span class="keyword">(</span>s2qualst<span class="comment">(*decarg*)</span><span class="keyword">,</span> $Syn<span class="keyword">.</span>funkind<span class="keyword">,</span> f2undeclst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cvardecs <span class="keyword">of</span> <span class="comment">(* variable declaration *)</span>
      <span class="staexp">v2ardeclst</span>
  <span class="keyword">|</span> D2Cimpdec <span class="keyword">of</span> <span class="comment">(* implementation *)</span>
      <span class="staexp">i2mpdec</span>
  <span class="keyword">|</span> D2Clocal <span class="keyword">of</span> <span class="comment">(* local declaration *)</span>
      <span class="staexp"><span class="keyword">(</span>d2eclst<span class="keyword">,</span> d2eclst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Cdynload <span class="keyword">of</span> <span class="comment">(* dynamic load *)</span>
      <span class="staexp">fil_t</span>
  <span class="keyword">|</span> D2Cstaload <span class="keyword">of</span> <span class="comment">(* static load *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*qua*)</span><span class="keyword">,</span> fil_t<span class="keyword">,</span> int<span class="comment">(*loaded*)</span><span class="keyword">,</span> int<span class="comment">(*loadflag*)</span><span class="keyword">,</span> d2eclst<span class="keyword">)</span></span>
    <span class="comment">// end of [D2Cstaload]
</span><span class="comment">// end of [d2ec_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="16145"><span class="stacstdec">d2exp_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> D2Eann_funclo <span class="keyword">of</span> <span class="comment">(* ascribed with funclo kind *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="keyword">,</span> $Syn<span class="keyword">.</span>funclo<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eann_seff <span class="keyword">of</span> <span class="comment">(* ascribed with effects *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="keyword">,</span> s2eff<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eann_type <span class="keyword">of</span> <span class="comment">(* ascribed dynamic expressions *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="keyword">,</span> s2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eapps <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>d2exp<span class="keyword">,</span> d2exparglst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Earrinit <span class="keyword">of</span> <span class="comment">(* array initialization *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exp <span class="comment">(*eltyp*)</span><span class="keyword">,</span> d2expopt <span class="comment">(*asz*)</span><span class="keyword">,</span> d2explst <span class="comment">(*elt*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Earrsize <span class="keyword">of</span> <span class="comment">(* array expression *)</span>
      <span class="staexp"><span class="keyword">(</span>s2expopt <span class="comment">(*element type*)</span><span class="keyword">,</span> d2explst <span class="comment">(*elements*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Earrsub <span class="keyword">of</span> <span class="comment">(* array subscription *)</span>
      <span class="staexp"><span class="keyword">(</span>d2sym <span class="comment">(*[] overloading*)</span><span class="keyword">,</span> d2exp<span class="keyword">,</span> loc_t<span class="comment">(*ind*)</span><span class="keyword">,</span> d2explstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eassgn <span class="keyword">of</span> <span class="comment">(* assignment *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="comment">(*left*)</span><span class="keyword">,</span> d2exp<span class="comment">(*right*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Ebool <span class="keyword">of</span> <span class="staexp">bool</span> <span class="comment">(* boolean values *)</span>
  <span class="keyword">|</span> <span class="keyword">{</span><span class="staexp">n<span class="keyword">:</span>nat</span><span class="keyword">}</span> D2Ecaseof <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span> <span class="comment">// dynamic caseof-expression
</span>      int<span class="comment">(*kind*)</span><span class="keyword">,</span> i2nvresstate<span class="keyword">,</span> int n<span class="keyword">,</span> d2explst n<span class="keyword">,</span> c2laulst n
    <span class="keyword">)</span></span> <span class="comment">// end of [D2Ecaseof]
</span>  <span class="keyword">|</span> D2Echar <span class="keyword">of</span> <span class="staexp">char</span> <span class="comment">// dynamic character
</span>  <span class="keyword">|</span> D2Econ <span class="keyword">of</span> <span class="comment">(* dynamic constructor *)</span>
      <span class="staexp"><span class="keyword">(</span>d2con_t<span class="keyword">,</span> s2exparglst<span class="keyword">,</span> int <span class="comment">(*pfarity*)</span><span class="keyword">,</span> d2explst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Ecst <span class="keyword">of</span> <span class="staexp">d2cst_t</span> <span class="comment">// dynamic constant
</span>  <span class="keyword">|</span> D2Ecstsp <span class="keyword">of</span> <span class="staexp">$Syn<span class="keyword">.</span>cstsp</span> <span class="comment">// special dynamic constant
</span>  <span class="keyword">|</span> D2Ecrypt <span class="keyword">of</span> <span class="comment">(* cryption *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="keyword">,</span> d2exp<span class="keyword">)</span></span> <span class="comment">(* 1/-1: encrypt/decrypt *)</span>
  <span class="keyword">|</span> D2Ederef <span class="keyword">of</span> <span class="comment">(* left-value derefence *)</span>
      <span class="staexp">d2exp</span>
  <span class="keyword">|</span> D2Edynload <span class="keyword">of</span> <span class="comment">(* dynamic loading *)</span>
      <span class="staexp">fil_t</span>
  <span class="keyword">|</span> D2Eeffmask <span class="keyword">of</span> <span class="comment">(* effect masking *)</span>
      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>effectlst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eempty <span class="comment">(* empty expression *)</span>
  <span class="keyword">|</span> D2Eexist <span class="keyword">of</span> <span class="comment">(* existential sum *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exparg<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eextval <span class="keyword">of</span> <span class="comment">(* external value *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exp<span class="keyword">,</span> string<span class="comment">(*code*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Efix <span class="keyword">of</span> <span class="comment">// dynamic fixed-point expression
</span>      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*knd: 0/1: flat/boxed*)</span><span class="keyword">,</span> d2var_t<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Efloat <span class="keyword">of</span> <span class="comment">(* dynamic float constant *)</span>
      <span class="staexp">string</span>
  <span class="keyword">|</span> D2Efloatsp <span class="keyword">of</span> <span class="comment">(* dynamic specified float constant *)</span>
      <span class="staexp">string</span>
  <span class="keyword">|</span> D2Efoldat <span class="keyword">of</span> <span class="comment">(* folding at a given address *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exparglst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Efor <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span> <span class="comment">// for-loop
</span>      loopi2nv<span class="keyword">,</span> d2exp<span class="comment">(*ini*)</span><span class="keyword">,</span> d2exp<span class="comment">(*test*)</span><span class="keyword">,</span> d2exp<span class="comment">(*post*)</span><span class="keyword">,</span> d2exp<span class="comment">(*body*)</span>
    <span class="keyword">)</span></span> <span class="comment">// end of [D2Efor]
</span>  <span class="keyword">|</span> D2Efreeat <span class="keyword">of</span> <span class="comment">(* freeing at a given address *)</span>
      <span class="staexp"><span class="keyword">(</span>s2exparglst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eif <span class="keyword">of</span> <span class="comment">(* dynamic conditional *)</span>
      <span class="staexp"><span class="keyword">(</span>i2nvresstate<span class="keyword">,</span> d2exp<span class="keyword">,</span> d2exp<span class="keyword">,</span> d2expopt<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eint <span class="keyword">of</span> <span class="comment">(* dynamic integer constant *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> intinf_t<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eintsp <span class="keyword">of</span> <span class="comment">(* dynamic specified integer constant *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> intinf_t<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Elam_dyn <span class="keyword">of</span> <span class="comment">(* dynamic abstraction: boxed *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*lin*)</span><span class="keyword">,</span> int<span class="comment">(*npf*)</span><span class="keyword">,</span> p2atlst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Elaminit_dyn <span class="keyword">of</span> <span class="comment">(* dynamic abstraction: unboxed *)</span>
      <span class="staexp"><span class="keyword">(</span>int<span class="comment">(*lin*)</span><span class="keyword">,</span> int<span class="comment">(*npf*)</span><span class="keyword">,</span> p2atlst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Elam_met <span class="keyword">of</span> <span class="comment">(* metric abstraction *)</span>
      <span class="staexp"><span class="keyword">(</span>ref d2varlst<span class="keyword">,</span> s2explst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Elam_sta <span class="keyword">of</span> <span class="comment">(* static abstraction *)</span>
      <span class="staexp"><span class="keyword">(</span>s2varlst<span class="keyword">,</span> s2explst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Elazy_delay <span class="keyword">of</span> <span class="comment">(* delayed computation *)</span>
      <span class="staexp">d2exp</span> <span class="comment">(*eval*)</span>
  <span class="keyword">|</span> D2Elazy_vt_delay <span class="keyword">of</span> <span class="comment">(* delayed computation *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp <span class="comment">(*eval*)</span><span class="keyword">,</span> d2exp <span class="comment">(*free*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Elet <span class="keyword">of</span> <span class="comment">(* dynamic let-expression *)</span>
      <span class="staexp"><span class="keyword">(</span>d2eclst<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eloopexn <span class="keyword">of</span> <span class="comment">(* break: 0 and continue: 1 *)</span>
      <span class="staexp">int</span>
  <span class="keyword">|</span> D2Elst <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span> <span class="comment">// list expression
</span>      int<span class="comment">(*lin*)</span><span class="keyword">,</span> s2expopt<span class="comment">(*element type*)</span><span class="keyword">,</span> d2explst<span class="comment">(*elements*)</span>
    <span class="keyword">)</span></span> <span class="comment">// end of [D2Elst]
</span>  <span class="keyword">|</span> D2Emac <span class="keyword">of</span> <span class="comment">(* macro expression *)</span>
      <span class="staexp">d2mac_t</span>
  <span class="keyword">|</span> D2Emacsyn <span class="keyword">of</span> <span class="comment">(* macro encoding *)</span>
      <span class="staexp"><span class="keyword">(</span>$Syn<span class="keyword">.</span>macsynkind<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eptrof <span class="keyword">of</span> <span class="comment">(* taking the address of *)</span>
      <span class="staexp">d2exp</span>
  <span class="keyword">|</span> D2Eraise <span class="keyword">of</span> <span class="comment">(* raised exception *)</span>
      <span class="staexp">d2exp</span>
  <span class="keyword">|</span> D2Erec <span class="keyword">of</span> <span class="comment">(* dynamic record expression *)</span>
      <span class="staexp"><span class="keyword">(</span>int <span class="comment">(*recknd*)</span><span class="keyword">,</span> int<span class="comment">(*npf*)</span><span class="keyword">,</span> labd2explst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Escaseof <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span> <span class="comment">// static caseof-expression
</span>      i2nvresstate<span class="keyword">,</span> s2exp<span class="keyword">,</span> sc2laulst
    <span class="keyword">)</span></span> <span class="comment">// end of [D2Escaseof]
</span>  <span class="keyword">|</span> D2Esel <span class="keyword">of</span> <span class="comment">(* record selection *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="keyword">,</span> d2lablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Eseq <span class="keyword">of</span> <span class="comment">(* dynamic expression sequence *)</span>
      <span class="staexp">d2explst</span>
  <span class="keyword">|</span> D2Esif <span class="keyword">of</span> <span class="comment">(* static conditional *)</span>
      <span class="staexp"><span class="keyword">(</span>i2nvresstate<span class="keyword">,</span> s2exp<span class="keyword">,</span> d2exp<span class="keyword">,</span> d2exp<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Estruct <span class="keyword">of</span> <span class="comment">(* dynamic structure *)</span>
      <span class="staexp">labd2explst</span>
  <span class="keyword">|</span> D2Estring <span class="keyword">of</span> <span class="comment">(* dynamic string *)</span>
      <span class="staexp"><span class="keyword">(</span>string<span class="keyword">,</span> int<span class="comment">(*length*)</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Esym <span class="keyword">of</span> <span class="comment">(* overloaded dynamic symbol *)</span>
      <span class="staexp">d2sym</span>
  <span class="keyword">|</span> D2Etmpid <span class="keyword">of</span> <span class="comment">(* template instantiation *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="keyword">,</span> tmps2explstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Etop <span class="comment">(* uninitiated value *)</span>
  <span class="keyword">|</span> D2Etrywith <span class="keyword">of</span> <span class="comment">(* dynamic trywith expression *)</span>
      <span class="staexp"><span class="keyword">(</span>i2nvresstate<span class="keyword">,</span> d2exp<span class="keyword">,</span> c2laulst 1<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Evar <span class="keyword">of</span> <span class="comment">(* dynamic variable *)</span>
      <span class="staexp">d2var_t</span>
  <span class="keyword">|</span> D2Eviewat <span class="keyword">of</span> <span class="comment">(* taking view at a given address *)</span>
      <span class="staexp">d2exp</span>
  <span class="keyword">|</span> D2Ewhere <span class="keyword">of</span> <span class="comment">(* dynamic where-expression *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="keyword">,</span> d2eclst<span class="keyword">)</span></span>
  <span class="keyword">|</span> D2Ewhile <span class="keyword">of</span> <span class="comment">(* while-loop *)</span>
      <span class="staexp"><span class="keyword">(</span>loopi2nv<span class="keyword">,</span> d2exp<span class="comment">(*test*)</span><span class="keyword">,</span> d2exp<span class="comment">(*body*)</span><span class="keyword">)</span></span>
<span class="comment">// end of [d2exp_node]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="20475"><span class="stacstdec">d2exparg</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> D2EXPARGsta <span class="keyword">of</span> <span class="staexp">s2exparglst</span>
  <span class="keyword">|</span> D2EXPARGdyn <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>loc_t<span class="comment">(*arg*)</span><span class="keyword">,</span> int <span class="comment">(*pfarity*)</span><span class="keyword">,</span> d2explst<span class="keyword">)</span></span>
<span class="comment">// end of [d2exparg]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="20604"><span class="stacstdec">labd2explst</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> LABD2EXPLSTnil
  <span class="keyword">|</span> LABD2EXPLSTcons <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>lab_t<span class="keyword">,</span> d2exp<span class="keyword">,</span> labd2explst<span class="keyword">)</span></span>
<span class="comment">// end of [labd2explst]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="20717"><span class="stacstdec">d2lab_node</span></a></span> <span class="keyword">=</span>
  <span class="keyword">|</span> D2LABlab <span class="keyword">of</span> <span class="staexp">lab_t</span>
  <span class="keyword">|</span> D2LABind <span class="keyword">of</span> <span class="staexp">d2explstlst</span>
<span class="comment">// end of [d2lab_node]
</span>
<span class="keyword">where</span> <span class="staexp"><a name="20810"><span class="stacstdec">d2ec <span class="keyword">=</span> <span class="keyword">'{</span>
  d2ec_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> d2ec_node<span class="keyword">=</span> d2ec_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [d2ec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="20884"><span class="stacstdec">d2eclst <span class="keyword">=</span> List d2ec</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="20909"><span class="stacstdec">d2exp <span class="keyword">=</span> <span class="keyword">'{</span>
  d2exp_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> d2exp_node<span class="keyword">=</span> d2exp_node<span class="keyword">,</span> d2exp_typ<span class="keyword">=</span> s2expopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [d2exp]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="21009"><span class="stacstdec">d2explst <span class="keyword">(</span>n<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> list <span class="keyword">(</span>d2exp<span class="keyword">,</span> n<span class="keyword">)</span></span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="21048"><span class="stacstdec">d2explst <span class="keyword">=</span> <span class="keyword">[</span>n<span class="keyword">:</span>nat<span class="keyword">]</span> d2explst n</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="21082"><span class="stacstdec">d2expopt <span class="keyword">=</span> Option d2exp</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="21110"><span class="stacstdec">d2explstlst <span class="keyword">=</span> List d2explst</span></a></span>
<span class="keyword">and</span> <span class="staexp"><a name="21142"><span class="stacstdec">d2explstopt <span class="keyword">=</span> Option d2explst</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="21198"><span class="stacstdec">d2exparglst <span class="keyword">=</span> List d2exparg</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="21252"><span class="stacstdec">d2lab <span class="keyword">=</span> <span class="keyword">'{</span>
  d2lab_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> d2lab_node<span class="keyword">=</span> d2lab_node
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [d2lab]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="21331"><span class="stacstdec">d2lablst <span class="keyword">=</span> List d2lab</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="21379"><span class="stacstdec">i2nvarg <span class="keyword">=</span> <span class="keyword">'{</span>
  i2nvarg_var<span class="keyword">=</span> d2var_t
<span class="keyword">,</span> i2nvarg_typ<span class="keyword">=</span> s2expopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [i2nvarg]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="21466"><span class="stacstdec">i2nvarglst <span class="keyword">=</span> List i2nvarg</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="21497"><span class="stacstdec">i2nvresstate <span class="keyword">=</span> <span class="keyword">'{</span>
  i2nvresstate_svs<span class="keyword">=</span> s2varlst
<span class="keyword">,</span> i2nvresstate_gua<span class="keyword">=</span> s2explst
<span class="keyword">,</span> i2nvresstate_arg<span class="keyword">=</span> i2nvarglst
<span class="keyword">,</span> i2nvresstate_met<span class="keyword">=</span> s2explstopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [i2nvresstate]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="21668"><span class="stacstdec">loopi2nv <span class="keyword">=</span> <span class="keyword">'{</span>
  loopi2nv_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> loopi2nv_svs<span class="keyword">=</span> s2varlst
<span class="keyword">,</span> loopi2nv_gua<span class="keyword">=</span> s2explst
<span class="keyword">,</span> loopi2nv_met<span class="keyword">=</span> s2explstopt <span class="comment">(* metric *)</span>
<span class="keyword">,</span> loopi2nv_arg<span class="keyword">=</span> i2nvarglst <span class="comment">(* argument *)</span>
<span class="keyword">,</span> loopi2nv_res<span class="keyword">=</span> i2nvresstate <span class="comment">(* result *)</span>
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [loopi2nv]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="21928"><span class="stacstdec">m2atch <span class="keyword">=</span> <span class="keyword">'{</span>
  m2atch_loc<span class="keyword">=</span> loc_t<span class="keyword">,</span> m2atch_exp<span class="keyword">=</span> d2exp<span class="keyword">,</span> m2atch_pat<span class="keyword">=</span> p2atopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [m2atch]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="22026"><span class="stacstdec">m2atchlst <span class="keyword">=</span> List m2atch</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="22076"><span class="stacstdec">c2lau <span class="keyword">(</span>n<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">'{</span>
  c2lau_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> c2lau_pat<span class="keyword">=</span> p2atlst n
<span class="keyword">,</span> c2lau_gua<span class="keyword">=</span> m2atchlst
<span class="keyword">,</span> c2lau_seq<span class="keyword">=</span> int
<span class="keyword">,</span> c2lau_neg<span class="keyword">=</span> int
<span class="keyword">,</span> c2lau_exp<span class="keyword">=</span> d2exp
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [c2lau]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="22238"><span class="stacstdec">c2lau <span class="keyword">=</span> <span class="keyword">[</span>n<span class="keyword">:</span>nat<span class="keyword">]</span> c2lau n</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="22267"><span class="stacstdec">c2laulst <span class="keyword">(</span>n<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> List <span class="keyword">(</span>c2lau n<span class="keyword">)</span></span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="22306"><span class="stacstdec">c2laulst <span class="keyword">=</span> <span class="keyword">[</span>n<span class="keyword">:</span>nat<span class="keyword">]</span> c2laulst n</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="22341"><span class="stacstdec">sc2lau <span class="keyword">=</span> <span class="keyword">'{</span>
  sc2lau_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> sc2lau_pat<span class="keyword">=</span> sp2at
<span class="keyword">,</span> sc2lau_exp<span class="keyword">=</span> d2exp
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [sc2lau]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="22439"><span class="stacstdec">sc2laulst <span class="keyword">=</span> List <span class="keyword">(</span>sc2lau<span class="keyword">)</span></span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="22491"><span class="stacstdec">s2tavar <span class="keyword">=</span> <span class="keyword">'{</span>
  s2tavar_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> s2tavar_var<span class="keyword">=</span> s2var_t
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [s2tavar]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="22575"><span class="stacstdec">s2tavarlst <span class="keyword">=</span> List s2tavar</span></a></span>

<span class="keyword">and</span> <span class="staexp"><a name="22606"><span class="stacstdec">s2aspdec <span class="keyword">=</span> <span class="keyword">'{</span>
  s2aspdec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> s2aspdec_cst<span class="keyword">=</span> s2cst_t
<span class="keyword">,</span> s2aspdec_def<span class="keyword">=</span> s2exp
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [s2aspdec]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="22737"><span class="stacstdec">v2aldec <span class="keyword">=</span> <span class="keyword">'{</span>
  v2aldec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> v2aldec_pat<span class="keyword">=</span> p2at
<span class="keyword">,</span> v2aldec_def<span class="keyword">=</span> d2exp
<span class="keyword">,</span> v2aldec_ann<span class="keyword">=</span> s2expopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [v2aldec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="22863"><span class="stacstdec">v2aldeclst <span class="keyword">=</span> List v2aldec</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="22915"><span class="stacstdec">f2undec <span class="keyword">=</span> <span class="keyword">'{</span>
  f2undec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> f2undec_var<span class="keyword">=</span> d2var_t
<span class="keyword">,</span> f2undec_def<span class="keyword">=</span> d2exp
<span class="keyword">,</span> f2undec_ann<span class="keyword">=</span> s2expopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [f2undec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="23044"><span class="stacstdec">f2undeclst <span class="keyword">=</span> List f2undec</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="23096"><span class="stacstdec">v2ardec <span class="keyword">=</span> <span class="keyword">'{</span>
  v2ardec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> v2ardec_knd<span class="keyword">=</span> int <span class="comment">(* BANG: knd = 1 *)</span>
<span class="keyword">,</span> v2ardec_dvar<span class="keyword">=</span> d2var_t <span class="comment">// dynamic address
</span><span class="keyword">,</span> v2ardec_svar<span class="keyword">=</span> s2var_t <span class="comment">// static address
</span><span class="keyword">,</span> v2ardec_typ<span class="keyword">=</span> s2expopt
<span class="keyword">,</span> v2ardec_wth<span class="keyword">=</span> d2varopt <span class="comment">// proof of @-view
</span><span class="keyword">,</span> v2ardec_ini<span class="keyword">=</span> d2expopt
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [v2ardec]
</span>
<span class="keyword">and</span> <span class="staexp"><a name="23372"><span class="stacstdec">v2ardeclst <span class="keyword">=</span> List v2ardec</span></a></span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">and</span> <span class="staexp"><a name="23424"><span class="stacstdec">i2mpdec <span class="keyword">=</span> <span class="keyword">'{</span>
  i2mpdec_loc<span class="keyword">=</span> loc_t
<span class="keyword">,</span> i2mpdec_loc_id<span class="keyword">=</span> loc_t
<span class="keyword">,</span> i2mpdec_cst<span class="keyword">=</span> d2cst_t
<span class="keyword">,</span> i2mpdec_decarg<span class="keyword">=</span> s2qualst
<span class="keyword">,</span> i2mpdec_tmparg<span class="keyword">=</span> s2explstlst<span class="keyword">,</span> i2mpdec_tmpgua<span class="keyword">=</span> s2explstlst
<span class="keyword">,</span> i2mpdec_def<span class="keyword">=</span> d2exp
<span class="keyword">}</span></span></a></span> <span class="comment">// end of [i2mpdec]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="23660"><span class="dyncstdec">d2cst_def_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2expopt</span></span></a>
<span class="keyword">fun</span> <a name="23701"><span class="dyncstdec">d2cst_def_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">d2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="23780"><span class="stacstdec">macarg</span></a></span> <span class="keyword">=</span>
  MACARGone <span class="keyword">of</span> <span class="staexp">d2var_t</span> <span class="keyword">|</span> <span class="keyword">{</span><span class="staexp">n<span class="keyword">:</span>nat</span><span class="keyword">}</span> MACARGlst <span class="keyword">of</span> <span class="staexp"><span class="keyword">(</span>int n<span class="keyword">,</span> d2varlst n<span class="keyword">)</span></span>
<span class="comment">// end of [macarg]
</span>
<span class="keyword">typedef</span> <span class="staexp"><a name="23883"><span class="stacstdec">macarglst <span class="keyword">(</span>narg<span class="keyword">:</span>int<span class="keyword">)</span> <span class="keyword">=</span> list <span class="keyword">(</span>macarg<span class="keyword">,</span> narg<span class="keyword">)</span></span></a></span>
<span class="keyword">typedef</span> <span class="staexp"><a name="23934"><span class="stacstdec">macarglst <span class="keyword">=</span> <span class="keyword">[</span>narg<span class="keyword">:</span>nat<span class="keyword">]</span> list <span class="keyword">(</span>macarg<span class="keyword">,</span> narg<span class="keyword">)</span></span></a></span>

<span class="keyword">fun</span> <a name="23982"><span class="dyncstdec">d2mac_make <span class="staexp"><span class="keyword">{</span>narg<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>
    _<span class="keyword">:</span> <span class="staexp">loc_t</span>
  <span class="keyword">,</span> name<span class="keyword">:</span> <span class="staexp">sym_t</span>
  <span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span>
  <span class="keyword">,</span> args<span class="keyword">:</span> <span class="staexp">macarglst narg</span>
  <span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">d2exp</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">d2mac_t narg</span></span></a>
<span class="comment">// end of [d2mac_make]
</span>
<span class="keyword">fun</span> <a name="24135"><span class="dyncstdec">d2mac_loc_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">loc_t</span></span></a>
<span class="keyword">fun</span> <a name="24173"><span class="dyncstdec">d2mac_sym_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sym_t</span></span></a>
<span class="keyword">fun</span> <a name="24211"><span class="dyncstdec">d2mac_kind_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int</span></span></a> <span class="comment">(* 1/0: long/short form *)</span>
<span class="keyword">fun</span> <a name="24275"><span class="dyncstdec">d2mac_narg_get <span class="staexp"><span class="keyword">{</span>narg<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t narg</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">int narg</span></span></a>
<span class="keyword">fun</span> <a name="24333"><span class="dyncstdec">d2mac_arglst_get <span class="staexp"><span class="keyword">{</span>narg<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t narg</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">macarglst narg</span></span></a>
<span class="keyword">fun</span> <a name="24399"><span class="dyncstdec">d2mac_def_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="24437"><span class="dyncstdec">d2mac_def_set <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="24484"><span class="dyncstdec">d2mac_stamp_get <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">stamp_t</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24548"><span class="dyncstdec">d2exp_is_raised <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="24585"><span class="dyncstdec">c2lau_is_raised <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">c2lau</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24644"><span class="dyncstdec">d2exp_is_varlamcst <span class="keyword">(</span>d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>
<span class="keyword">fun</span> <a name="24686"><span class="dyncstdec">d2exp_var_cst_is_ptr <span class="keyword">(</span>d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">bool</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24752"><span class="dyncstdec">d2exp_typ_set
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a> <span class="keyword">=</span> "ats_dynexp2_d2exp_typ_set"
<span class="comment">// end of [d2exp_typ_set]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="24880"><span class="dyncstdec">fprint_i2nvarg <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> i2nv<span class="keyword">:</span> <span class="staexp">i2nvarg</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_i2nvarg</span>

<span class="keyword">fun</span> <a name="25015"><span class="dyncstdec">fprint_i2nvarglst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> i2nvs<span class="keyword">:</span> <span class="staexp">i2nvarglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_i2nvarglst</span>

<span class="keyword">fun</span> <a name="25160"><span class="dyncstdec">print_i2nvarglst <span class="keyword">(</span>i2nv<span class="keyword">:</span> <span class="staexp">i2nvarglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_i2nvarglst</span>

<span class="keyword">fun</span> <a name="25244"><span class="dyncstdec">prerr_i2nvarglst <span class="keyword">(</span>i2nv<span class="keyword">:</span> <span class="staexp">i2nvarglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_i2nvarglst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="25349"><span class="dyncstdec">fprint_i2nvresstate <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_i2nvresstate</span>

<span class="keyword">fun</span> <a name="25498"><span class="dyncstdec">print_i2nvresstate <span class="keyword">(</span>res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_i2nvresstate</span>

<span class="keyword">fun</span> <a name="25587"><span class="dyncstdec">prerr_i2nvresstate <span class="keyword">(</span>res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_i2nvresstate</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="25697"><span class="dyncstdec">fprint_d2exp <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2exp</span>

<span class="keyword">fun</span> <a name="25825"><span class="dyncstdec">print_d2exp <span class="keyword">(</span>d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2exp</span>

<span class="keyword">fun</span> <a name="25893"><span class="dyncstdec">prerr_d2exp <span class="keyword">(</span>d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2exp</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="25982"><span class="dyncstdec">fprint_d2explst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2es<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2explst</span>

<span class="keyword">fun</span> <a name="26120"><span class="dyncstdec">print_d2explst <span class="keyword">(</span>d2es<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2explst</span>

<span class="keyword">fun</span> <a name="26198"><span class="dyncstdec">prerr_d2explst <span class="keyword">(</span>d2es<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2explst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="26297"><span class="dyncstdec">fprint_d2explstlst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2ess<span class="keyword">:</span> <span class="staexp">d2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_d2explstlst</span>

<span class="keyword">fun</span> <a name="26445"><span class="dyncstdec">print_d2explstlst <span class="keyword">(</span>d2ess<span class="keyword">:</span> <span class="staexp">d2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_d2explstlst</span>

<span class="keyword">fun</span> <a name="26533"><span class="dyncstdec">prerr_d2explstlst <span class="keyword">(</span>d2ess<span class="keyword">:</span> <span class="staexp">d2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_d2explstlst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="26642"><span class="dyncstdec">fprint_labd2explst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> ld2es<span class="keyword">:</span> <span class="staexp">labd2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> fprint <span class="keyword">with</span> fprint_labd2explst</span>

<span class="keyword">fun</span> <a name="26790"><span class="dyncstdec">print_labd2explst <span class="keyword">(</span>ld2es<span class="keyword">:</span> <span class="staexp">labd2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> print <span class="keyword">with</span> print_labd2explst</span>

<span class="keyword">fun</span> <a name="26878"><span class="dyncstdec">prerr_labd2explst <span class="keyword">(</span>ld2es<span class="keyword">:</span> <span class="staexp">labd2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="neuexp"><span class="keyword">overload</span> prerr <span class="keyword">with</span> prerr_labd2explst</span>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="26987"><span class="dyncstdec">fprint_d2lab <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2l<span class="keyword">:</span> <span class="staexp">d2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27080"><span class="dyncstdec">print_d2lab <span class="keyword">(</span>d2l<span class="keyword">:</span> <span class="staexp">d2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27115"><span class="dyncstdec">prerr_d2lab <span class="keyword">(</span>d2l<span class="keyword">:</span> <span class="staexp">d2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="27151"><span class="dyncstdec">fprint_d2lablst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2ls<span class="keyword">:</span> <span class="staexp">d2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27251"><span class="dyncstdec">print_d2lablst <span class="keyword">(</span>d2ls<span class="keyword">:</span> <span class="staexp">d2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27293"><span class="dyncstdec">prerr_d2lablst <span class="keyword">(</span>d2ls<span class="keyword">:</span> <span class="staexp">d2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="27357"><span class="dyncstdec">fprint_d2exparg <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2a<span class="keyword">:</span> <span class="staexp">d2exparg</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27456"><span class="dyncstdec">print_d2exparg <span class="keyword">(</span>d2a<span class="keyword">:</span> <span class="staexp">d2exparg</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27497"><span class="dyncstdec">prerr_d2exparg <span class="keyword">(</span>d2a<span class="keyword">:</span> <span class="staexp">d2exparg</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="keyword">fun</span> <a name="27539"><span class="dyncstdec">fprint_d2exparglst <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> d2as<span class="keyword">:</span> <span class="staexp">d2exparglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27645"><span class="dyncstdec">print_d2exparglst <span class="keyword">(</span>d2as<span class="keyword">:</span> <span class="staexp">d2exparglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="27693"><span class="dyncstdec">prerr_d2exparglst <span class="keyword">(</span>d2as<span class="keyword">:</span> <span class="staexp">d2exparglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="27763"><span class="dyncstdec">d2exp_ann_type <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="27820"><span class="dyncstdec">d2exp_ann_seff <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2eff</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="27877"><span class="dyncstdec">d2exp_ann_funclo <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>funclo</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="27947"><span class="dyncstdec">d2exp_app_sta <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _fun<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28019"><span class="dyncstdec">d2exp_app_dyn
  <span class="keyword">(</span>loc<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _fun<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> loc_arg<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28118"><span class="dyncstdec">d2exp_app_sta_dyn
  <span class="keyword">(</span>loc_dap<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> loc_sap<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span>
   _fun<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _sarg<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">,</span>
   loc_arg<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _darg<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28268"><span class="dyncstdec">d2exp_apps <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _fun<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _arg<span class="keyword">:</span> <span class="staexp">d2exparglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="28355"><span class="dyncstdec">d2exp_arrinit
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> eltyp<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> asz<span class="keyword">:</span> <span class="staexp">d2expopt</span><span class="keyword">,</span> elts<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28439"><span class="dyncstdec">d2exp_arrsize <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> eltyp<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">,</span> elts<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28509"><span class="dyncstdec">d2exp_arrsub
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2s<span class="keyword">:</span> <span class="staexp">d2sym</span><span class="keyword">,</span> arr<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> ind<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ind<span class="keyword">:</span> <span class="staexp">d2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="28622"><span class="dyncstdec">d2exp_assgn <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _lval<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _val<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28684"><span class="dyncstdec">d2exp_bool <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">bool</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28727"><span class="dyncstdec">d2exp_caseof <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span>
   casknd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span>
   res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">,</span>
   n<span class="keyword">:</span> <span class="staexp">int n</span><span class="keyword">,</span> d2es<span class="keyword">:</span> <span class="staexp">d2explst n</span><span class="keyword">,</span>
   c2ls<span class="keyword">:</span> <span class="staexp">c2laulst n</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28863"><span class="dyncstdec">d2exp_char <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="28906"><span class="dyncstdec">d2exp_con
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2con_t</span><span class="keyword">,</span> sarg<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> darg<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29003"><span class="dyncstdec">d2exp_cst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2c<span class="keyword">:</span> <span class="staexp">d2cst_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29049"><span class="dyncstdec">d2exp_cstsp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>cstsp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29099"><span class="dyncstdec">d2exp_crypt <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29153"><span class="dyncstdec">d2exp_deref <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29197"><span class="dyncstdec">d2exp_dynload <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">fil_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29243"><span class="dyncstdec">d2exp_effmask <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> effs<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>effectlst</span><span class="keyword">,</span> d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29313"><span class="dyncstdec">d2exp_empty <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29347"><span class="dyncstdec">d2exp_exist <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2a<span class="keyword">:</span> <span class="staexp">s2exparg</span><span class="keyword">,</span> d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29408"><span class="dyncstdec">d2exp_extval <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> type<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> code<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29471"><span class="dyncstdec">d2exp_fix <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _fun<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29543"><span class="dyncstdec">d2exp_float <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="29588"><span class="dyncstdec">d2exp_floatsp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29636"><span class="dyncstdec">d2exp_foldat <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29698"><span class="dyncstdec">d2exp_for
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> inv<span class="keyword">:</span> <span class="staexp">loopi2nv</span><span class="keyword">,</span> ini<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> test<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> post<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29802"><span class="dyncstdec">d2exp_freeat <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2exparglst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29864"><span class="dyncstdec">d2exp_if
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">,</span> _cond<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _then<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _else<span class="keyword">:</span> <span class="staexp">d2expopt</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="29965"><span class="dyncstdec">d2exp_int <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> int<span class="keyword">:</span> <span class="staexp">intinf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="30025"><span class="dyncstdec">d2exp_intsp <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> str<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> int<span class="keyword">:</span> <span class="staexp">intinf_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>


<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="30110"><span class="dyncstdec">d2exp_lam_dyn
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> arg<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="30195"><span class="dyncstdec">d2exp_laminit_dyn
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> arg<span class="keyword">:</span> <span class="staexp">p2atlst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="30306"><span class="dyncstdec">d2exp_lam_met
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> r<span class="keyword">:</span> <span class="staexp">ref d2varlst</span><span class="keyword">,</span> met<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="30390"><span class="dyncstdec">d2exp_lam_met_new <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> met<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="30459"><span class="dyncstdec">d2exp_lam_sta
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="30537"><span class="dyncstdec">d2exp_lam_sta_para
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="30624"><span class="dyncstdec">d2exp_lazy_delay <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="30673"><span class="dyncstdec">d2exp_lazy_vt_delay <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="comment">//
</span>
<span class="keyword">fun</span> <a name="30740"><span class="dyncstdec">d2exp_let <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2eclst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="30795"><span class="dyncstdec">d2exp_loopexn <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> kind<span class="keyword">:</span> <span class="staexp">int</span> <span class="comment">(*break/continue*)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="30862"><span class="dyncstdec">d2exp_lst <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> lin<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> elt<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">,</span> elts<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="30936"><span class="dyncstdec">d2exp_mac <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2m<span class="keyword">:</span> <span class="staexp">d2mac_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="30983"><span class="dyncstdec">d2exp_macsyn <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>macsynkind</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="31051"><span class="dyncstdec">d2exp_ptrof <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="31096"><span class="dyncstdec">d2exp_raise <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="31141"><span class="dyncstdec">d2exp_rec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> kind<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">labd2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="31211"><span class="dyncstdec">d2exp_scaseof
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">,</span> s2e<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">,</span> sc2ls<span class="keyword">:</span> <span class="staexp">sc2laulst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="31299"><span class="dyncstdec">d2exp_sel <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> root<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> path<span class="keyword">:</span> <span class="staexp">d2lablst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31360"><span class="dyncstdec">d2exp_sel_ptr <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> root<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> lab<span class="keyword">:</span> <span class="staexp">d2lab</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="31422"><span class="dyncstdec">d2exp_seq <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="keyword">fun</span> <a name="31468"><span class="dyncstdec">d2exp_sif <span class="keyword">(</span>
    _<span class="keyword">:</span> <span class="staexp">loc_t</span>
  <span class="keyword">,</span> res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span>
  <span class="keyword">,</span> _cond<span class="keyword">:</span> <span class="staexp">s2exp</span>
  <span class="keyword">,</span> _then<span class="keyword">:</span> <span class="staexp">d2exp</span>
  <span class="keyword">,</span> _else<span class="keyword">:</span> <span class="staexp">d2exp</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="comment">// end of [d2exp_sif]
</span>
<span class="keyword">fun</span> <a name="31605"><span class="dyncstdec">d2exp_string <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31659"><span class="dyncstdec">d2exp_struct <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">labd2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31710"><span class="dyncstdec">d2exp_sym <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2s<span class="keyword">:</span> <span class="staexp">d2sym</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31754"><span class="dyncstdec">d2exp_tmpid <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">tmps2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31817"><span class="dyncstdec">d2exp_top <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31849"><span class="dyncstdec">d2exp_trywith <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">c2laulst 1</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31927"><span class="dyncstdec">d2exp_tup <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> kind<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> npf<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2explst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="31993"><span class="dyncstdec">d2exp_var <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2v<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="32039"><span class="dyncstdec">d2exp_viewat <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2e<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="32086"><span class="dyncstdec">d2exp_where <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2eclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>
<span class="keyword">fun</span> <a name="32142"><span class="dyncstdec">d2exp_while <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">loopi2nv</span><span class="keyword">,</span> test<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2exp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="32237"><span class="dyncstdec">d2lab_lab <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> lab<span class="keyword">:</span> <span class="staexp">lab_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2lab</span></span></a>
<span class="keyword">fun</span> <a name="32281"><span class="dyncstdec">d2lab_ind <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ind<span class="keyword">:</span> <span class="staexp">d2explstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2lab</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="32353"><span class="dyncstdec">i2nvarg_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">i2nvarg</span></span></a>

<span class="keyword">val</span> <a name="32406"><span class="dyncstdec">i2nvresstate_nil <span class="keyword">:</span> <span class="staexp">i2nvresstate</span></span></a>

<span class="keyword">fun</span> <a name="32443"><span class="dyncstdec">i2nvresstate_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">i2nvarglst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">i2nvresstate</span></span></a>
<span class="keyword">fun</span> <a name="32523"><span class="dyncstdec">i2nvresstate_make_met
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">i2nvarglst</span><span class="keyword">,</span> met<span class="keyword">:</span> <span class="staexp">s2explstopt</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">i2nvresstate</span></span></a>

<span class="keyword">fun</span> <a name="32629"><span class="dyncstdec">i2nvresstate_update <span class="keyword">(</span>res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">i2nvresstate</span></span></a>

<span class="comment">(* ****** ****** *)</span>


<span class="keyword">fun</span> <a name="32710"><span class="dyncstdec">loopi2nv_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span>
   svs<span class="keyword">:</span> <span class="staexp">s2varlst</span><span class="keyword">,</span>
   gua<span class="keyword">:</span> <span class="staexp">s2explst</span><span class="keyword">,</span>
   met<span class="keyword">:</span> <span class="staexp">s2explstopt</span><span class="keyword">,</span>
   arg<span class="keyword">:</span> <span class="staexp">i2nvarglst</span><span class="keyword">,</span>
   res<span class="keyword">:</span> <span class="staexp">i2nvresstate</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">loopi2nv</span></span></a>

<span class="keyword">fun</span> <a name="32854"><span class="dyncstdec">loopi2nv_update <span class="keyword">(</span>i2nv<span class="keyword">:</span> <span class="staexp">loopi2nv</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">loopi2nv</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="32923"><span class="dyncstdec">m2atch_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2atopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">m2atch</span></span></a>

<span class="keyword">fun</span> <a name="32981"><span class="dyncstdec">c2lau_make <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span>
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2atlst n</span><span class="keyword">,</span> gua<span class="keyword">:</span> <span class="staexp">m2atchlst</span><span class="keyword">,</span> seq<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> neg<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> exp<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span>
  <span class="keyword">:</span> <span class="staexp">c2lau n</span></span></a>

<span class="keyword">fun</span> <a name="33092"><span class="dyncstdec">sc2lau_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> sp2t<span class="keyword">:</span> <span class="staexp">sp2at</span><span class="keyword">,</span> exp<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">sc2lau</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="33174"><span class="dyncstdec">s2tavar_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2v<span class="keyword">:</span> <span class="staexp">s2var_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2tavar</span></span></a>
<span class="keyword">fun</span> <a name="33225"><span class="dyncstdec">s2aspdec_make <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> s2c<span class="keyword">:</span> <span class="staexp">s2cst_t</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2aspdec</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="33312"><span class="dyncstdec">v2aldec_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> ann<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">v2aldec</span></span></a>
<span class="comment">// end of [v2aldec_make]
</span>
<span class="keyword">fun</span> <a name="33413"><span class="dyncstdec">f2undec_make
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">,</span> ann<span class="keyword">:</span> <span class="staexp">s2expopt</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">f2undec</span></span></a>
<span class="comment">// end of [f2undec_make]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="33538"><span class="dyncstdec">v2ardec_make <span class="keyword">(</span>
    _<span class="keyword">:</span> <span class="staexp">loc_t</span>
  <span class="keyword">,</span> knd<span class="keyword">:</span> <span class="staexp">int</span>
  <span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2var_t</span>
  <span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">s2var_t</span>
  <span class="keyword">,</span> typ<span class="keyword">:</span> <span class="staexp">s2expopt</span>
  <span class="keyword">,</span> wth<span class="keyword">:</span> <span class="staexp">d2varopt</span>
  <span class="keyword">,</span> ini<span class="keyword">:</span> <span class="staexp">d2expopt</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">v2ardec</span></span></a>

<span class="keyword">fun</span> <a name="33682"><span class="dyncstdec">i2mpdec_make <span class="keyword">(</span>
    loc<span class="keyword">:</span> <span class="staexp">loc_t</span>
  <span class="keyword">,</span> loc_id<span class="keyword">:</span> <span class="staexp">loc_t</span>
  <span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2cst_t</span>
  <span class="keyword">,</span> decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span>
  <span class="keyword">,</span> tmparg<span class="keyword">:</span> <span class="staexp">s2explstlst</span><span class="keyword">,</span> tmpgua<span class="keyword">:</span> <span class="staexp">s2explstlst</span>
  <span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">d2exp</span>
  <span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">i2mpdec</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="keyword">fun</span> <a name="33866"><span class="dyncstdec">d2ec_none <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="33897"><span class="dyncstdec">d2ec_list <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2cs<span class="keyword">:</span> <span class="staexp">d2eclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="33943"><span class="dyncstdec">d2ec_include <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d2cs<span class="keyword">:</span> <span class="staexp">d2eclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="33992"><span class="dyncstdec">d2ec_symintr <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ids<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>i0delst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34045"><span class="dyncstdec">d2ec_symelim <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ids<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>i0delst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34098"><span class="dyncstdec">d2ec_stavars <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">s2tavarlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34148"><span class="dyncstdec">d2ec_saspdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">s2aspdec</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34195"><span class="dyncstdec">d2ec_dcstdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>dcstkind</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">d2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34261"><span class="dyncstdec">d2ec_datdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> k<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>datakind</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">s2cstlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34326"><span class="dyncstdec">d2ec_overload <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> id<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>i0de</span><span class="keyword">,</span> d2i<span class="keyword">:</span> <span class="staexp">d2item</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34389"><span class="dyncstdec">d2ec_exndec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> con<span class="keyword">:</span> <span class="staexp">d2conlst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34437"><span class="dyncstdec">d2ec_extype <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">s2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34496"><span class="dyncstdec">d2ec_extval <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> name<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">,</span> def<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34555"><span class="dyncstdec">d2ec_extcode <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> position<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> code<span class="keyword">:</span> <span class="staexp">string</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34618"><span class="dyncstdec">d2ec_valdecs <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>valkind</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">v2aldeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34685"><span class="dyncstdec">d2ec_valdecs_par <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">v2aldeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="34739"><span class="dyncstdec">d2ec_valdecs_rec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">v2aldeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>

<span class="keyword">fun</span> <a name="34794"><span class="dyncstdec">d2ec_fundecs
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> decarg<span class="keyword">:</span> <span class="staexp">s2qualst</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">$Syn<span class="keyword">.</span>funkind</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">f2undeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>

<span class="keyword">fun</span> <a name="34882"><span class="dyncstdec">d2ec_vardecs <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> ds<span class="keyword">:</span> <span class="staexp">v2ardeclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>

<span class="keyword">fun</span> <a name="34933"><span class="dyncstdec">d2ec_impdec <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> d<span class="keyword">:</span> <span class="staexp">i2mpdec</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>

<span class="keyword">fun</span> <a name="34979"><span class="dyncstdec">d2ec_local <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> head<span class="keyword">:</span> <span class="staexp">d2eclst</span><span class="keyword">,</span> body<span class="keyword">:</span> <span class="staexp">d2eclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>

<span class="keyword">fun</span> <a name="35042"><span class="dyncstdec">d2ec_dynload <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">fil_t</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="keyword">fun</span> <a name="35086"><span class="dyncstdec">d2ec_staload
  <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">loc_t</span><span class="keyword">,</span> qua<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">fil_t</span><span class="keyword">,</span> loaded<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> loadflag<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">,</span> _<span class="keyword">:</span> <span class="staexp">d2eclst</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">d2ec</span></span></a>
<span class="comment">// end of [d2ec_staload]
</span>
<span class="comment">(* ****** ****** *)</span>

<span class="keyword">datatype</span> <span class="staexp"><a name="35234"><span class="stacstdec">l2val</span></a></span> <span class="keyword">=</span> <span class="comment">// type for left-values
</span>  <span class="keyword">|</span> L2VALarrsub <span class="keyword">of</span> <span class="comment">(* array subscription *)</span>
      <span class="staexp"><span class="keyword">(</span>d2sym <span class="comment">(*brackets*)</span><span class="keyword">,</span> d2exp<span class="keyword">,</span> loc_t<span class="comment">(*ind*)</span><span class="keyword">,</span> d2explstlst<span class="keyword">)</span></span>
  <span class="keyword">|</span> L2VALptr <span class="keyword">of</span> <span class="comment">(* pointer path selection *)</span>
      <span class="staexp"><span class="keyword">(</span>d2exp<span class="comment">(*pointer*)</span><span class="keyword">,</span> d2lablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> L2VALvar_lin <span class="keyword">of</span> <span class="comment">(* variable path selection *)</span>
      <span class="staexp"><span class="keyword">(</span>d2var_t<span class="keyword">,</span> d2lablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> L2VALvar_mut <span class="keyword">of</span> <span class="comment">(* variable path selection *)</span>
      <span class="staexp"><span class="keyword">(</span>d2var_t<span class="keyword">,</span> d2lablst<span class="keyword">)</span></span>
  <span class="keyword">|</span> L2VALnone <span class="keyword">of</span> <span class="staexp">d2exp</span> <span class="comment">(* non-left-values *)</span>
<span class="comment">// end of [l2val]
</span>
<span class="keyword">fun</span> <a name="35671"><span class="dyncstdec">l2val_make_d2exp <span class="keyword">(</span>d2e0<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">l2val</span></span></a>

<span class="keyword">fun</span> <a name="35714"><span class="dyncstdec">fprint_l2val <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>file_mode<span class="keyword">}</span></span>
  <span class="keyword">(</span><span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">file_mode_lte <span class="keyword">(</span>m<span class="keyword">,</span> w<span class="keyword">)</span></span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">&amp;</span>FILE m</span><span class="keyword">,</span> l2v<span class="keyword">:</span> <span class="staexp">l2val</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="35807"><span class="dyncstdec">print_l2val <span class="keyword">(</span>l2v<span class="keyword">:</span> <span class="staexp">l2val</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>
<span class="keyword">fun</span> <a name="35842"><span class="dyncstdec">prerr_l2val <span class="keyword">(</span>l2v<span class="keyword">:</span> <span class="staexp">l2val</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(*
** implemented in [ats_trans3_exp_up.dats]
*)</span>
<span class="keyword">fun</span> <a name="35948"><span class="dyncstdec">p2at_typ_syn <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">p2at</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>
<span class="keyword">fun</span> <a name="35982"><span class="dyncstdec">p2atlst_typ_syn <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>nat<span class="keyword">}</span></span> <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">p2atlst n</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2explst n</span></span></a>
<span class="keyword">fun</span> <a name="36037"><span class="dyncstdec">d2exp_typ_syn <span class="keyword">(</span>_<span class="keyword">:</span> <span class="staexp">d2exp</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">s2exp</span></span></a>

<span class="comment">(* ****** ****** *)</span>

<span class="comment">(* end of [ats_dynexp2.sats] *)</span>
</pre>
</body>
</html>
