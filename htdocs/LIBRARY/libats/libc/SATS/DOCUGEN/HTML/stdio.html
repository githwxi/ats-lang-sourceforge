
<!DOCTYPE html>
<html>
<head>
<title>ATSLIB/libc/stdio</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<style type="text/css">
  .patsyntax {color:#808080;background-color:#E0E0E0;}
  .patsyntaxkeyword {color:#000000;font-weight:bold;}
  .patsyntaxcomment {color:#787878;font-style:italic;}
  .patsyntaxextcode {color:#A52A2A;}
  .patsyntaxneuexp  {color:#800080;}
  .patsyntaxstaexp  {color:#0000F0;}
  .patsyntaxprfexp  {color:#603030;}
  .patsyntaxdynexp  {color:#F00000;}
  .patsyntaxstalab  {color:#0000F0;font-style:italic}
  .patsyntaxdynlab  {color:#F00000;font-style:italic}
  .patsyntaxdynstr  {color:#008000;font-style:normal}
  .patsyntaxstacstdec  {text-decoration:none;}
  .patsyntaxstacstuse  {color:#0000CF;text-decoration:underline;}
  .patsyntaxdyncstdec  {text-decoration:none;}
  .patsyntaxdyncstuse  {color:#B80000;text-decoration:underline;}
  .patsyntaxdyncst_implement  {color:#B80000;text-decoration:underline;}
  .patsyntax span.keyword {color:#000000;font-weight:bold;}
  .patsyntax span.comment {color:#787878;font-style:italic;}
  .patsyntax span.extcode {color:#A52A2A;}
  .patsyntax span.neuexp  {color:#800080;}
  .patsyntax span.staexp  {color:#0000F0;}
  .patsyntax span.prfexp  {color:#603030;}
  .patsyntax span.dynexp  {color:#F00000;}
  .patsyntax span.stalab  {color:#0000F0;font-style:italic}
  .patsyntax span.dynlab  {color:#F00000;font-style:italic}
  .patsyntax span.dynstr  {color:#008000;font-style:normal}
  .patsyntax span.stacstdec  {text-decoration:none;}
  .patsyntax span.stacstuse  {color:#0000CF;text-decoration:underline;}
  .patsyntax span.dyncstdec  {text-decoration:none;}
  .patsyntax span.dyncstuse  {color:#B80000;text-decoration:underline;}
  .patsyntax span.dyncst_implement  {color:#B80000;text-decoration:underline;}
</style>

<script
type="text/javascript"
src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"
></script>

<script
type="text/javascript"
src="http://www.ats-lang.org/scripts/patscode_tryit_bind_all.js"
></script>

</head>
<body>

<h1>ATSLIB/libc/stdio</h1>


The functions declared in this package are mostly the API for the
corresponding libc-functions declared in [stdio.h], and many more details
on these functions can often be found in the Linux Programmer's manual.
See <a href="http://ats-lang.sourceforge.net/DOCUMENT/ATS-Postiats/libc/SATS/stdio.sats">stdio.sats</a> for the SATS
file in ATSLIB where these functions are declared.



<hr style="background-color: #E0E0E0; height: 2px;"></hr>

<menu>
<li><a href="#FILE_v">FILE_v</a></li>
<li><a href="#FILEptr">FILEptr</a></li>
<li><a href="#FILEptr0">FILEptr0</a></li>
<li><a href="#FILEptr1">FILEptr1</a></li>
<li><a href="#FILEptr2ptr">FILEptr2ptr</a></li>
<li><a href="#FILEptr_encode">FILEptr_encode</a></li>
<li><a href="#FILEptr_decode">FILEptr_decode</a></li>
<li><a href="#FILEptr_free_null">FILEptr_free_null</a></li>
<li><a href="#FILEptr_refize">FILEptr_refize</a></li>
<li><a href="#FILEref_vttakeout">FILEref_vttakeout</a></li>
<li><a href="#fopen">fopen</a></li>
<li><a href="#fopen_exn">fopen_exn</a></li>
<li><a href="#fopen_ref_exn">fopen_ref_exn</a></li>
<li><a href="#fclose">fclose</a></li>
<li><a href="#fclose0">fclose0</a></li>
<li><a href="#fclose1">fclose1</a></li>
<li><a href="#fclose_exn">fclose_exn</a></li>
<li><a href="#fclose0_exn">fclose0_exn</a></li>
<li><a href="#fclose1_exn">fclose1_exn</a></li>
<li><a href="#freopen">freopen</a></li>
<li><a href="#freopen0">freopen0</a></li>
<li><a href="#freopen1">freopen1</a></li>
<li><a href="#freopen_exn">freopen_exn</a></li>
<li><a href="#freopen0_exn">freopen0_exn</a></li>
<li><a href="#fileno">fileno</a></li>
<li><a href="#fileno0">fileno0</a></li>
<li><a href="#fileno1">fileno1</a></li>
<li><a href="#fdopen">fdopen</a></li>
<li><a href="#fdopen_v">fdopen_v</a></li>
<li><a href="#fdopen_exn">fdopen_exn</a></li>
<li><a href="#feof">feof</a></li>
<li><a href="#feof0">feof0</a></li>
<li><a href="#feof1">feof1</a></li>
<li><a href="#ferror">ferror</a></li>
<li><a href="#ferror0">ferror0</a></li>
<li><a href="#ferror1">ferror1</a></li>
<li><a href="#clearerr">clearerr</a></li>
<li><a href="#clearerr0">clearerr0</a></li>
<li><a href="#clearerr1">clearerr1</a></li>
<li><a href="#fflush">fflush</a></li>
<li><a href="#fflush0">fflush0</a></li>
<li><a href="#fflush1">fflush1</a></li>
<li><a href="#fflush_exn">fflush_exn</a></li>
<li><a href="#fflush0_exn">fflush0_exn</a></li>
<li><a href="#fgetc">fgetc</a></li>
<li><a href="#fgetc0">fgetc0</a></li>
<li><a href="#fgetc1">fgetc1</a></li>
<li><a href="#getc">getc</a></li>
<li><a href="#getchar0">getchar0</a></li>
<li><a href="#getchar1">getchar1</a></li>
<li><a href="#fgets">fgets</a></li>
<li><a href="#fgets0">fgets0</a></li>
<li><a href="#fgets1">fgets1</a></li>
<li><a href="#fputc">fputc</a></li>
<li><a href="#fputc0_int">fputc0_int</a></li>
<li><a href="#fputc0_char">fputc0_char</a></li>
<li><a href="#fputc1_int">fputc1_int</a></li>
<li><a href="#fputc1_char">fputc1_char</a></li>
<li><a href="#fputc_exn">fputc_exn</a></li>
<li><a href="#fputc0_exn_int">fputc0_exn_int</a></li>
<li><a href="#fputc0_exn_char">fputc0_exn_char</a></li>
<li><a href="#putc">putc</a></li>
<li><a href="#putchar0">putchar0</a></li>
<li><a href="#putchar1">putchar1</a></li>
<li><a href="#fputs">fputs</a></li>
<li><a href="#fputs0">fputs0</a></li>
<li><a href="#fputs1">fputs1</a></li>
<li><a href="#fputs_exn">fputs_exn</a></li>
<li><a href="#fputs0_exn">fputs0_exn</a></li>
<li><a href="#puts">puts</a></li>
<li><a href="#puts_exn">puts_exn</a></li>
<li><a href="#fread">fread</a></li>
<li><a href="#fread0">fread0</a></li>
<li><a href="#fread1">fread1</a></li>
<li><a href="#fread_exn">fread_exn</a></li>
<li><a href="#fread0_exn">fread0_exn</a></li>
<li><a href="#fwrite">fwrite</a></li>
<li><a href="#fwrite0">fwrite0</a></li>
<li><a href="#fwrite1">fwrite1</a></li>
<li><a href="#fwrite_exn">fwrite_exn</a></li>
<li><a href="#fwrite0_exn">fwrite0_exn</a></li>
<li><a href="#fgetpos">fgetpos</a></li>
<li><a href="#fgetpos0">fgetpos0</a></li>
<li><a href="#fgetpos1">fgetpos1</a></li>
<li><a href="#fgetpos_exn">fgetpos_exn</a></li>
<li><a href="#fgetpos0_exn">fgetpos0_exn</a></li>
<li><a href="#fsetpos">fsetpos</a></li>
<li><a href="#fsetpos0">fsetpos0</a></li>
<li><a href="#fsetpos1">fsetpos1</a></li>
<li><a href="#fsetpos_exn">fsetpos_exn</a></li>
<li><a href="#fsetpos0_exn">fsetpos0_exn</a></li>
<li><a href="#fseek">fseek</a></li>
<li><a href="#fseek0">fseek0</a></li>
<li><a href="#fseek1">fseek1</a></li>
<li><a href="#fseek_exn">fseek_exn</a></li>
<li><a href="#fseek0_exn">fseek0_exn</a></li>
<li><a href="#ftell">ftell</a></li>
<li><a href="#ftell0">ftell0</a></li>
<li><a href="#ftell1">ftell1</a></li>
<li><a href="#ftell_exn">ftell_exn</a></li>
<li><a href="#ftell0_exn">ftell0_exn</a></li>
<li><a href="#perror">perror</a></li>
<li><a href="#remove">remove</a></li>
<li><a href="#remove_exn">remove_exn</a></li>
<li><a href="#rename">rename</a></li>
<li><a href="#rename_exn">rename_exn</a></li>
<li><a href="#rewind">rewind</a></li>
<li><a href="#rewind0">rewind0</a></li>
<li><a href="#rewind1">rewind1</a></li>
<li><a href="#tmpfile">tmpfile</a></li>
<li><a href="#tmpfile_exn">tmpfile_exn</a></li>
<li><a href="#tmpfile_ref_exn">tmpfile_ref_exn</a></li>
<li><a href="#ungetc">ungetc</a></li>
<li><a href="#ungetc0">ungetc0</a></li>
<li><a href="#ungetc1">ungetc1</a></li>
<li><a href="#ungetc_exn">ungetc_exn</a></li>
<li><a href="#ungetc0_exn">ungetc0_exn</a></li>
<li><a href="#bufmode_t">bufmode_t</a></li>
<li><a href="#_IOFBF">_IOFBF</a></li>
<li><a href="#_IOLBF">_IOLBF</a></li>
<li><a href="#_IONBF">_IONBF</a></li>
<li><a href="#setbuf_null">setbuf_null</a></li>
<li><a href="#setbuf0_null">setbuf0_null</a></li>
<li><a href="#setbuf1_null">setbuf1_null</a></li>
<li><a href="#setbuffer">setbuffer</a></li>
<li><a href="#setbuffer0">setbuffer0</a></li>
<li><a href="#setbuffer1">setbuffer1</a></li>
<li><a href="#setlinebuf">setlinebuf</a></li>
<li><a href="#setlinebuf0">setlinebuf0</a></li>
<li><a href="#setlinebuf1">setlinebuf1</a></li>
<li><a href="#setvbuf">setvbuf</a></li>
<li><a href="#setvbuf0">setvbuf0</a></li>
<li><a href="#setvbuf1">setvbuf1</a></li>
</menu>

<hr style="background-color: #E0E0E0; height: 2px;"></hr>

<h2><a id="FILE_v">FILE_v</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="keyword">viewdef</span>
<span class="staexp">FILE_v <span class="keyword">(</span><span class="staexp">l<span class="keyword">:</span>addr</span><span class="keyword">,</span> <span class="staexp">m<span class="keyword">:</span>fm</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="staexp">FILE_view</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr">FILEptr</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax"><span class="staexp"><span class="keyword">absvtype</span>
FILEptr_viewtype <span class="keyword">(</span>addr<span class="keyword">,</span> file_mode<span class="keyword">)</span> <span class="keyword">=</span> ptr</span>
<span class="keyword">vtypedef</span>
<span class="staexp">FILEptr <span class="keyword">(</span><span class="staexp">l<span class="keyword">:</span>addr</span><span class="keyword">,</span> <span class="staexp">fm<span class="keyword">:</span>file_mode</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="staexp">FILEptr_viewtype</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">fm</span><span class="keyword">)</span></span>
</pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr0">FILEptr0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="keyword">vtypedef</span>
<span class="staexp">FILEptr0 <span class="keyword">(</span><span class="staexp">m<span class="keyword">:</span>fm</span><span class="keyword">)</span> <span class="keyword">=</span>
  <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>addr <span class="keyword">|</span> l &gt;= null<span class="keyword">]</span></span> <span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr1">FILEptr1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax"><span class="keyword">vtypedef</span> <span class="staexp">FILEptr1 <span class="keyword">(</span><span class="staexp">m<span class="keyword">:</span>fm</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>agz<span class="keyword">]</span></span> <span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span></span>
<span class="keyword">vtypedef</span> <span class="staexp">FILEptr1 <span class="comment">(*none*)</span> <span class="keyword">=</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>agz<span class="keyword">;</span>m<span class="keyword">:</span>fm<span class="keyword">]</span></span> <span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span></span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr2ptr">FILEptr2ptr</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">castfn</span>
FILEptr2ptr
  <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>addr<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span><span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">ptr</span><span class="keyword">(</span><span class="staexp">l</span><span class="keyword">)</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr_encode">FILEptr_encode</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">castfn</span>
FILEptr_encode
  <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>addr<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span> <span class="keyword">(</span>
  <span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">FILE_v</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span></span> <span class="keyword">|</span> p<span class="keyword">:</span> <span class="staexp">ptr</span> <span class="staexp">l</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr_decode">FILEptr_decode</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">castfn</span>
FILEptr_decode
  <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>agz<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span> <span class="keyword">(</span>
  p<span class="keyword">:</span> <span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="keyword">(</span><span class="staexp">FILE_v</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span> <span class="keyword">|</span> <span class="staexp">ptr</span> <span class="staexp">l</span><span class="keyword">)</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr_free_null">FILEptr_free_null</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="prfexp"><span class="keyword">praxi</span>
FILEptr_free_null
  <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>alez<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span> <span class="keyword">(</span>p<span class="keyword">:</span> <span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="staexp">prf</span><span class="keyword">&gt;</span> <span class="staexp">void</span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEptr_refize">FILEptr_refize</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">castfn</span>
FILEptr_refize <span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp">FILEptr1</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">FILEref</span></span></pre>
<h3>Description</h3>

This cast function is called to turn a linear FILEptr-value into a
non-linear FILEref-value. <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="FILEref_vttakeout">FILEref_vttakeout</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">castfn</span>
FILEref_vttakeout <span class="comment">// a lock is associated with FILEref-value</span>
  <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span> <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>agz<span class="keyword">]</span></span> <span class="staexp">vttakeout0</span> <span class="keyword">(</span><span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span><span class="keyword">)</span></span></pre>
<h3>Description</h3>

This cast function is called on a FILEref-value filr to get the linear
FILEptr-value of filr for temporary use. <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fopen">fopen</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fopen<span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  path<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> <span class="staexp">fmode</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">FILEptr0</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Example</h3>

The following code opens a file of the name "foo.txt", writes into it the
string "Hello, world!", and then closes it:

<pre class="patsyntax patscode_tryit" name="TRYIT/libats_libc_stdio_0.dats"><span class="comment">//</span>
<span class="keyword">staload</span> "libc/SATS/stdio.sats"
<span class="comment">//</span>
<span class="dynexp"><span class="keyword">implement</span>
main <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
<span class="comment">//</span>
<span class="dynexp"><span class="keyword">val</span> filp <span class="keyword">=</span> fopen <span class="keyword">(</span><span class="dynstr">"foo.txt"</span><span class="keyword">,</span> file_mode_w<span class="keyword">)</span></span>
<span class="comment">//</span>
<span class="keyword">in</span>
<span class="comment">//</span>
<span class="keyword">if</span> FILEptr2ptr<span class="keyword">(</span>filp<span class="keyword">)</span> != <span class="dynexp">0</span> <span class="keyword">then</span> <span class="keyword">let</span>
  <span class="dynexp"><span class="keyword">val</span> _ <span class="keyword">=</span> fputs <span class="keyword">(</span><span class="prfexp">file_mode_lte_w_w</span> <span class="keyword">|</span> <span class="dynstr">"Hello, world!"</span><span class="keyword">,</span> filp<span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> fclose_exn <span class="keyword">(</span>filp<span class="keyword">)</span></span>
<span class="keyword">in</span>
  <span class="dynexp">0</span>
<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">let</span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> perror <span class="keyword">(</span><span class="dynstr">"Can't open file"</span><span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> FILEptr_free_null <span class="keyword">(</span>filp<span class="keyword">)</span></span>
<span class="keyword">in</span>
  <span class="dynexp">1</span>
<span class="keyword">end</span> <span class="comment">// end of [if]</span>
<span class="comment">//</span>
<span class="keyword">end</span></span> <span class="comment">// end of [main]</span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fopen_exn">fopen_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fopen_exn<span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  path<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> <span class="staexp">fmode</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">FILEptr1</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fopen_ref_exn">fopen_ref_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fopen_ref_exn<span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  path<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> <span class="staexp">fmode</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">FILEref</span><span class="comment">(*none*)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fclose">fclose</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fclose <span class="keyword">with</span> fclose0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fclose <span class="keyword">with</span> fclose1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fclose0">fclose0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fclose0
  <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fclose1">fclose1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fclose1
  <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>addr<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">ptr</span> <span class="staexp">l</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span>
  <span class="staexp"><span class="keyword">[</span>i<span class="keyword">:</span>int <span class="keyword">|</span> i &lt;= 0<span class="keyword">]</span></span>
<span class="keyword">(</span>
  <span class="staexp">option_v</span> <span class="keyword">(</span><span class="staexp">FILE_v</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span><span class="keyword">,</span> <span class="staexp">i</span> <span class="staexp"><span class="keyword">&lt;</span></span> <span class="staexp">0</span><span class="keyword">)</span> <span class="keyword">|</span> <span class="staexp">int</span> <span class="staexp">i</span>
<span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span> <span class="comment">// endfun</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fclose_exn">fclose_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fclose_exn <span class="keyword">with</span> fclose0_exn</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fclose_exn <span class="keyword">with</span> fclose1_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fclose0_exn">fclose0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fclose0_exn
  <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fclose1_exn">fclose1_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fclose1_exn
  <span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="freopen">freopen</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> freopen <span class="keyword">with</span> freopen0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> freopen <span class="keyword">with</span> freopen1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="freopen0">freopen0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
freopen0<span class="staexp"><span class="keyword">{</span>m2<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  path<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span>
<span class="keyword">,</span> mode<span class="keyword">:</span> <span class="staexp">fmode</span><span class="keyword">(</span><span class="staexp">m2</span><span class="keyword">)</span><span class="keyword">,</span> filr<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">Ptr0</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>
This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">freopen</span>.<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="freopen1">freopen1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
freopen1
<span class="staexp"><span class="keyword">{</span>m1<span class="keyword">,</span>m2<span class="keyword">:</span>fm<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>l0<span class="keyword">:</span>addr<span class="keyword">}</span></span>
<span class="keyword">(</span>
  path<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span>
<span class="keyword">,</span> mode<span class="keyword">:</span> <span class="staexp">fmode</span><span class="keyword">(</span><span class="staexp">m2</span><span class="keyword">)</span><span class="keyword">,</span> filp<span class="keyword">:</span> <span class="staexp">FILEptr</span><span class="keyword">(</span><span class="staexp">l0</span><span class="keyword">,</span> <span class="staexp">m1</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span>
<span class="staexp"><span class="keyword">[</span>
  l<span class="keyword">:</span>addr <span class="keyword">|</span> l==null || l==l0
<span class="keyword">]</span></span> <span class="keyword">(</span>
  <span class="staexp">option_v</span><span class="keyword">(</span><span class="staexp">FILE_v</span><span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m2</span><span class="keyword">)</span><span class="keyword">,</span> <span class="staexp">l</span> <span class="staexp"><span class="keyword">&gt;</span></span> <span class="staexp">null</span><span class="keyword">)</span> <span class="keyword">|</span> <span class="staexp">ptr</span><span class="keyword">(</span><span class="staexp">l</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span> <span class="comment">// end of [freopen1]</span></pre>
<h3>Description</h3>
This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">freopen</span>.<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="freopen_exn">freopen_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> freopen_exn <span class="keyword">with</span> freopen0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="freopen0_exn">freopen0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
freopen0_exn<span class="staexp"><span class="keyword">{</span>m2<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  path<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> mode<span class="keyword">:</span> <span class="staexp">fmode</span><span class="keyword">(</span><span class="staexp">m2</span><span class="keyword">)</span><span class="keyword">,</span> filr<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span> <span class="comment">// end of [freopen0_exn]</span></pre>
<h3>Description</h3>
This function is a slight variant of <span class="patsyntaxdynexp">freopen0_exn</span>: It exits
immediately if calling <span class="patsyntaxdynexp">freopen</span> leads to an error.  <h3>Example</h3>

The following code creates a file named foo.txt and writes into it the
string "Hello, world!" plus a newline:

<pre class="patsyntax patscode_tryit" name="TRYIT/libats_libc_stdio_1.dats"><span class="comment">//</span>
<span class="keyword">staload</span> "libc/SATS/stdio.sats"
<span class="comment">//</span>
<span class="dynexp"><span class="keyword">implement</span>
main0 <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">where</span>
<span class="keyword">{</span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> freopen0_exn <span class="keyword">(</span><span class="dynstr">"foo.txt"</span><span class="keyword">,</span> file_mode_w<span class="keyword">,</span> stdout_ref<span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> puts_exn <span class="keyword">(</span><span class="dynstr">"Hello, world!"</span><span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> fclose0_exn <span class="keyword">(</span>stdout_ref<span class="keyword">)</span></span>
<span class="keyword">}</span></span> <span class="comment">(* end of [main] *)</span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fileno">fileno</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fileno <span class="keyword">with</span> fileno0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fileno <span class="keyword">with</span> fileno1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fileno0">fileno0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fileno0<span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fileno</span>. <h3>Example</h3>

The following code checks that the file descriptors of the standard input,
the standard output, and the standard error are numbered by default as 0,
1, and 2, respectively:

<pre class="patsyntax patscode_tryit" name="TRYIT/libats_libc_stdio_2.dats"><span class="comment">//</span>
<span class="keyword">staload</span> "libc/SATS/stdio.sats"
<span class="comment">//</span>
<span class="dynexp"><span class="keyword">implement</span>
main <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> assertloc <span class="keyword">(</span>fileno0 <span class="keyword">(</span>stdin_ref<span class="keyword">)</span> <span class="keyword">=</span> <span class="dynexp">0</span><span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> assertloc <span class="keyword">(</span>fileno0 <span class="keyword">(</span>stdout_ref<span class="keyword">)</span> <span class="keyword">=</span> <span class="dynexp">1</span><span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> assertloc <span class="keyword">(</span>fileno0 <span class="keyword">(</span>stderr_ref<span class="keyword">)</span> <span class="keyword">=</span> <span class="dynexp">2</span><span class="keyword">)</span></span>
<span class="keyword">in</span>
  <span class="dynexp">0</span><span class="comment">(*normal*)</span>
<span class="keyword">end</span></span> <span class="comment">// end of [main]</span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fileno1">fileno1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fileno1<span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fileno</span>. <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fdopen">fdopen</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fdopen
<span class="staexp"><span class="keyword">{</span>fd<span class="keyword">:</span>int<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  fd<span class="keyword">:</span> <span class="staexp">fildes</span><span class="keyword">(</span><span class="staexp">fd</span><span class="keyword">)</span><span class="keyword">,</span> m<span class="keyword">:</span> <span class="staexp">fmode</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp"><span class="keyword">[</span>l<span class="keyword">:</span>agez<span class="keyword">]</span></span> 
<span class="keyword">(</span>
  <span class="staexp">fdopen_v</span><span class="keyword">(</span><span class="staexp">fd</span><span class="keyword">,</span> <span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span> <span class="keyword">|</span> <span class="staexp">ptr</span><span class="keyword">(</span><span class="staexp">l</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span> <span class="comment">// end of [fdopen]</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fdopen_v">fdopen_v</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="keyword">dataview</span>
<span class="staexp">fdopen_v
<span class="keyword">(</span>
  fd<span class="keyword">:</span>int<span class="keyword">,</span> addr<span class="keyword">,</span> m<span class="keyword">:</span> fmode
<span class="keyword">)</span> <span class="keyword">=</span> <span class="comment">(* fdopen_v *)</span>
  <span class="keyword">|</span> <span class="prfexp"><span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>agz<span class="keyword">}</span></span>
    fdopen_v_succ <span class="keyword">(</span><span class="staexp">fd</span><span class="keyword">,</span> <span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span> <span class="keyword">of</span> <span class="staexp">FILE_v</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span></span>
  <span class="keyword">|</span> <span class="prfexp">fdopen_v_fail <span class="keyword">(</span><span class="staexp">fd</span><span class="keyword">,</span> <span class="staexp">null</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span> <span class="keyword">of</span> <span class="staexp">fildes_v</span> <span class="keyword">(</span><span class="staexp">fd</span><span class="keyword">)</span></span></span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fdopen_exn">fdopen_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fdopen_exn
<span class="staexp"><span class="keyword">{</span>fd<span class="keyword">:</span>int<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>fd<span class="keyword">:</span> <span class="staexp">fildes</span> <span class="keyword">(</span><span class="staexp">fd</span><span class="keyword">)</span><span class="keyword">,</span> m<span class="keyword">:</span> <span class="staexp">fmode</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">FILEptr1</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="feof">feof</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> feof <span class="keyword">with</span> feof0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> feof <span class="keyword">with</span> feof1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="feof0">feof0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
feof0 <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">feof</span>. It returns a nonzero if and only if the end-of-file
indicator for the stream associated with its argument is set.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="feof1">feof1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
feof1 <span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">feof</span>. It returns a nonzero if and only if the end-of-file
indicator is set for the stream associated with its argument.

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ferror">ferror</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ferror <span class="keyword">with</span> ferror0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ferror <span class="keyword">with</span> ferror1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ferror0">ferror0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ferror0 <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">ferror</span>. <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ferror1">ferror1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ferror1 <span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">ferror</span>. <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="clearerr">clearerr</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> clearerr <span class="keyword">with</span> clearerr0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> clearerr <span class="keyword">with</span> clearerr1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="clearerr0">clearerr0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
clearerr0
  <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">clearerr</span>. It clears the end-of-file and error indicators for the stream
associated with its argument. 
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="clearerr1">clearerr1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
clearerr1
  <span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">clearerr</span>. It clears the end-of-file and error indicators for the stream
associated with its argument. 
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fflush">fflush</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fflush <span class="keyword">with</span> fflush0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fflush <span class="keyword">with</span> fflush1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fflush0">fflush0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fflush0
  <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fflush1">fflush1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fflush1<span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">fmlte</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">,</span> <span class="staexp">w</span><span class="keyword">)</span></span> <span class="keyword">|</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp"><span class="keyword">[</span>i<span class="keyword">:</span>int <span class="keyword">|</span> i &lt;= 0<span class="keyword">]</span></span> <span class="staexp">int</span><span class="keyword">(</span><span class="staexp">i</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fflush_exn">fflush_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fflush_exn <span class="keyword">with</span> fflush0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fflush0_exn">fflush0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fflush0_exn
  <span class="keyword">(</span>out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetc">fgetc</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgetc <span class="keyword">with</span> fgetc0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgetc <span class="keyword">with</span> fgetc1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetc0">fgetc0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fgetc0
  <span class="keyword">(</span>inp<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fgetc</span>. <h3>Example</h3>

The following code copies chars read from the standard input channel to the
standard output channel:

<pre class="patsyntax patscode_tryit" name="TRYIT/libats_libc_stdio_3.dats"><span class="comment">//</span>
<span class="keyword">staload</span> "libc/SATS/stdio.sats"
<span class="comment">//</span>
<span class="keyword">local</span>

<span class="dynexp"><span class="keyword">fun</span> loop <span class="keyword">(</span>
  inp<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> out<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span>
  <span class="keyword">if</span> feof0 <span class="keyword">(</span>inp<span class="keyword">)</span> <span class="keyword">=</span> <span class="dynexp">0</span> <span class="keyword">then</span> <span class="keyword">let</span>
    <span class="dynexp"><span class="keyword">val</span> _<span class="comment">(*err*)</span> <span class="keyword">=</span> fputc0_int <span class="keyword">(</span>fgetc0 <span class="keyword">(</span>inp<span class="keyword">)</span><span class="keyword">,</span> out<span class="keyword">)</span></span> <span class="keyword">in</span> loop <span class="keyword">(</span>inp<span class="keyword">,</span> out<span class="keyword">)</span>
  <span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">(</span><span class="keyword">)</span></span> <span class="comment">// end of [if]</span>
<span class="comment">// end of [loop]</span>

<span class="keyword">in</span> <span class="comment">// in of [local]</span>

<span class="dynexp"><span class="keyword">implement</span>
main0 <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">{</span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> loop <span class="keyword">(</span>stdin_ref<span class="keyword">,</span> stdout_ref<span class="keyword">)</span></span>
<span class="keyword">}</span></span> <span class="comment">// end of [main]</span>

<span class="keyword">end</span> <span class="comment">// end of [local]</span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetc1">fgetc1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fgetc1 <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">fmlte</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">,</span> <span class="staexp">r</span><span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span></span> <span class="keyword">|</span> inp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">intLte</span> <span class="keyword">(</span><span class="staexp">UCHAR_MAX</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fgetc</span>. <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="getc">getc</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">macdef</span> getc <span class="keyword">=</span> fgetc</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="getchar0">getchar0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
getchar0<span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="getchar1">getchar1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
getchar1<span class="keyword">(</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp"><span class="keyword">[</span>i<span class="keyword">:</span>int<span class="keyword">|</span>i &lt;= UCHAR_MAX<span class="keyword">]</span></span> <span class="staexp">int</span><span class="keyword">(</span><span class="staexp">i</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgets">fgets</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgets <span class="keyword">with</span> fgets0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgets <span class="keyword">with</span> fgets1</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgets <span class="keyword">with</span> fgets1_err</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgets0">fgets0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fgets0
<span class="staexp"><span class="keyword">{</span>sz<span class="keyword">:</span>int<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>n0<span class="keyword">:</span>pos <span class="keyword">|</span> n0 &lt;= sz<span class="keyword">}</span></span>
<span class="keyword">(</span>
  buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">b0ytes</span><span class="keyword">(</span><span class="staexp">sz</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">sz</span><span class="keyword">)</span><span class="keyword">,</span> n0<span class="keyword">:</span> <span class="staexp">int</span> <span class="staexp">n0</span><span class="keyword">,</span> inp<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">Ptr0</span> <span class="keyword">=</span> "mac#%"</span> <span class="comment">// = addr@(buf) or NULL</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fgets</span>. <h3>Example</h3>

The following code copies lines read from the standard input channel to the
standard output channel:

<pre class="patsyntax patscode_tryit" name="TRYIT/libats_libc_stdio_4.dats"><span class="comment">//</span>
<span class="keyword">staload</span>
UN<span class="keyword">=</span>"prelude/SATS/unsafe.sats"
<span class="keyword">staload</span> "libc/SATS/stdio.sats"
<span class="comment">//</span>
<span class="keyword">local</span>

<span class="dynexp"><span class="keyword">fun</span> loop
  <span class="staexp"><span class="keyword">{</span>sz<span class="keyword">:</span>pos<span class="keyword">}</span></span> <span class="keyword">(</span>
  inp<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">,</span> out<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">,</span> buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">sz</span><span class="keyword">)</span><span class="staexp">?</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span>
<span class="keyword">,</span> sz<span class="keyword">:</span> <span class="staexp">int</span> <span class="staexp">sz</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span> <span class="keyword">let</span>
  <span class="dynexp"><span class="keyword">val</span> p <span class="keyword">=</span> fgets0 <span class="keyword">(</span>buf<span class="keyword">,</span> sz<span class="keyword">,</span> inp<span class="keyword">)</span></span>
<span class="keyword">in</span>
  <span class="keyword">if</span> p <span class="keyword">&gt;</span> <span class="dynexp">0</span> <span class="keyword">then</span> <span class="keyword">let</span> <span class="comment">// p=addr@(buf) or NULL</span>
    <span class="dynexp"><span class="keyword">val</span> _<span class="comment">(*err*)</span> <span class="keyword">=</span> fputs0 <span class="keyword">(</span>$UN<span class="keyword">.</span>cast<span class="staexp"><span class="keyword">{</span>string<span class="keyword">}</span></span><span class="keyword">(</span>p<span class="keyword">)</span><span class="keyword">,</span> out<span class="keyword">)</span></span>
  <span class="keyword">in</span>
    loop <span class="keyword">(</span>inp<span class="keyword">,</span> out<span class="keyword">,</span> buf<span class="keyword">,</span> sz<span class="keyword">)</span>
  <span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="comment">// end of [if]</span>
<span class="keyword">end</span></span> <span class="comment">// end of [loop]</span>

<span class="keyword">in</span> <span class="comment">// in of [local]</span>

<span class="dynexp"><span class="keyword">implement</span>
main0 <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">{</span>
  <span class="neuexp"><span class="keyword">#define</span> BUFSZ 1024</span>
  <span class="keyword">var</span> buf <span class="keyword">=</span> <span class="dynexp"><span class="keyword">@[</span>byte<span class="keyword">]</span><span class="keyword">[</span>BUFSZ<span class="keyword">]</span><span class="keyword">(</span><span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> loop <span class="keyword">(</span>stdin_ref<span class="keyword">,</span> stdout_ref<span class="keyword">,</span> buf<span class="keyword">,</span> BUFSZ<span class="keyword">)</span></span>
<span class="keyword">}</span></span> <span class="comment">// end of [main]</span>

<span class="keyword">end</span> <span class="comment">// end of [local]</span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgets1">fgets1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fgets1
<span class="staexp"><span class="keyword">{</span>sz<span class="keyword">:</span>int<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>n0<span class="keyword">:</span>pos <span class="keyword">|</span> n0 &lt;= sz<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pfm<span class="keyword">:</span> <span class="staexp">fmlte</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">,</span> <span class="staexp">r</span><span class="keyword">)</span></span>
<span class="keyword">|</span> buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">b0ytes</span><span class="keyword">(</span><span class="staexp">sz</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">sz</span><span class="keyword">)</span><span class="keyword">,</span> n0<span class="keyword">:</span> <span class="staexp">int</span> <span class="staexp">n0</span><span class="keyword">,</span> inp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">Ptr0</span> <span class="keyword">=</span> "mac#%"</span> <span class="comment">// = addr@(buf) or NULL</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fgets</span>. <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc">fputc</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax"><span class="dynexp"><span class="keyword">overload</span> fputc <span class="keyword">with</span> fputc0_int <span class="keyword">of</span> 0</span>
<span class="dynexp"><span class="keyword">overload</span> fputc <span class="keyword">with</span> fputc0_char <span class="keyword">of</span> 0</span>
<span class="dynexp"><span class="keyword">overload</span> fputc <span class="keyword">with</span> fputc1_int <span class="keyword">of</span> 10</span>
<span class="dynexp"><span class="keyword">overload</span> fputc <span class="keyword">with</span> fputc1_char <span class="keyword">of</span> 10</span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc0_int">fputc0_int</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fputc0_int <span class="keyword">:</span> <span class="staexp">fputc0_type</span> <span class="keyword">(</span><span class="staexp">int</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span> </pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc0_char">fputc0_char</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fputc0_char <span class="keyword">:</span> <span class="staexp">fputc0_type</span> <span class="keyword">(</span><span class="staexp">char</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span> </pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc1_int">fputc1_int</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fputc1_int <span class="keyword">:</span> <span class="staexp">fputc1_type</span> <span class="keyword">(</span><span class="staexp">int</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc1_char">fputc1_char</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fputc1_char <span class="keyword">:</span> <span class="staexp">fputc1_type</span> <span class="keyword">(</span><span class="staexp">char</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc_exn">fputc_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fputc_exn <span class="keyword">with</span> fputc0_exn_int <span class="keyword">of</span> 0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fputc_exn <span class="keyword">with</span> fputc0_exn_char <span class="keyword">of</span> 0</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc0_exn_int">fputc0_exn_int</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fputc0_exn_int <span class="keyword">:</span> <span class="staexp">fputc0_exn_type</span> <span class="keyword">(</span><span class="staexp">int</span><span class="keyword">)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputc0_exn_char">fputc0_exn_char</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fputc0_exn_char <span class="keyword">:</span> <span class="staexp">fputc0_exn_type</span> <span class="keyword">(</span><span class="staexp">char</span><span class="keyword">)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="putc">putc</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">macdef</span> putc <span class="keyword">=</span> fputc</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="putchar0">putchar0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
putchar0 <span class="keyword">(</span>c<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="putchar1">putchar1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
putchar1
  <span class="keyword">(</span>c<span class="keyword">:</span> <span class="staexp">int</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp"><span class="keyword">[</span>i<span class="keyword">:</span>int<span class="keyword">|</span>i &lt;= UCHAR_MAX<span class="keyword">]</span></span> <span class="staexp">int</span><span class="keyword">(</span><span class="staexp">i</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputs">fputs</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fputs <span class="keyword">with</span> fputs0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fputs <span class="keyword">with</span> fputs1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputs0">fputs0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fputs0
<span class="keyword">(</span>
  str<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> fil<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fputs</span>.  <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputs1">fputs1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fputs1<span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pf<span class="keyword">:</span> <span class="staexp">fmlte</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">,</span> <span class="staexp">w</span><span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span></span> <span class="keyword">|</span> str<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">fputs</span>.  <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputs_exn">fputs_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fputs_exn <span class="keyword">with</span> fputs0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fputs0_exn">fputs0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fputs0_exn
  <span class="keyword">(</span>str<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> fil<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="puts">puts</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
puts<span class="keyword">(</span>inp<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">puts</span>.  Note that a call to this function puts a trailing
newline after its argument.
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="puts_exn">puts_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
puts_exn<span class="keyword">(</span>inp<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<h3>Description</h3>

This function is a slight variant of <span class="patsyntaxdynexp">puts</span>: It exits
immediately if calling <span class="patsyntaxdynexp">puts</span> leads to an error.  <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fread">fread</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fread <span class="keyword">with</span> fread0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fread <span class="keyword">with</span> fread1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fread0">fread0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fread0 <span class="comment">// [isz]: the size of each item</span>
  <span class="staexp"><span class="keyword">{</span>isz<span class="keyword">:</span>pos<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>nbf<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>int <span class="keyword">|</span> n*isz &lt;= nbf<span class="keyword">}</span></span>
<span class="keyword">(</span>
  buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">nbf</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span>
<span class="keyword">,</span> isz<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">isz</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n</span>
<span class="keyword">,</span> inp<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="comment">(*none*)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">sizeLte</span> <span class="staexp">n</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fread1">fread1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fread1 <span class="comment">// [isz]: the size of each item</span>
  <span class="staexp"><span class="keyword">{</span>isz<span class="keyword">:</span>pos<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>nbf<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>int <span class="keyword">|</span> n*isz &lt;= nbf<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pfm<span class="keyword">:</span> <span class="staexp">fmlte</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">,</span> <span class="staexp">r</span><span class="keyword">)</span></span>
<span class="keyword">|</span> buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">nbf</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span>
<span class="keyword">,</span> isz<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">isz</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n</span>
<span class="keyword">,</span> inp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">sizeLte</span> <span class="staexp">n</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fread_exn">fread_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fread_exn <span class="keyword">with</span> fread0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fread0_exn">fread0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fread0_exn <span class="comment">// [isz]: the size of each item</span>
<span class="staexp"><span class="keyword">{</span>isz<span class="keyword">:</span>pos<span class="keyword">}</span></span>
<span class="staexp"><span class="keyword">{</span>nbf<span class="keyword">:</span>int<span class="keyword">}</span></span>
<span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>int <span class="keyword">|</span> n*isz &lt;= nbf<span class="keyword">}</span></span>
<span class="keyword">(</span>
  buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">nbf</span><span class="keyword">)</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">,</span> isz<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">isz</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n</span><span class="keyword">,</span> inp<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">sizeLte</span> <span class="staexp">n</span> <span class="keyword">=</span> "ext#%"</span> <span class="comment">// endfun</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fwrite">fwrite</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fwrite <span class="keyword">with</span> fwrite0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fwrite <span class="keyword">with</span> fwrite1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fwrite0">fwrite0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fwrite0 <span class="comment">// [isz]: the size of each item</span>
  <span class="staexp"><span class="keyword">{</span>isz<span class="keyword">:</span>pos<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>nbf<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>int <span class="keyword">|</span> n*isz &lt;= nbf<span class="keyword">}</span></span>
<span class="keyword">(</span>
  buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">RD</span><span class="keyword">(</span><span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">nbf</span><span class="keyword">)</span><span class="keyword">)</span>
<span class="keyword">,</span> isz<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">isz</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n</span>
<span class="keyword">,</span> out<span class="keyword">:</span> <span class="staexp">FILEref</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">sizeLte</span> <span class="keyword">(</span><span class="staexp">n</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fwrite1">fwrite1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fwrite1 <span class="comment">// [isz]: the size of each item</span>
  <span class="staexp"><span class="keyword">{</span>isz<span class="keyword">:</span>pos<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>nbf<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>int <span class="keyword">|</span> n*isz &lt;= nbf<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pfm<span class="keyword">:</span> <span class="staexp">fmlte</span><span class="keyword">(</span><span class="staexp">m</span><span class="keyword">,</span> <span class="staexp">w</span><span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span></span>
<span class="keyword">|</span> buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">RD</span><span class="keyword">(</span><span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">nbf</span><span class="keyword">)</span><span class="keyword">)</span>
<span class="keyword">,</span> isz<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">isz</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n</span>
<span class="keyword">,</span> out<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">sizeLte</span> <span class="keyword">(</span><span class="staexp">n</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fwrite_exn">fwrite_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fwrite_exn <span class="keyword">with</span> fwrite0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fwrite0_exn">fwrite0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fwrite0_exn <span class="comment">// [isz]: the size of each item</span>
  <span class="staexp"><span class="keyword">{</span>isz<span class="keyword">:</span>pos<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>nbf<span class="keyword">:</span>int<span class="keyword">}</span></span>
  <span class="staexp"><span class="keyword">{</span>n<span class="keyword">:</span>int <span class="keyword">|</span> n*isz &lt;= nbf<span class="keyword">}</span></span>
<span class="keyword">(</span>
  buf<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">RD</span><span class="keyword">(</span><span class="staexp">bytes</span><span class="keyword">(</span><span class="staexp">nbf</span><span class="keyword">)</span><span class="keyword">)</span>
<span class="keyword">,</span> isz<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">isz</span><span class="keyword">,</span> n<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n</span>
<span class="keyword">,</span> out<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="comment">(*none*)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">sizeLte</span> <span class="keyword">(</span><span class="staexp">n</span><span class="keyword">)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetpos">fgetpos</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgetpos <span class="keyword">with</span> fgetpos0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgetpos <span class="keyword">with</span> fgetpos1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetpos0">fgetpos0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fgetpos0
<span class="keyword">(</span>
  filp<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> pos<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">fpos_t</span><span class="staexp">?</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">opt</span> <span class="keyword">(</span><span class="staexp">fpos_t</span><span class="keyword">,</span> <span class="staexp">i</span><span class="staexp">==</span><span class="staexp">0</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp"><span class="keyword">#[</span>i<span class="keyword">:</span>int <span class="keyword">|</span> i &lt;= 0<span class="keyword">]</span></span> <span class="staexp">int</span> <span class="keyword">(</span><span class="staexp">i</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetpos1">fgetpos1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> fgetpos1
<span class="keyword">(</span>
  filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="keyword">,</span> pos<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">fpos_t</span><span class="staexp">?</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">opt</span> <span class="keyword">(</span><span class="staexp">fpos_t</span><span class="keyword">,</span> <span class="staexp">i</span><span class="staexp">==</span><span class="staexp">0</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp"><span class="keyword">#[</span>i<span class="keyword">:</span>int <span class="keyword">|</span> i &lt;= 0<span class="keyword">]</span></span> <span class="staexp">int</span> <span class="keyword">(</span><span class="staexp">i</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetpos_exn">fgetpos_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fgetpos_exn <span class="keyword">with</span> fgetpos0_exn</span> </pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fgetpos0_exn">fgetpos0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fgetpos0_exn 
  <span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> pos<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">fpos_t</span><span class="staexp">?</span> <span class="staexp">&gt;&gt;</span> <span class="staexp">_</span><span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fsetpos">fsetpos</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fsetpos <span class="keyword">with</span> fsetpos0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fsetpos <span class="keyword">with</span> fsetpos1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fsetpos0">fsetpos0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fsetpos0
<span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="comment">(*none*)</span><span class="keyword">,</span> pos<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">RD</span><span class="keyword">(</span><span class="staexp">fpos_t</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fsetpos1">fsetpos1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fsetpos1
<span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">,</span> pos<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">RD</span><span class="keyword">(</span><span class="staexp">fpos_t</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fsetpos_exn">fsetpos_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fsetpos_exn <span class="keyword">with</span> fsetpos0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fsetpos0_exn">fsetpos0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fsetpos0_exn
<span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="comment">(*none*)</span><span class="keyword">,</span> pos<span class="keyword">:</span> <span class="staexp">&amp;</span><span class="staexp">RD</span><span class="keyword">(</span><span class="staexp">fpos_t</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fseek">fseek</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fseek <span class="keyword">with</span> fseek0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fseek <span class="keyword">with</span> fseek1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fseek0">fseek0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fseek0
<span class="keyword">(</span>
  filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> offset<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">,</span> whence<span class="keyword">:</span> <span class="staexp">whence</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fseek1">fseek1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fseek1
<span class="keyword">(</span>
  filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="keyword">,</span> offset<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">,</span> whence<span class="keyword">:</span> <span class="staexp">whence</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fseek_exn">fseek_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> fseek_exn <span class="keyword">with</span> fseek0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="fseek0_exn">fseek0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
fseek0_exn
<span class="keyword">(</span>
  filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> offset<span class="keyword">:</span> <span class="staexp">lint</span><span class="keyword">,</span> whence<span class="keyword">:</span> <span class="staexp">whence</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ftell">ftell</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ftell <span class="keyword">with</span> ftell0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ftell <span class="keyword">with</span> ftell1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ftell0">ftell0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ftell0
  <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">lint</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ftell1">ftell1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ftell1
  <span class="keyword">(</span>filp<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">lint</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ftell_exn">ftell_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ftell_exn <span class="keyword">with</span> ftell0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ftell0_exn">ftell0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ftell0_exn
  <span class="keyword">(</span>filr<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">lint</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="perror">perror</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
perror
  <span class="keyword">(</span>msg<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the same name.
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="remove">remove</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
remove
  <span class="keyword">(</span>inp<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">remove</span>.  <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="remove_exn">remove_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
remove_exn
  <span class="keyword">(</span>inp<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<h3>Description</h3>

This function is a slight variant of <span class="patsyntaxdynexp">remove</span>: It exits
immediately if calling <span class="patsyntaxdynexp">remove</span> leads to an error.  <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="rename">rename</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> rename
<span class="keyword">(</span>
  oldpath<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> newpath<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span> <span class="comment">// end of [fun]</span></pre>
<h3>Description</h3>

This function directly corresponds to the libc-function of the name
<span class="patsyntaxdynexp">rename</span>.  <hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="rename_exn">rename_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span> rename_exn
<span class="keyword">(</span>
  oldpath<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span><span class="keyword">,</span> newpath<span class="keyword">:</span> <span class="staexp">NSH</span><span class="keyword">(</span><span class="staexp">string</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span> <span class="comment">// end of [fun]</span></pre>
<h3>Description</h3>

This function is a slight variant of <span class="patsyntaxdynexp">rename</span>: It exits
immediately if calling <span class="patsyntaxdynexp">rename</span> leads to an error.  <h3>Example</h3>

The following code opens a file handle for a file named foo.txt, writes
into it the string "Hello, world!" plus a newline, closes the file handle,
and then renames the file as foo2.txt:

<pre class="patsyntax patscode_tryit" name="TRYIT/libats_libc_stdio_5.dats"><span class="comment">//</span>
<span class="keyword">staload</span> "libc/SATS/stdio.sats"
<span class="comment">//</span>
<span class="dynexp"><span class="keyword">implement</span>
main0 <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> <span class="keyword">{</span>
  <span class="dynexp"><span class="keyword">val</span> out <span class="keyword">=</span>
    fopen_ref_exn <span class="keyword">(</span><span class="dynstr">"foo.txt"</span><span class="keyword">,</span> file_mode_w<span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> fputs0_exn <span class="keyword">(</span><span class="dynstr">"Hello, world!\n"</span><span class="keyword">,</span> out<span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> fclose0_exn <span class="keyword">(</span>out<span class="keyword">)</span></span>
  <span class="dynexp"><span class="keyword">val</span> <span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">=</span> rename_exn <span class="keyword">(</span><span class="dynstr">"foo.txt"</span><span class="keyword">,</span> <span class="dynstr">"foo2.txt"</span><span class="keyword">)</span></span>
<span class="keyword">}</span></span> <span class="comment">// end of [main]</span>
</pre>

<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="rewind">rewind</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> rewind <span class="keyword">with</span> rewind0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> rewind <span class="keyword">with</span> rewind1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="rewind0">rewind0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
rewind0
  <span class="keyword">(</span>fil<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="rewind1">rewind1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
rewind1
  <span class="keyword">(</span>fil<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="tmpfile">tmpfile</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
tmpfile<span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">FILEptr0</span> <span class="keyword">(</span><span class="staexp">rw</span><span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="tmpfile_exn">tmpfile_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
tmpfile_exn<span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">FILEptr1</span> <span class="keyword">(</span><span class="staexp">rw</span><span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="tmpfile_ref_exn">tmpfile_ref_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
tmpfile_ref_exn<span class="keyword">(</span><span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">FILEref</span><span class="comment">(*none*)</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ungetc">ungetc</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ungetc <span class="keyword">with</span> ungetc0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ungetc <span class="keyword">with</span> ungetc1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ungetc0">ungetc0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ungetc0
  <span class="keyword">(</span>c<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">,</span> f<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ungetc1">ungetc1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ungetc1
  <span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>agz<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>m<span class="keyword">:</span>fm<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pfm<span class="keyword">:</span> <span class="staexp">fmlte</span> <span class="keyword">(</span><span class="staexp">m</span><span class="keyword">,</span> <span class="staexp">rw</span><span class="keyword">(</span><span class="keyword">)</span><span class="keyword">)</span></span> <span class="keyword">|</span> c<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">,</span> f<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr</span> <span class="keyword">(</span><span class="staexp">l</span><span class="keyword">,</span> <span class="staexp">m</span><span class="keyword">)</span>
<span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">wrt</span><span class="keyword">&gt;</span> <span class="staexp"><span class="keyword">[</span>i<span class="keyword">:</span>int <span class="keyword">|</span> i &lt;= UCHAR_MAX<span class="keyword">]</span></span> <span class="staexp">int</span> <span class="keyword">(</span><span class="staexp">i</span><span class="keyword">)</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ungetc_exn">ungetc_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> ungetc_exn <span class="keyword">with</span> ungetc0_exn</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="ungetc0_exn">ungetc0_exn</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
ungetc0_exn
  <span class="keyword">(</span>c<span class="keyword">:</span> <span class="staexp">char</span><span class="keyword">,</span> f<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span> <span class="keyword">:&lt;</span><span class="keyword">!</span><span class="staexp">exnwrt</span><span class="keyword">&gt;</span> <span class="staexp">void</span> <span class="keyword">=</span> "ext#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="bufmode_t">bufmode_t</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="staexp"><span class="keyword">abst@ype</span> bufmode_t <span class="keyword">=</span> int</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="_IOFBF">_IOFBF</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">macdef</span> _IOFBF <span class="keyword">=</span> <span class="dynexp"><span class="keyword">$extval</span><span class="keyword">(</span>bufmode_t<span class="keyword">,</span> "_IOFBF"<span class="keyword">)</span></span></span> <span class="comment">// fully buffered</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="_IOLBF">_IOLBF</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">macdef</span> _IOLBF <span class="keyword">=</span> <span class="dynexp"><span class="keyword">$extval</span><span class="keyword">(</span>bufmode_t<span class="keyword">,</span> "_IOLBF"<span class="keyword">)</span></span></span> <span class="comment">// buffered by line</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="_IONBF">_IONBF</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">macdef</span> _IONBF <span class="keyword">=</span> <span class="dynexp"><span class="keyword">$extval</span><span class="keyword">(</span>bufmode_t<span class="keyword">,</span> "_IONBF"<span class="keyword">)</span></span></span> <span class="comment">// there is no buffering</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setbuf_null">setbuf_null</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setbuf_null <span class="keyword">with</span> setbuf0_null</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setbuf_null <span class="keyword">with</span> setbuf1_null</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setbuf0_null">setbuf0_null</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setbuf0_null
  <span class="keyword">(</span>f<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setbuf1_null">setbuf1_null</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setbuf1_null
  <span class="keyword">(</span>f<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setbuffer">setbuffer</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setbuffer <span class="keyword">with</span> setbuffer0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setbuffer <span class="keyword">with</span> setbuffer1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setbuffer0">setbuffer0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setbuffer0
<span class="staexp"><span class="keyword">{</span>n1<span class="keyword">,</span>n2<span class="keyword">:</span>nat <span class="keyword">|</span> n2 &lt;= n1<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>l<span class="keyword">:</span>addr<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pf_buf<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">b0ytes</span> <span class="staexp">n1</span> <span class="staexp"><span class="keyword">@</span></span> <span class="staexp">l</span></span> <span class="keyword">|</span> f<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> p_buf<span class="keyword">:</span> <span class="staexp">ptr</span> <span class="staexp">l</span><span class="keyword">,</span> n2<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n2</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setbuffer1">setbuffer1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setbuffer1
<span class="staexp"><span class="keyword">{</span>n1<span class="keyword">,</span>n2<span class="keyword">:</span>nat <span class="keyword">|</span> n2 &lt;= n1<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>lbf<span class="keyword">:</span>addr<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pf_buf<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">b0ytes</span> <span class="staexp">n1</span> <span class="staexp"><span class="keyword">@</span></span> <span class="staexp">lbf</span></span> <span class="keyword">|</span> f<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">,</span> p_buf<span class="keyword">:</span> <span class="staexp">ptr</span> <span class="staexp">lbf</span><span class="keyword">,</span> n2<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n2</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setlinebuf">setlinebuf</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setlinebuf <span class="keyword">with</span> setlinebuf0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setlinebuf <span class="keyword">with</span> setlinebuf1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setlinebuf0">setlinebuf0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setlinebuf0
  <span class="keyword">(</span>f<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setlinebuf1">setlinebuf1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setlinebuf1
  <span class="keyword">(</span>f<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">void</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setvbuf">setvbuf</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setvbuf <span class="keyword">with</span> setvbuf0</span></pre>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">overload</span> setvbuf <span class="keyword">with</span> setvbuf1</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setvbuf0">setvbuf0</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setvbuf0
<span class="staexp"><span class="keyword">{</span>n1<span class="keyword">,</span>n2<span class="keyword">:</span>nat <span class="keyword">|</span> n2 &lt;= n1<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>lbf<span class="keyword">:</span>addr<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pf_buf<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">b0ytes</span><span class="keyword">(</span><span class="staexp">n1</span><span class="keyword">)</span> <span class="staexp"><span class="keyword">@</span></span> <span class="staexp">lbf</span></span>
<span class="keyword">|</span> fil<span class="keyword">:</span> <span class="staexp">FILEref</span><span class="keyword">,</span> mode<span class="keyword">:</span> <span class="staexp">bufmode_t</span><span class="keyword">,</span> n2<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n2</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>
<hr style="background-color: #E0E0E0; height: 1px;"></hr>
<h2><a id="setvbuf1">setvbuf1</a></h2>
<h3>Synopsis</h3>
<pre class="patsyntax">
<span class="dynexp"><span class="keyword">fun</span>
setvbuf1
<span class="staexp"><span class="keyword">{</span>n1<span class="keyword">,</span>n2<span class="keyword">:</span>nat <span class="keyword">|</span> n2 &lt;= n1<span class="keyword">}</span></span><span class="staexp"><span class="keyword">{</span>lbf<span class="keyword">:</span>addr<span class="keyword">}</span></span>
<span class="keyword">(</span>
  <span class="prfexp">pf_buf<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">b0ytes</span><span class="keyword">(</span><span class="staexp">n1</span><span class="keyword">)</span> <span class="staexp"><span class="keyword">@</span></span> <span class="staexp">lbf</span></span>
<span class="keyword">|</span> fil<span class="keyword">:</span> <span class="staexp"><span class="keyword">!</span></span><span class="staexp">FILEptr1</span><span class="comment">(*none*)</span><span class="keyword">,</span> mode<span class="keyword">:</span> <span class="staexp">bufmode_t</span><span class="keyword">,</span> n2<span class="keyword">:</span> <span class="staexp">size_t</span> <span class="staexp">n2</span>
<span class="keyword">)</span> <span class="keyword">:</span> <span class="staexp">int</span> <span class="keyword">=</span> "mac#%"</span></pre>


<hr style="background-color: #E0E0E0; height: 2px;"></hr>

<table>
<tr>
<td style="width: 100%;">
This page is created with
<a href="http://www.ats-lang.org">ATS</a>
by
<a href="http://www.cs.bu.edu/~hwxi/">Hongwei Xi</a>
and also maintained by
<a href="http://www.cs.bu.edu/~hwxi/">Hongwei Xi</a>.
</td>
<td style="width: 0%;"><!--pushed to the right-->
<a href="http://sourceforge.net">
<img
src="http://sflogo.sourceforge.net/sflogo.php?group_id=205722&amp;type=2"
width="120"
height="36"
alt="SourceForge.net Logo"
/>
</a>
</td>
</tr>
</table>


</body>
</html>

