<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>文件扩展名</TITLE
><META
CHARSET="UTF-8"
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="A Tutorial on Programming Features in ATS"
HREF="book1.html"><LINK
REL="UP"
TITLE="基础教程部分"
HREF="p33.html"><LINK
REL="PREVIOUS"
TITLE="语法着色"
HREF="c35.html"><LINK
REL="NEXT"
TITLE="ATS代码中的文件包含"
HREF="c75.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="./assets/ATS2TUTORIAL-BOOK.css"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>A Tutorial on Programming Features in ATS: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c35.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c75.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="filename_extensions"
></A
>Chapter 2. 文件扩展名</H1
><P
>&#13;ATS的文件扩展名<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>.sats</I
></SPAN
>和<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>.dats</I
></SPAN
>分别表示静态和动
态文件，这两种扩展名对于相应的文件附加有一些特殊的意义，这些意义可以被
命令atscc解释，而且扩展名不得随意更换。

</P
><P
>&#13;一个静态文件里可能包含排序定义、数据排序声、静态定义、抽象类型的声明、
异常声明、数据类型声明、宏定义、动态值和函数的接口等。
在功能方面，ATS中的一个静态文件有点类似于C语言中的一个头文件（带有扩展
名<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>.h</I
></SPAN
>）或者OCaml中的一个接口文件（带有扩展名<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>.mli</I
></SPAN
>）

</P
><P
>&#13;一个动态文件可能包含一个静态文件的所有内容。此外，它还可能包含动态值和
函数定义。然而动态文件中函数和值的接口应该跟在关键词extern后面，然而在
一个静态文件若已声明了该接口时则不应该再出现上述接口。例如，下面语法在
一个静态文件中为一个名为<FONT
COLOR="RED"
>pi</FONT
>的值和一个名为
<FONT
COLOR="RED"
>area_of_circle</FONT
>的函数声明了接口（类型）：

<DIV
CLASS="informalexample"
><P
></P
><A
NAME="AEN68"
></A
><PRE
CLASS="programlisting"
><p class="patsyntax"><span class="dynexp"><span class="keyword">val</span> pi <span class="keyword">:</span> <span class="staexp">double</span></span>
<span class="dynexp"><span class="keyword">fun</span> area_of_circle <span class="keyword">(</span>radius<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">double</span></span>
</p></PRE
><P
></P
></DIV
>


当在一个动态文件中声明了同一个接口，需要使用如下有少许不同的语法：

<DIV
CLASS="informalexample"
><P
></P
><A
NAME="AEN70"
></A
><PRE
CLASS="programlisting"
><p class="patsyntax"><span class="keyword">extern</span> <span class="dynexp"><span class="keyword">val</span> pi <span class="keyword">:</span> <span class="staexp">double</span></span>
<span class="keyword">extern</span> <span class="dynexp"><span class="keyword">fun</span> area_of_circle <span class="keyword">(</span>radius<span class="keyword">:</span> <span class="staexp">double</span><span class="keyword">)</span><span class="keyword">:</span> <span class="staexp">double</span></span>
</p></PRE
><P
></P
></DIV
>


请注意，静态文件本质上是动态文件一种特殊情况，动态文件完全有可能替换静态文件。

</P
><P
>&#13;作为一个惯例，我们经常使用文件扩展名<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>.cats</I
></SPAN
>表明该文件包含一
些C代码，其可以某种方式和ATS代码结合。还有文件扩展名
<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>.hats</I
></SPAN
>，我们偶尔用它来表示一个要被包含到另一个ATS文件代码
中的文件。然而，这两种文件扩展名并不是强制性的，如果需要，可以被替换。

</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c35.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c75.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>语法着色</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="p33.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ATS代码中的文件包含</TD
></TR
></TABLE
></DIV
><SCRIPT SRC="./assets/ATS2TUTORIAL-BOOK.js"></SCRIPT></BODY
></HTML
>